{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4241","webpack:///./src/components/QuestionIframe.vue?70f8","webpack:///./src/components/Question.vue?19f2","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?1b9e","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/components/List.vue?2900","webpack:///./src/components/questions/configure.js","webpack:///./src/components/questions/templates.js","webpack:///./src/lib/CanvasTools.js","webpack:///./src/components/questions/answers/BaseComponents.js","webpack:///./src/components/questions/answers/Ans1.js","webpack:///./src/components/questions/answers/Ans2.js","webpack:///./src/components/questions/answers/Ans3.js","webpack:///./src/components/questions/answers/Ans4.js","webpack:///./src/components/questions/answers/Ans5.js","webpack:///./src/components/questions/answers/Ans6.js","webpack:///./src/components/questions/answers/Ans7.js","webpack:///./src/components/questions/answers/Ans8.js","webpack:///./src/components/questions/answers/Ans9.js","webpack:///./src/components/questions/answers/Ans10.js","webpack:///./src/components/questions/answers/Ans11.js","webpack:///./src/components/questions/answers/Ans12.js","webpack:///./src/components/questions/answers/Ans13.js","webpack:///./src/components/questions/answers/Ans14.js","webpack:///./src/components/questions/answers/Ans15.js","webpack:///./src/components/questions/answers/Ans16.js","webpack:///./src/components/questions/answers/Ans17.js","webpack:///./src/components/questions/answers/Ans18.js","webpack:///./src/components/questions/answers/Ans20.js","webpack:///./src/components/questions/answers/Ans21.js","webpack:///./src/components/questions/answers/Ans22.js","webpack:///./src/components/questions/answers/Ans23.js","webpack:///./src/components/questions/answers/Ans24.js","webpack:///./src/components/questions/answers/Ans25.js","webpack:///./src/components/questions/answers/Ans26.js","webpack:///./src/components/questions/answers/Ans27.js","webpack:///./src/components/questions/answers/Ans28.js","webpack:///./src/components/questions/answers/Ans29.js","webpack:///./src/components/questions/answers/Ans30.js","webpack:///./src/components/questions/answers/Ans31.js","webpack:///./src/components/questions/answers/Ans32.js","webpack:///./src/components/questions/answers/Ans33.js","webpack:///./src/components/questions/answers/Ans34.js","webpack:///./src/components/questions/answers/Ans35.js","webpack:///./src/components/questions/answers/Ans36.js","webpack:///./src/components/questions/answers/Ans37.js","webpack:///./src/components/questions/answers/Ans38.js","webpack:///./src/components/questions/answers/Ans39.js","webpack:///./src/components/questions/answers/Ans40.js","webpack:///./src/components/questions/answers/Ans41.js","webpack:///./src/components/questions/answers/Ans42.js","webpack:///./src/components/questions/answers/Ans43.js","webpack:///./src/components/questions/answers/Ans44.js","webpack:///./src/components/questions/answers/Ans47.js","webpack:///./src/components/questions/answers/Ans48.js","webpack:///./src/components/questions/answers/Ans49.js","webpack:///./src/components/questions/answers/Ans50.js","webpack:///./src/components/questions/answers/Ans51.js","webpack:///./src/components/questions/answers/Ans52.js","webpack:///./src/components/questions/answers/Ans53.js","webpack:///./src/components/questions/answers/Ans54.js","webpack:///./src/components/questions/answers/Ans55.js","webpack:///./src/components/questions/answers/Ans56.js","webpack:///./src/components/questions/answers/Ans57.js","webpack:///./src/components/questions/answers/Ans58.js","webpack:///./src/components/questions/answers/Ans59.js","webpack:///./src/components/questions/answers/Ans60.js","webpack:///./src/components/questions/answers/Ans61.js","webpack:///./src/components/questions/answers/Ans62.js","webpack:///./src/components/questions/answers/Ans63.js","webpack:///./src/components/questions/answers/Ans64.js","webpack:///./src/components/questions/answers/Ans65.js","webpack:///./src/components/questions/answers/Ans70.js","webpack:///./src/components/questions/answers/Ans71.js","webpack:///./src/components/questions/answers/Ans72.js","webpack:///./src/components/questions/answers/Ans73.js","webpack:///./src/components/questions/answers/Ans74.js","webpack:///./src/components/questions/answers/Ans75.js","webpack:///./src/components/questions/answers/Ans76.js","webpack:///./src/components/questions/answers/Ans77.js","webpack:///./src/components/questions/answers/Ans78.js","webpack:///./src/components/questions/answers/Ans79.js","webpack:///./src/components/questions/answers/Ans80.js","webpack:///./src/components/questions/answers/Ans81.js","webpack:///./src/components/questions/answers/Ans82.js","webpack:///./src/components/questions/answers/Ans83.js","webpack:///./src/components/questions/answers/Ans84.js","webpack:///./src/components/questions/answers/Ans85.js","webpack:///./src/components/questions/answers/Ans86.js","webpack:///./src/components/questions/component.js","webpack:///./src/components/questions/description.js","webpack:///./src/router/questions.js","webpack:///./src/components/QuestionList.vue?7122","webpack:///src/components/QuestionList.vue","webpack:///./src/components/QuestionList.vue?298a","webpack:///./src/components/QuestionList.vue?cfbf","webpack:///src/components/List.vue","webpack:///./src/components/List.vue?1f13","webpack:///./src/components/List.vue?1f88","webpack:///./src/components/Root.vue?6326","webpack:///src/components/Root.vue","webpack:///./src/components/Root.vue?ed7d","webpack:///./src/components/Root.vue?0ef5","webpack:///./src/components/Question.vue?3059","webpack:///src/components/Question.vue","webpack:///./src/components/Question.vue?caa4","webpack:///./src/components/Question.vue?044b","webpack:///./src/components/QuestionIframe.vue?e552","webpack:///src/components/QuestionIframe.vue","webpack:///./src/components/QuestionIframe.vue?8d12","webpack:///./src/components/QuestionIframe.vue?110b","webpack:///./src/router/questionsIframe.js","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/Root.vue?d190","webpack:///./src/components/List.vue?10ef","webpack:///./src/components/QuestionList.vue?7750"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_QuestionIframe_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_QuestionIframe_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Question_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Question_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","map","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-SG","./en-SG.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it-ch","./it-ch.js","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","render","_vm","this","_h","$createElement","_c","_self","attrs","_m","_e","to","_v","staticRenderFns","staticClass","href","Appvue_type_script_lang_js_","header","footer","methods","iframeInit","test","location","watch","$route","from","path","created","mounted","src_Appvue_type_script_lang_js_","component","componentNormalizer","App","Listvue_type_template_id_1ffb23fc_scoped_true_render","Listvue_type_template_id_1ffb23fc_scoped_true_staticRenderFns","imagesPath","datasetPath","srcImage","default","noise","dark","gamma","thorino","imori_part","lenna","seg","renketsu","gazo","dataset","tests","train","configure","srcImageOption","label","src","seq","BlankTemplate","OneCanvasTemplate","DefaultTemplate","ThreeCanvasTemplate","FourCanvasTemplate","canvas","image","addEventListener","width","height","getContext","drawImage","labels","Array","fill","Chart","type","datasets","backgroundColor","options","title","display","text","scales","yAxes","ticks","suggestedMin","animation","duration","BasePagesComponent","classCallCheck","self","dom","template","msg","escape","arguments","undefined","clear","$refs","innerHTML","OneCanvasComponent","_BasePagesComponent","_this","possibleConstructorReturn","getPrototypeOf","assertThisInitialized","inherits","createClass","_this2","kSize","main","url","set","BaseTwoCanvasComponent","_BasePagesComponent2","_this3","setSrcImage","config","_this4","canvas1","canvas2","button","Image","imageUrl","CanvasUtility","BaseThreeCanvasComponent","_BasePagesComponent3","_this5","_this6","canvas3","BaseFourCanvasComponent","_BasePagesComponent4","_this7","_this8","canvas4","HistogramComponent","_BaseTwoCanvasCompone","_this9","_this10","canvasSrc","graph","renderChart","renderHistogram","ThreeCanvasHistogramComponent","_HistogramComponent","_this11","_this12","ctx","getImageData","dst","createImageData","putImageData","y","parse_int_default","THRESHOLD","grayscale","g","b","threshold","v","histgram","max","w1","w2","sum1","sum2","m1","m2","tmp","rgb","Math","min","diff","h","hsv","hp","x","abs","_ref","floor","rgb2hsv","hsv2rgb","thresholds","neer","max_safe_integer_default","a","_j","w","dx","dy","blurColor","ceil","getIndex","channel","gaussian","sigma","exp","pow","kernelSize","kernel","from_default","_x","_y","sqrt","PI","k","_i","sort","sum","reduce","prev","current","verticalKernel","sideKernel","diffFilter","toInt8","sovelFilter","prewittFilter","laplacianFilter","logFilter","pixelValues","dMax","dMin","vMin","vMax","trans","m0","s0","std","array","average","previous","difference","grayScaleArr","zMax","S","hSum","getDstIndex","getSrcIndex","scale","getWeight","t1","t2","range","_loop","rangeX","rangeY","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","ry","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","rx","weight","err","return","tx","ty","H","scaleX","scaleY","H1","H2","_H","math","inv","calcHomography","deg","rad","cos","sin","_calcHomography$map","_calcHomography$map2","slicedToArray","cx","cy","H3","Hx","ctx1","ctx2","ctx3","src1","dst1","dst2","dst3","color","_this$dft2d","dft2d","_this$dft2d2","Re","Im","idft2d","imgWidth","imgHeight","W","wx0","wy0","u","uvIdx","xyIdx","lpf","arr","idx","hpf","bpf","rMin","rMax","condition1","condition2","T","K","freq","dct2d","idct2d","theta","yi","xi","cu","cv","psnr","showMessage","stringify_default","bitrate","mse","ans","log10","Q","getQuantum","yj","xj","dotDivide","row","round","dotMultiply","rgb2ycc","ycc2rgb","cr","cb","_rgb2ycc","_rgb2ycc2","srcY","srcCr","srcCb","dctY","getQuantum1","dstY","dctCr","getQuantum2","dstCr","dctCb","dstCb","forEach","gaussianKernel","getGaussianKernel","KSV","KSH","gray","fx","fy","edge","angle","adaptKernel","atan","srcIdx","dstIdx","nonMaximumSuppression","getIdx","dx1","dy1","dx2","dy2","HT","LT","out","histeresisThreshold","_idx","_this$hough","hough","_this$hough2","dstWidth","dstHeight","dtheta","radMax","rhoMax","rho","bin","mor1","mor2","callback","mor","cannyEdge","erode","dilate","morphologyTime","onload","src2","_this$templateMatchin","templateMatchingSSD","_this$templateMatchin2","strokeStyle","rect","stroke","tW","tH","getTplIndex","resultX","resultY","idx1","idx2","templateMatchingSAD","templateMatchingNCC","A","B","C","onloadFunction","templateMatchingZNCC","getRandInt","random","_this$rasterScan","rasterScan","_this$rasterScan2","lut","nabelLength","colors","count","c3","c5","_vs","vs","minv","flag","c2","c4","imori","image1","image2","links","findLinks","_tmp","judge","tmp2","_tmp2","arr1","arr2","s1","s2","f1","f2","bilinear","srcWidth","srcHeight","bil","toDataURL","concat","add","pyramid","toConsumableArray","_default","lambda","psi","gabor","px","py","sumGabor","minGabor","maxGabor","angles","arg","getGaborKernel","sobely","sobelx","Ix","Iy","Ix2","Iy2","IxIy","hes","beginPath","fillStyle","arc","norm","gKernel","_Array$from","_Array$from2","Ix2t","Iy2t","Ixyt","obj","th","M","basename","split","reverse","trains","hist","getHistogram","CanvasTools","style","decreaseColor","finalize","detail","join","imagesCount","trainsData","lengt","testsData","event","Number","MAX_VALUE","_loop2","successCount","componentMap","ans1","Ans1","ans2","Ans2","ans3","Ans3","ans4","Ans4","ans5","Ans5","ans6","Ans6","ans7","Ans7","ans8","Ans8","ans9","Ans9","ans10","Ans10","ans11","Ans11","ans12","Ans12","ans13","Ans13","ans14","Ans14","ans15","Ans15","ans16","Ans16","ans17","Ans17","ans18","Ans18","ans20","Ans20","ans21","Ans21","ans22","Ans22","ans23","Ans23","ans24","Ans24","ans25","Ans25","ans26","Ans26","ans27","Ans27","ans28","Ans28","ans29","Ans29","ans30","Ans30","ans31","Ans31","ans32","Ans32","ans33","Ans33","ans34","Ans34","ans35","Ans35","ans36","Ans36","ans37","Ans37","ans38","Ans38","ans39","Ans39","ans40","Ans40","ans41","Ans41","ans42","Ans42","ans43","Ans43","ans44","Ans44","ans47","Ans47","ans48","Ans48","ans49","Ans49","ans50","Ans50","ans51","Ans51","ans52","Ans52","ans53","Ans53","ans54","Ans54","ans55","Ans55","ans56","Ans56","ans57","Ans57","ans58","Ans58","ans59","Ans59","ans60","Ans60","ans61","Ans61","ans62","Ans62","ans63","Ans63","ans64","Ans64","ans65","Ans65","ans70","Ans70","ans71","Ans71","ans72","Ans72","ans73","Ans73","ans74","Ans74","ans75","Ans75","ans76","Ans76","ans77","Ans77","ans78","Ans78","ans79","Ans79","ans80","Ans80","ans81","Ans81","ans82","Ans82","ans83","Ans83","ans84","Ans84","ans85","Ans85","ans86","Ans86","makeComponent","Vue","srcImages","selected","setImage","_initObject","init","getTemplate","questions_component","exportComponents","description","desc","ans19","ans45","ans46","branch","exportRoutes","ItemComponent","QuestionListvue_type_template_id_3acba9c3_render","domProps","_s","questionLinks","QuestionListvue_type_template_id_3acba9c3_staticRenderFns","QuestionListvue_type_script_lang_js_","beforeRouteUpdate","scrollTo","makeLinkList","getLinkObj","link","item","questions","item1","item2","components_QuestionListvue_type_script_lang_js_","QuestionList_component","QuestionList","Listvue_type_script_lang_js_","components","components_Listvue_type_script_lang_js_","List_component","List","Rootvue_type_template_id_6ed4994b_render","Rootvue_type_template_id_6ed4994b_staticRenderFns","Rootvue_type_script_lang_js_","components_Rootvue_type_script_lang_js_","Root_component","Root","Questionvue_type_template_id_4eaf43f9_render","screenSeq","ref","pageNation","last","on","click","$event","movePage","lastLabel","nextLabel","blogFrame","directives","rawName","expression","input","target","composing","blogFrameUrl","Questionvue_type_template_id_4eaf43f9_staticRenderFns","Questionvue_type_script_lang_js_","screenId","parser","URL","hash","pop","makeDescription","makePage","_seq","_title","_key","components_Questionvue_type_script_lang_js_","Question_component","Question","QuestionIframevue_type_template_id_54d78e28_render","QuestionIframevue_type_template_id_54d78e28_staticRenderFns","QuestionIframevue_type_script_lang_js_","components_QuestionIframevue_type_script_lang_js_","QuestionIframe_component","QuestionIframe","routes","children","Questions","QuestionsIframe","use","Router","router","productionTip","VueAnalytics","el","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Root_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Root_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_List_vue_vue_type_style_index_0_id_1ffb23fc_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_List_vue_vue_type_style_index_0_id_1ffb23fc_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_QuestionList_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_QuestionList_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,gBAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,YAAA,OACAC,eAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OACAC,WAAA,OACAC,QAAA,OACAC,aAAA,OACAC,gBAAA,OACAC,WAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA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","file":"js/app.653917d9.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionIframe.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionIframe.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=style&index=0&lang=css&\"","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-SG\": \"cdab\",\n\t\"./en-SG.js\": \"cdab\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.header)?_c('header',[_vm._m(0)]):_vm._e(),_c('router-view'),(_vm.footer)?_c('footer',[_c('br'),_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"ホーム\")])],1),_c('li',[_c('router-link',{attrs:{\"to\":\"/list\"}},[_vm._v(\"問題一覧\")])],1)])]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header-container\"},[_c('h1',[_c('a',{staticClass:\"title\",attrs:{\"href\":\"#/\"}},[_vm._v(\"画像処理100本ノックJS\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <header v-if=\"header\">\n      <div class=\"header-container\">\n        <h1>\n          <a href=\"#/\" class=\"title\">画像処理100本ノックJS</a>\n        </h1>\n      </div>\n    </header>\n    <router-view/>\n    <footer v-if=\"footer\">\n      <br>\n      <ul>\n        <li>\n          <router-link to=\"/\">ホーム</router-link>\n        </li>\n        <li>\n          <router-link to=\"/list\">問題一覧</router-link>\n        </li>\n      </ul>\n    </footer>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      header: true, //header表示フラグ\n      footer: true //footer表示フラグ\n    };\n  },\n  methods: {\n    iframeInit() {\n      if (/questions\\/ans([0-9]|[0-9][0-9])\\/iframe/.test(location.href)) {\n        this.header = false;\n        this.footer = false;\n      } else {\n        this.header = true;\n        this.footer = true;\n      }\n    }\n  },\n  watch: {\n    $route: function(to, from) {\n      if (to.path !== from.path) {\n        this.iframeInit()\n      }\n    }\n  },\n  created() {\n    this.iframeInit()\n  },\n  mounted() {\n    this.iframeInit()\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 60px;\n  /* background-color:   #fefefe; */\n  /* background-color: #f8f8f8; */\n}\n\nh1 {\n  font-size: 10px;\n}\n\ncanvas {\n  background-color: rgba(230, 230, 230, 0.5);\n}\n\nheader {\n  padding: 10px;\n}\n\n.title {\n  color: #2c3e50;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=67b85cd3&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"問題一覧\")]),_c('QuestionList')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const imagesPath = \"./images/\";\nconst datasetPath = \"./dataset/\"\n\nconst srcImage = {\n  default: imagesPath + \"imori.jpg\",\n  noise: imagesPath + \"imori_noise.jpg\",\n  dark: imagesPath + \"imori_dark.jpg\",\n  gamma: imagesPath + \"imori_gamma.jpg\",\n  thorino: imagesPath + \"thorino.jpg\",\n  imori_part: imagesPath + \"imori_part.jpg\",\n  lenna: imagesPath + \"lenna.png\",\n  seg: imagesPath + \"seg.png\",\n  renketsu: imagesPath + \"renketsu.png\",\n  gazo: imagesPath + \"gazo.png\",\n}\n\nconst dataset = {\n  tests: [\n    datasetPath + \"test_akahara_1.jpg\",\n    datasetPath + \"test_akahara_2.jpg\",\n    datasetPath + \"test_madara_1.jpg\",\n    datasetPath + \"test_madara_2.jpg\",\n  ],\n  train: [\n    datasetPath + \"train_akahara_1.jpg\",\n    datasetPath + \"train_akahara_2.jpg\",\n    datasetPath + \"train_akahara_3.jpg\",\n    datasetPath + \"train_akahara_4.jpg\",\n    datasetPath + \"train_akahara_5.jpg\",\n    datasetPath + \"train_madara_1.jpg\",\n    datasetPath + \"train_madara_2.jpg\",\n    datasetPath + \"train_madara_3.jpg\",\n    datasetPath + \"train_madara_4.jpg\",\n    datasetPath + \"train_madara_5.jpg\",\n  ]\n}\n\nexport default {\n  srcImage,\n  dataset,\n  srcImageOption: {\n    default: {\n      label: 'imori',\n      src: srcImage.default\n    },\n    noise: {\n      label: 'imori noise',\n      src: srcImage.noise\n    },\n    dark: {\n      label: 'imori dark',\n      src: srcImage.dark\n    },\n    gamma: {\n      label: 'gamma',\n      src: srcImage.gamma\n    },\n    thorino: {\n      label: 'thorino',\n      src: srcImage.thorino\n    },\n    lenna: {\n      label: 'lenna',\n      src: srcImage.lenna\n    },\n    seq: {\n      label: 'segmentation',\n      src: srcImage.seg\n    },\n    renketsu: {\n      label: 'renketsu',\n      src: srcImage.renketsu\n    },\n    gazo: {\n      label: 'gazo',\n      src: srcImage.gazo\n    },\n  },\n}","/**\n * Templateが見つからなかった時に表示\n */\nexport const BlankTemplate = `<h3>Comming soon.</h3>`\n/**\n * 1つのcanvasテンプレート\n */\nexport const OneCanvasTemplate = `\n<div>\n<canvas ref=\"canvas1\"></canvas>\n<br>\n<button ref=\"button-run\" class=\"bt\">run</button>\n<br>\n<div ref=\"msg\" class=\"msg\"></div>\n</div>\n`\n/**\n * 通常 && 2つのcanvasテンプレート\n */\nexport const DefaultTemplate = `\n<div>\n<canvas ref=\"canvas1\"></canvas>\n<canvas ref=\"canvas2\"></canvas>\n<br>\n<button ref=\"button-run\" class=\"bt\">run</button>\n<br>\n<div ref=\"msg\" class=\"msg\"></div>\n</div>\n`\n/**\n * canvasが3つ\n */\nexport const ThreeCanvasTemplate = `\n<div>\n<canvas ref=\"canvas1\"></canvas>\n<canvas ref=\"canvas2\"></canvas>\n<canvas ref=\"canvas3\"></canvas>\n<br>\n<button ref=\"button-run\" class=\"bt\">run</button>\n<br>\n<div ref=\"msg\" class=\"msg\"></div>\n</div>\n`\n/**\n * canvasが4つ\n */\nexport const FourCanvasTemplate = `\n<div>\n<canvas ref=\"canvas1\"></canvas>\n<canvas ref=\"canvas2\"></canvas>\n<br>\n<canvas ref=\"canvas3\"></canvas>\n<canvas ref=\"canvas4\"></canvas>\n<br>\n<button ref=\"button-run\" class=\"bt\">run</button>\n<br>\n<div ref=\"msg\" class=\"msg\"></div>\n</div>\n`\n/**\n * ヒストグラム用\n */\nexport const HistogramTemplate = `\n<div>\n<canvas ref=\"canvas\"></canvas>\n<br>\n<canvas ref=\"graph\"></canvas>\n<br>\n<button ref=\"button-run\" class=\"bt\">run</button>\n<br>\n<div ref=\"msg\" class=\"msg\"></div>\n</div>\n`\n\nexport default DefaultTemplate","import Chart from \"chart.js\"\n\nexport default class {\n  /**\n   * canvasに画像を描画する\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  static drawImage(canvas, image) {\n    image.addEventListener(\"load\", () => {\n      canvas.width = image.width\n      canvas.height = image.height\n      canvas.getContext(\"2d\").drawImage(image, 0, 0, image.width, image.height)\n    });\n  }\n\n  /**\n   * ヒストグラムを描画する\n   * @param {Object} canvas \n   * @param {Object} data \n   */\n  static renderHistogram(canvas, data) {\n    let labels = new Array(data.length).fill('')\n    new Chart(canvas, {\n      type: 'bar',\n      data:{\n        labels,\n        datasets: [\n          {\n            label: '画素値',\n            // data: [1, 2, 3, 4, 50, 6],\n            data,\n            backgroundColor: \"rgba(80,80,80,0.5)\"\n          }\n        ],\n      },\n      options: {\n        title: {\n          display: true,\n          text: 'Histogram'\n        },\n        scales: {\n          yAxes: [{\n            ticks: {\n              // suggestedMax: 100,\n              suggestedMin: 0,\n              // stepSize: 10000,\n            }\n          }]\n        },\n        animation: {\n          duration: 0\n        }\n      }\n    })\n    //\n  }\n}","import config from '../configure.js'\nimport { \n  ThreeCanvasTemplate, DefaultTemplate, FourCanvasTemplate, OneCanvasTemplate\n} from \"../templates.js\"\nimport CanvasUtility from '@/lib/CanvasTools'\n/**\n * ページ処理基底\n */\nexport default class BasePagesComponent {\n  /**\n   * コンストラクタ\n   */\n  constructor() {\n    return;\n  }\n  /**\n   * Vueでマウントされたdomを受け取る\n   * mainの初期処理\n   * @param {Document} self \n   */\n  _initObject() { }\n  /**\n   * 子クラスでのオブジェクト操作\n   * @param {Document} self \n   */\n  init(self) {\n    this.dom = self\n  }\n  /**\n   * init内で呼ぶ\n   */\n  main() { }\n  /**\n   * テンプレートをセット\n   * @param {String} template \n   */\n  setTemplate(template) {\n    this.template = template\n  }\n  /**\n   * テンプレートをゲット\n   * @return {String} template\n   */\n  getTemplate() {\n    return this.template\n  }\n  /**\n   * メッセージ出力\n   * @param {string} msg \n   */\n  showMessage(msg, escape = true, clear = false) {\n    let dom = this.dom.$refs[\"msg\"]\n    if (clear) {\n      dom.innerHTML = ''\n    }\n    if (msg.length > 0) {\n      if (escape) {\n        dom.innerHTML += \"<pre>\" + msg + \"</pre>\"\n      } else {\n        dom.innerHTML += msg\n      }\n    }\n  }\n}\n\n/**\n * 1canvas用オブジェクト\n */\nexport class OneCanvasComponent extends BasePagesComponent {\n\n  constructor() {\n    super()\n    super.setTemplate(OneCanvasTemplate)\n  }\n  /**\n   * DOMの初期処理\n   * @access private\n   * @param {Document} self \n   */\n  _initObject(self) {\n    let canvas = self.$refs[\"canvas1\"]\n    canvas.width = canvas.height = this.kSize\n    self.$refs[\"button-run\"].addEventListener(\"click\", () => {\n      this.main(canvas)\n    })\n  }\n  /**\n   * 画像を処理してcanvasに描画\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main() { }\n  /**\n   * src画像のセット\n   * @param {String} url \n   */\n  setSrcImage(url) {\n    super.imageUrl = url\n  }\n}\n\n/**\n * 2canvas用オブジェクト\n */\nexport class BaseTwoCanvasComponent extends BasePagesComponent {\n\n  constructor() {\n    super()\n    super.setTemplate(DefaultTemplate)\n    this.setSrcImage(config.srcImage.default)\n  }\n\n  /**\n   * DOMの初期処理\n   * @access private\n   * @param {Document} self \n   */\n  _initObject(self) {\n    let canvas1 = self.$refs[\"canvas1\"]\n    let canvas2 = self.$refs[\"canvas2\"]\n    let button = self.$refs[\"button-run\"]\n    let image = new Image()\n    image.src = this.imageUrl\n    image.addEventListener(\"load\", () => {\n      canvas1.width = canvas2.width = image.width\n      canvas1.height = canvas2.height = image.height\n    })\n    CanvasUtility.drawImage(canvas1, image)\n    button.addEventListener(\"click\", () => {\n      this.main(canvas2, image)\n    })\n  }\n  /**\n   * 画像を処理してcanvasに描画\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main() { }\n  /**\n   * src画像のセット\n   * @param {String} url \n   */\n  setSrcImage(url) {\n    super.imageUrl = url\n  }\n}\n\n/**\n * 3canvas用オブジェクト\n */\nexport class BaseThreeCanvasComponent extends BasePagesComponent {\n  constructor() {\n    super()\n    super.setTemplate(ThreeCanvasTemplate)\n    this.setSrcImage(config.srcImage.default)\n  }\n  /**\n   * DOMの初期処理\n   * @access private\n   * @param {Document} self \n   */\n  _initObject(self) {\n    let canvas1 = self.$refs[\"canvas1\"]\n    let canvas2 = self.$refs[\"canvas2\"]\n    let canvas3 = self.$refs[\"canvas3\"]\n    let button = self.$refs[\"button-run\"]\n    let image = new Image()\n    image.src = this.imageUrl\n    image.addEventListener(\"load\", () => {\n      canvas3.width = canvas2.width = image.width\n      canvas3.height = canvas2.height = image.height\n    })\n    CanvasUtility.drawImage(canvas1, image)\n    button.addEventListener(\"click\", () => {\n      this.main(canvas2, canvas3, image)\n    })\n  }\n  /**\n   * 画像を処理してcanvasに描画\n   */\n  main() { }\n  /**\n   * src画像のセット\n   * @param {String} url \n   */\n  setSrcImage(url) {\n    super.imageUrl = url\n  }\n}\n\n/**\n * 4canvas用オブジェクト\n */\nexport class BaseFourCanvasComponent extends BasePagesComponent {\n  constructor() {\n    super()\n    super.setTemplate(FourCanvasTemplate)\n    this.setSrcImage(config.srcImage.default)\n  }\n  /**\n   * DOMの初期処理\n   * @access private\n   * @param {Document} self \n   */\n  _initObject(self) {\n    let canvas1 = self.$refs[\"canvas1\"]\n    let canvas2 = self.$refs[\"canvas2\"]\n    let canvas3 = self.$refs[\"canvas3\"]\n    let canvas4 = self.$refs[\"canvas4\"]\n    let button = self.$refs[\"button-run\"]\n    let image = new Image()\n    image.src = this.imageUrl\n    image.addEventListener(\"load\", () => {\n      canvas4.width = canvas3.width = canvas2.width = image.width\n      canvas4.height = canvas3.height = canvas2.height = image.height\n    })\n    CanvasUtility.drawImage(canvas1, image)\n    button.addEventListener(\"click\", () => {\n      this.main(canvas2, canvas3, canvas4, image)\n    })\n  }\n  /**\n   * 画像を処理してcanvasに描画\n   */\n  main() { }\n  /**\n   * src画像のセット\n   * @param {String} url \n   */\n  setSrcImage(url) {\n    super.imageUrl = url\n  }\n}\n\n/**\n * ヒストグラム表示オブジェクト\n */\nexport class HistogramComponent extends BaseTwoCanvasComponent {\n  /**\n   * コンストラクタ\n   */\n  constructor() {\n    super()\n    this.setSrcImage(config.srcImage.dark)\n  }\n  /**\n   * DOMの初期処理\n   * @access private\n   * @param {Document} self \n   */\n  _initObject(self) {\n    let canvasSrc = self.$refs[\"canvas1\"]\n    this.graph = self.$refs[\"canvas2\"]\n    let button = self.$refs[\"button-run\"]\n    // ダミーデータを表示\n    this.renderChart(new Array(255).fill(0))\n    let image = new Image()\n    image.src = this.imageUrl\n    image.addEventListener(\"load\", () => {\n      canvasSrc.width = image.width\n      canvasSrc.height = image.height\n    })\n    CanvasUtility.drawImage(canvasSrc, image)\n    button.addEventListener(\"click\", () => {\n      this.main(canvasSrc, image)\n    })\n  }\n  /**\n   * ヒストグラム表示\n   * @param {Array} data\n   */\n  renderChart(data) {\n    CanvasUtility.renderHistogram(this.graph, data)\n  }\n}\n\n/**\n * ヒストグラム表示オブジェクト 3canvas\n */\nexport class ThreeCanvasHistogramComponent extends HistogramComponent {\n  /**\n   * コンストラクタ\n   */\n  constructor() {\n    super()\n    super.setTemplate(ThreeCanvasTemplate)\n  }\n  /**\n   * DOMの初期処理\n   * @access private\n   * @param {Document} self \n   */\n  _initObject(self) {\n    let canvas1 = self.$refs[\"canvas1\"]\n    let canvas2 = self.$refs[\"canvas2\"]\n    this.graph = self.$refs[\"canvas3\"]\n    let button = self.$refs[\"button-run\"]\n    // ダミーデータを表示\n    this.renderChart(new Array(255).fill(0))\n    let image = new Image()\n    image.src = this.imageUrl\n    image.addEventListener(\"load\", () => {\n      canvas1.width = canvas2.width = image.width\n      canvas1.height = canvas2.height = image.height\n    })\n    CanvasUtility.drawImage(canvas1, image)\n    button.addEventListener(\"click\", () => {\n      this.main(canvas2, image)\n    })\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.1\n * チャンネル入れ替え\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      dst.data[i] = src.data[i + 2]\n      dst.data[i + 1] = src.data[i + 1]\n      dst.data[i + 2] = src.data[i]\n      dst.data[i + 3] = src.data[i + 3]\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.2\n * グレースケール\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      let y = 0.2126 * src.data[i] + 0.7152 * src.data[i + 1] + 0.0722 * src.data[i + 2]\n      y = parseInt(y, 10)\n      dst.data[i] = y\n      dst.data[i + 1] = y\n      dst.data[i + 2] = y\n      dst.data[i + 3] = src.data[i + 3]\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.3\n * 二値化\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    const THRESHOLD = 128\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      let y = 0.2126 * src.data[i] + 0.7152 * src.data[i + 1] + 0.0722 * src.data[i + 2]\n      y = parseInt(y, 10)\n      if (y > THRESHOLD) {\n        y = 255\n      } else {\n        y = 0\n      }\n      dst.data[i] = y\n      dst.data[i + 1] = y\n      dst.data[i + 2] = y\n      dst.data[i + 3] = src.data[i + 3]\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}\n\n\n","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.4\n * 大津の2化\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    let t = this.threshold(src)\n\n    for (let i = 0; i < dst.data.length; i += 4) {\n      let v = grayscale(src.data[i], src.data[i + 1], src.data[i + 2])\n      if (v < t) {\n        dst.data[i] = dst.data[i + 1] = dst.data[i + 2] = 0\n      } else {\n        dst.data[i] = dst.data[i + 1] = dst.data[i + 2] = 255\n      }\n      dst.data[i + 3] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n  /**\n   * 大津の2値化\n   * @param {ImageData} src\n   */\n  threshold(src) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let histgram = Array(256).fill(0)\n    let t = 0\n    let max = 0\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      let g = ~~grayscale(src.data[i], src.data[i + 1], src.data[i + 2])\n      histgram[g]++\n    }\n\n    for (let i = 0; i < 256; i++) {\n      let w1 = 0\n      let w2 = 0\n      let sum1 = 0\n      let sum2 = 0\n      let m1 = 0\n      let m2 = 0\n      for (let j = 0; j <= i; ++j) {\n        w1 += histgram[j]\n        sum1 += j * histgram[j]\n      }\n      for (let j = i + 1; j < 256; ++j) {\n        w2 += histgram[j]\n        sum2 += j * histgram[j]\n      }\n      if (w1) {\n        m1 = sum1 / w1\n      }\n      if (w2) {\n        m2 = sum2 / w2\n      }\n      let tmp = (w1 * w2 * (m1 - m2) * (m1 - m2))\n      if (tmp > max) {\n        max = tmp\n        t = i\n      }\n    }\n    return t\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.5\n * HSV変換\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * rgb to hsv\n   * @param {Array} rgb \n   */\n  rgb2hsv(rgb) {\n    let r = rgb[0] / 255;\n    let g = rgb[1] / 255;\n    let b = rgb[2] / 255;\n\n    let max = Math.max(r, g, b);\n    let min = Math.min(r, g, b);\n    let diff = max - min;\n\n    let h = 0;\n\n    switch (min) {\n      case max: h = 0; break;\n      case r: h = (60 * ((b - g) / diff)) + 180; break;\n      case g: h = (60 * ((r - b) / diff)) + 300; break;\n      case b: h = (60 * ((g - r) / diff)) + 60; break;\n    }\n\n    let s = max == 0 ? 0 : diff / max;\n    let v = max;\n\n    return [h, s, v];\n  }\n  /**\n   * hsv to rgb\n   * @param {Array} hsv \n   */\n  hsv2rgb(hsv) {\n    let h = hsv[0]\n    let s = hsv[1]\n    let v = hsv[2]\n    let c = v * s;\n    let hp = h / 60;\n    let x = c * (1 - Math.abs(hp % 2 - 1));\n\n    let r, g, b;\n    if (0 <= hp && hp < 1) { [r, g, b] = [c, x, 0] }\n    if (1 <= hp && hp < 2) { [r, g, b] = [x, c, 0] }\n    if (2 <= hp && hp < 3) { [r, g, b] = [0, c, x] }\n    if (3 <= hp && hp < 4) { [r, g, b] = [0, x, c] }\n    if (4 <= hp && hp < 5) { [r, g, b] = [x, 0, c] }\n    if (5 <= hp && hp < 6) { [r, g, b] = [c, 0, x] }\n\n    let m = v - c;\n    [r, g, b] = [r + m, g + m, b + m];\n\n    r = Math.floor(r * 255);\n    g = Math.floor(g * 255);\n    b = Math.floor(b * 255);\n\n    return [r, g, b];\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      let r = src.data[i]\n      let g = src.data[i + 1]\n      let b = src.data[i + 2]\n\n      let hsv = this.rgb2hsv([r, g, b])\n      hsv[0] = (hsv[0] + 180) % 360\n      let rgb = this.hsv2rgb(hsv)\n\n      dst.data[i] = rgb[0]\n      dst.data[i + 1] = rgb[1]\n      dst.data[i + 2] = rgb[2]\n      dst.data[i + 3] = src.data[i + 3]\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.6\n * 減色処理\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    let thresholds = [32, 96, 160, 224]\n\n    for (let i = 0; i < src.data.length; i++) {\n      if (i % 4 === 3) {\n        dst.data[i] = src.data[i]\n        continue\n      }\n\n      let neer = Number.MAX_SAFE_INTEGER\n      let _j = 0\n\n      for (let j in thresholds) {\n        let d = Math.abs(src.data[i] - thresholds[j])\n        if (d < neer) {\n          neer = d\n          _j = j\n        }\n      }\n\n      dst.data[i] = thresholds[_j]\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.7\n * 平均プーリング\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let w = image.width\n    let h = image.height\n    let dx = w / 16\n    let dy = h / 16\n\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    const blurColor = (x, y, w, h) => {\n      let ctx = canvas.getContext('2d')\n      let r, g, b\n      r = g = b = 0\n\n      let src = ctx.getImageData(x, y, w, h);\n      let dst = ctx.createImageData(w, h)\n\n      for (let i = 0; i < src.data.length; i += 4) {\n        r += src.data[i]\n        g += src.data[i + 1]\n        b += src.data[i + 2]\n      }\n\n      r /= src.data.length / 4\n      g /= src.data.length / 4\n      b /= src.data.length / 4\n\n      r = Math.ceil(r)\n      g = Math.ceil(g)\n      b = Math.ceil(b)\n\n      for (let i = 0; i < src.data.length; i += 4) {\n        dst.data[i] = r\n        dst.data[i + 1] = g\n        dst.data[i + 2] = b\n        dst.data[i + 3] = 255\n      }\n\n      ctx.putImageData(dst, x, y)\n    }\n\n    for (let i = 0; i < canvas.width; i += dx) {\n      for (let j = 0; j < canvas.height; j += dy) {\n        blurColor(i, j, dx, dy)\n      }\n    }\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.8\n * Maxプーリング\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let w = image.width\n    let h = image.height\n    let dx = w / 16\n    let dy = h / 16\n\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    const blurColor = (x, y, w, h) => {\n      let ctx = canvas.getContext('2d')\n      let r, g, b\n      r = g = b = 0\n\n      let src = ctx.getImageData(x, y, w, h);\n      let dst = ctx.createImageData(w, h)\n\n      for (let i = 0; i < src.data.length; i += 4) {\n        r = src.data[i] > r ? src.data[i] : r\n        g = src.data[i + 1] > g ? src.data[i + 1] : g\n        b = src.data[i + 2] > b ? src.data[i + 2] : b\n      }\n\n      for (let i = 0; i < src.data.length; i += 4) {\n        dst.data[i] = r\n        dst.data[i + 1] = g\n        dst.data[i + 2] = b\n        dst.data[i + 3] = 255\n      }\n\n      ctx.putImageData(dst, x, y)\n    }\n\n    for (let i = 0; i < canvas.width; i += dx) {\n      for (let j = 0; j < canvas.height; j += dy) {\n        blurColor(i, j, dx, dy)\n      }\n    }\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure.js\"\n/**\n * Q.9\n * ガウシアンフィルタ\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * 初期処理\n   * @param {Document} self \n   */\n  init() {\n    // ノイズ画像セット\n    this.setSrcImage(config.srcImage.noise)\n  }\n  /**\n   * メイン処理\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n    const gaussian = (x, y, sigma) => Math.exp(-(x ** 2 + y ** 2) / (2 * sigma ** 2))\n\n    const kernelSize = 3\n    const sigma = 1.3\n    let w = 0\n    let kernel = Array.from(new Array(kernelSize), () => new Array(kernelSize).fill(0));\n\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      let _x = x - Math.floor(kernelSize / 2)\n      let _y = y - Math.floor(kernelSize / 2)\n      let g = gaussian(_x, _y, sigma)\n      kernel[y][x] = g\n      kernel[y][x] /= sigma * (Math.sqrt(2 * Math.PI))\n      w += kernel[y][x]\n    }\n\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      kernel[y][x] /= w\n    }\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      for (let c = 0; c < 3; c++) {\n        let k = 0\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k += kernel[i][j] * src.data[getIndex(x + _j, y + _i, c)]\n        }\n        dst.data[getIndex(x, y, c)] = k\n      }\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure.js\"\n/**\n * Q.10\n * メディアンフィルタ\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * 初期処理\n   * @param {Document} self \n   */\n  init() {\n    // ノイズ画像セット\n    this.setSrcImage(config.srcImage.noise)\n  }\n  /**\n   * メイン処理\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const kernelSize = 3\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      for (let c = 0; c < 3; c++) {\n        let k = []\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k.push(src.data[getIndex(x + _j, y + _i, c)])\n        }\n        k.sort((a, b) => a - b)\n        dst.data[getIndex(x, y, c)] = k[Math.floor(k.length / 2)]\n      }\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n\n/**\n * Q.11\n * 平滑化フィルタ\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const kernelSize = 3\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      for (let c = 0; c < 3; c++) {\n        let k = []\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k.push(src.data[getIndex(x + _j, y + _i, c)])\n        }\n        let sum = k.reduce((prev, current) => {\n          return prev + current;\n        });\n        dst.data[getIndex(x, y, c)] = sum / k.length\n      }\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.12\n * モーションフィルタ\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n    const kernelSize = 3\n    let kernel = [\n      [1 / 3, 0, 0],\n      [0, 1 / 3, 0],\n      [0, 0, 1 / 3],\n    ]\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      for (let c = 0; c < 3; c++) {\n        let k = 0\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k += kernel[i][j] * src.data[getIndex(x + _j, y + _i, c)]\n        }\n        dst.data[getIndex(x, y, c)] = k\n      }\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.13\n * MAX-MINフィルタ\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const kernelSize = 3\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let k = []\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - Math.floor(kernelSize / 2)\n        let _j = j - Math.floor(kernelSize / 2)\n        let r = src.data[getIndex(x + _j, y + _i, 0)]\n        let g = src.data[getIndex(x + _j, y + _i, 1)]\n        let b = src.data[getIndex(x + _j, y + _i, 2)]\n        k.push(parseInt(grayscale(r, g, b), 10))\n      }\n\n      k.sort((a, b) => a - b)\n      let c = Math.abs(k[0] - k[k.length - 1])\n\n      dst.data[getIndex(x, y, 0)] = c\n      dst.data[getIndex(x, y, 1)] = c\n      dst.data[getIndex(x, y, 2)] = c\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.14\n * 微分フィルタ\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas1 \n   * @param {Object} canvas2 \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n\n    const verticalKernel = [\n      [0, -1, 0],\n      [0, 1, 0],\n      [0, 0, 0],\n    ]\n\n    const sideKernel = [\n      [0, 0, 0],\n      [-1, 1, 0],\n      [0, 0, 0],\n    ]\n\n    this.diffFilter(canvas1, image, verticalKernel)\n\n    this.diffFilter(canvas2, image, sideKernel)\n  }\n\n  diffFilter(canvas, image, kernel) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n    const toInt8 = (p) => {\n      if (p > 255) return 255\n      if (p < 0) return 0\n      return p\n    }\n    const kernelSize = kernel.length\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let k = 0\n      for (let c = 0; c < 3; c++) {\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k += kernel[i][j] * src.data[getIndex(x + _j, y + _i, c)]\n        }\n      }\n      k = toInt8(k)\n      dst.data[getIndex(x, y, 0)] = k\n      dst.data[getIndex(x, y, 1)] = k\n      dst.data[getIndex(x, y, 2)] = k\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.15\n * Sobelフィルタ\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas1 \n   * @param {Object} canvas2\n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const verticalKernel = [\n      [1, 0, -1],\n      [2, 0, -2],\n      [1, 0, -1],\n    ]\n    const sideKernel = [\n      [1, 2, 1],\n      [0, 0, 0],\n      [-1, -2, -1],\n    ]\n    this.sovelFilter(canvas1, image, verticalKernel)\n    this.sovelFilter(canvas2, image, sideKernel)\n  }\n  /**\n   * ソーベルフィルタ\n   * @param {Object} canvas \n   * @param {Object} image \n   * @param {Array} kernel \n   */\n  sovelFilter(canvas, image, kernel) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n    const kernelSize = kernel.length\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let k = 0\n      for (let c = 0; c < 3; c++) {\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k += kernel[i][j] * src.data[getIndex(x + _j, y + _i, c)]\n        }\n      }\n      dst.data[getIndex(x, y, 0)] = k\n      dst.data[getIndex(x, y, 1)] = k\n      dst.data[getIndex(x, y, 2)] = k\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.16\n * Prewittフィルタ\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const verticalKernel = [\n      [-1, -1, -1],\n      [0, 0, 0],\n      [1, 1, 1],\n    ]\n    const sideKernel = [\n      [-1, 0, 1],\n      [-1, 0, 1],\n      [-1, 0, 1],\n    ]\n    this.prewittFilter(canvas1, image, verticalKernel)\n    this.prewittFilter(canvas2, image, sideKernel)\n  }\n  /**\n   * Prewittフィルタ\n   * @param {Object} canvas \n   * @param {Object} image \n   * @param {Array} kernel \n   */\n  prewittFilter(canvas, image, kernel) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n    const toInt8 = (p) => {\n      if (p > 255) return 255\n      if (p < 0) return 0\n      return p\n    }\n    const kernelSize = kernel.length\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let k = 0\n      for (let c = 0; c < 3; c++) {\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k += kernel[i][j] * src.data[getIndex(x + _j, y + _i, c)]\n        }\n      }\n      k = toInt8(k)\n      dst.data[getIndex(x, y, 0)] = k\n      dst.data[getIndex(x, y, 1)] = k\n      dst.data[getIndex(x, y, 2)] = k\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.17\n * Laplacianフィルタ\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    const kernel = [\n      [0, 1, 0],\n      [1, -4, 1],\n      [0, 1, 0],\n    ]\n    this.laplacianFilter(canvas, image, kernel)\n  }\n\n  /**\n   * Prewittフィルタ\n   * @param {Object} canvas \n   * @param {Object} image \n   * @param {Array} kernel \n   */\n  laplacianFilter(canvas, image, kernel) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n    const toInt8 = (p) => {\n      if (p > 255) return 255\n      if (p < 0) return 0\n      return p\n    }\n    const kernelSize = kernel.length\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let k = 0\n      for (let c = 0; c < 3; c++) {\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k += kernel[i][j] * src.data[getIndex(x + _j, y + _i, c)]\n        }\n      }\n      k = toInt8(k)\n      dst.data[getIndex(x, y, 0)] = k\n      dst.data[getIndex(x, y, 1)] = k\n      dst.data[getIndex(x, y, 2)] = k\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.18\n * Embossフィルタ\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let kernel = [\n      [-2, -1, 0],\n      [-1, 1, 1],\n      [0, 1, 2],\n    ]\n    this.logFilter(canvas, image, kernel)\n  }\n  /**\n   * embossフィルタ\n   * @param {Object} canvas \n   * @param {Object} image \n   * @param {Array} kernel \n   */\n  logFilter(canvas, image, kernel) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n    const toInt8 = (p) => {\n      if (p > 255) return 255\n      if (p < 0) return 0\n      return p\n    }\n    const kernelSize = kernel.length\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let k = 0\n      for (let c = 0; c < 3; c++) {\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k += kernel[i][j] * src.data[getIndex(x + _j, y + _i, c)]\n        }\n      }\n      k = toInt8(k)\n      dst.data[getIndex(x, y, 0)] = k\n      dst.data[getIndex(x, y, 1)] = k\n      dst.data[getIndex(x, y, 2)] = k\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { HistogramComponent } from \"./BaseComponents.js\"\n/**\n * Q.20\n * ヒストグラム表示\n * @extends HistogramComponent\n */\nexport default class extends HistogramComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas) {\n    let pixelValues = new Array(255).fill(0)\n    let ctx = canvas.getContext(\"2d\");\n    let src = ctx.getImageData(0, 0, canvas.width, canvas.height)\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      for (let c = 0; c < 3; c++) {\n        pixelValues[src.data[i] + c]++\n      }\n    }\n    this.renderChart(pixelValues)\n  }\n}","import { ThreeCanvasHistogramComponent } from \"./BaseComponents.js\"\n/**\n * Q.21\n * 画像正規化 + ヒストグラム\n * @extends ThreeCanvasHistogramComponent\n */\nexport default class extends ThreeCanvasHistogramComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let pixelValues = new Array(255).fill(0)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    let dMax = 255\n    let dMin = 0\n    let vMin = 255\n    let vMax = 0\n\n    const trans = (p) => (dMax - dMin) / (vMax - vMin) * (p - vMin) + dMin\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      for (let c = 0; c < 3; c++) {\n        let p = src.data[i + c]\n        if (p > vMax) {\n          vMax = p\n        }\n        if (p < vMin) {\n          vMin = p\n        }\n      }\n    }\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      for (let c = 0; c < 3; c++) {\n        dst.data[i + c] = parseInt(trans(src.data[i + c]), 10)\n        pixelValues[dst.data[i + c]]++\n      }\n      dst.data[i + 3] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n    this.renderChart(pixelValues)\n  }\n}","import { ThreeCanvasHistogramComponent } from \"./BaseComponents.js\"\n/**\n * Q.22\n * ヒストグラム操作\n * @extends ThreeCanvasHistogramComponent\n */\nexport default class extends ThreeCanvasHistogramComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let pixelValues = new Array(255).fill(0)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    let m0 = 128\n    let s0 = 52\n    let m = 97\n    let s = 12\n\n    const trans = (p) => s0 / s * (p - m) + m0\n\n    // 標準偏差\n    const std = (array) => {\n      let average = array.reduce((previous, current) =>\n        previous + current\n      ) / array.length\n      return Math.sqrt(\n        array.map((current) => {\n          let difference = current - average\n          return difference ** 2\n        }).reduce((previous, current) =>\n          previous + current\n        ) / array.length\n      )\n    }\n\n    let grayScaleArr = []\n    for (let i = 0; i < src.data.length; i += 4) {\n      for (let c = 0; c < 3; c++) {\n        grayScaleArr.push(src.data[i + c])\n      }\n    }\n\n    s = std(grayScaleArr)\n    m = grayScaleArr.reduce((previous, current) =>\n      previous + current\n    ) / grayScaleArr.length\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      for (let c = 0; c < 3; c++) {\n        dst.data[i + c] = parseInt(trans(src.data[i + c]), 10)\n        pixelValues[dst.data[i + c]]++\n      }\n      dst.data[i + 3] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n    this.renderChart(pixelValues)\n  }\n}","import { ThreeCanvasHistogramComponent } from \"./BaseComponents.js\"\nimport config from \"../configure.js\"\n/**\n * Q.23\n * ヒストグラム平坦化\n * @extends ThreeCanvasHistogramComponent\n */\nexport default class extends ThreeCanvasHistogramComponent {\n  /**\n   * 初期処理\n   * \n   * @param {Document} self \n   */\n  init() {\n    // ノイズ画像セット\n    this.setSrcImage(config.srcImage.default)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let pixelValues = new Array(255).fill(0)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const zMax = 255\n    const S = canvas.width * canvas.height * 3\n\n    let h = new Array(255).fill(0)\n    let hSum = new Array(255).fill(0)\n\n    for (let n = 0; n < 3; n++) {\n      for (let i = 0; i < src.data.length; i += 4) {\n        h[src.data[i + n]]++\n      }\n    }\n\n    for (let i = 0; i < hSum.length; i++) {\n      for (let j = 0; j < i; j++) {\n        hSum[i] += h[j]\n      }\n    }\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      for (let n = 0; n < 3; n++) {\n        let p = src.data[i + n]\n        let v = parseInt(zMax / S * hSum[p])\n        if (v > 255) {\n          v = 255\n        } else if (v < 0) {\n          v = 0\n        }\n        dst.data[i + n] = v\n        pixelValues[v]++\n      }\n      dst.data[i + 3] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n    this.renderChart(pixelValues)\n  }\n}\n","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure.js\"\n/**\n * Q.24\n * ガンマ補正\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * 初期処理\n   * \n   * @param {Document} self \n   */\n  init() {\n    // ノイズ画像セット\n    this.setSrcImage(config.srcImage.gamma)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    let c = 1.0\n    let g = 2.2\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      for (let n = 0; n < 3; n++) {\n        let p = src.data[i + n]\n        p /= 255\n        p = (1 / c * p) ** (1 / g)\n        p *= 255\n        dst.data[i + n] = p\n      }\n      dst.data[i + 3] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.25\n * 最近傍補間\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    const getDstIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const getSrcIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), image.width - 1)\n      y = Math.min(Math.max(y, 0), image.height - 1)\n      return y * image.width * 4 + x * 4 + channel\n    }\n\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n\n    let scale = 1.5\n    canvas.width = image.width * scale\n    canvas.height = image.height * scale\n\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let _x = parseInt(x / scale, 10)\n      let _y = parseInt(y / scale, 10)\n      dst.data[getDstIndex(x, y, 0)] = src.data[getSrcIndex(_x, _y, 0)]\n      dst.data[getDstIndex(x, y, 1)] = src.data[getSrcIndex(_x, _y, 1)]\n      dst.data[getDstIndex(x, y, 2)] = src.data[getSrcIndex(_x, _y, 2)]\n      dst.data[getDstIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}\n","import {BaseTwoCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.26\n * Bi-linear補間\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    const getDstIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const getSrcIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), image.width - 1)\n      y = Math.min(Math.max(y, 0), image.height - 1)\n      return y * image.width * 4 + x * 4 + channel\n    }\n\n    const getWeight = (t1, t2) => {\n      const d = Math.abs(t1 - t2);\n      if (d > 1) {\n        return 0;\n      }\n      return 1 - d;\n    }\n\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n\n    const scale = 1.5\n    canvas.width = image.width * scale\n    canvas.height = image.height * scale\n\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n    const range = [0, 1]\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let _x = x / scale\n      let _y = y / scale\n      let rangeX = range.map(i => i + Math.floor(_x));\n      let rangeY = range.map(i => i + Math.floor(_y));\n      let r, g, b\n      r = g = b = 0\n\n      for (let ry of rangeY) for (let rx of rangeX) {\n        let weight = getWeight(ry, _y) * getWeight(rx, _x)\n        r += src.data[getSrcIndex(~~rx, ~~ry, 0)] * weight\n        g += src.data[getSrcIndex(~~rx, ~~ry, 1)] * weight\n        b += src.data[getSrcIndex(~~rx, ~~ry, 2)] * weight\n      }\n      dst.data[getDstIndex(x, y, 0)] = ~~r\n      dst.data[getDstIndex(x, y, 1)] = ~~g\n      dst.data[getDstIndex(x, y, 2)] = ~~b\n      dst.data[getDstIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import {BaseTwoCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.27\n * Bi-cubic補間\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    const getDstIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const getSrcIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), image.width - 1)\n      y = Math.min(Math.max(y, 0), image.height - 1)\n      return y * image.width * 4 + x * 4 + channel\n    }\n\n    const getWeight = (t1, t2) => {\n      const d = Math.abs(t1 - t2);\n      if (d > 1) {\n        return 0;\n      }\n      return 1 - d;\n    }\n\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n\n    const scale = 1.5\n    canvas.width = image.width * scale\n    canvas.height = image.height * scale\n\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n    const range = [-1, 0, 1, 2]\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let _x = x / scale\n      let _y = y / scale\n      let rangeX = range.map(i => i + Math.floor(_x));\n      let rangeY = range.map(i => i + Math.floor(_y));\n      let r, g, b\n      r = g = b = 0\n\n      for (let ry of rangeY) for (let rx of rangeX) {\n        let weight = getWeight(ry, _y) * getWeight(rx, _x)\n        r += src.data[getSrcIndex(~~rx, ~~ry, 0)] * weight\n        g += src.data[getSrcIndex(~~rx, ~~ry, 1)] * weight\n        b += src.data[getSrcIndex(~~rx, ~~ry, 2)] * weight\n      }\n      dst.data[getDstIndex(x, y, 0)] = ~~r\n      dst.data[getDstIndex(x, y, 1)] = ~~g\n      dst.data[getDstIndex(x, y, 2)] = ~~b\n      dst.data[getDstIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import {BaseTwoCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.28\n * アフィン変換(平行移動)\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n    let tx = 30\n    let ty = -30\n\n    const H = [\n      [1, 0, tx],\n      [0, 1, ty],\n      [0, 0, 1],\n    ]\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let p = [x, y, 1]\n      let a = [0, 0, 0]\n      for (let i = 0; i < H.length; i++) {\n        let tmp = 0\n        for (let j = 0; j < p.length; j++) {\n          tmp += p[j] * H[i][j]\n        }\n        a[i] = ~~tmp\n      }\n      for (let c = 0; c < 3; c++) {\n        dst.data[getIndex(a[0], a[1], c)] = src.data[getIndex(x, y, c)]\n      }\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\nimport math from \"mathjs\"\n/**\n * Q.29\n * アフィン変換(平行移動)\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const scaleX = 1.3\n    const scaleY = 0.8\n    let tx = 30\n    let ty = -30\n    const H1 = [\n      [scaleX, 0, 0],\n      [0, scaleY, 0],\n      [0, 0, 1],\n    ]\n    const H2 = [\n      [scaleX, 0, tx],\n      [0, scaleY, ty],\n      [0, 0, 1],\n    ]\n\n    this.trans(canvas1, image, H1)\n    this.trans(canvas2, image, H2)\n  }\n  /**\n   * Homography Translation\n   * @param {Object} canvas \n   * @param {Object} image \n   * @param {Array} H 3x3 - Homography\n   */\n  trans(canvas, image, H) {\n    const getDstIndex = (x, y, channel) => {\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const getSrcIndex = (x, y, channel) => {\n      return y * image.width * 4 + x * 4 + channel\n    }\n\n    let scaleX = H[0][0]\n    let scaleY = H[1][1]\n\n    let ctx = canvas.getContext(\"2d\");\n\n    canvas.width = image.width\n    canvas.height = image.height\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n\n    canvas.width = ~~(image.width * scaleX)\n    canvas.height = ~~(image.height * scaleY)\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n    let _H = math.inv(H)\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let p = [x, y, 1]\n      let a = [0, 0, 0]\n      for (let i = 0; i < _H.length; i++) {\n        let tmp = 0\n        for (let j = 0; j < p.length; j++) {\n          tmp += p[j] * _H[i][j]\n        }\n        a[i] = ~~tmp\n      }\n      for (let c = 0; c < 3; c++) {\n        if ((0 < a[0] && a[0] < canvas.width)) {\n          dst.data[getDstIndex(x, y, c)] = src.data[getSrcIndex(a[0], a[1], c)]\n        }\n      }\n      dst.data[getDstIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\nimport math from \"mathjs\"\n/**\n * Q.30\n * アフィン変換(回転)\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const calcHomography = (H, x, y) => {\n      let p = [x, y, 1]\n      let a = [0, 0, 0]\n      for (let i = 0; i < H.length; i++) {\n        let tmp = 0\n        for (let j = 0; j < p.length; j++) {\n          tmp += p[j] * H[i][j]\n        }\n        a[i] = ~~tmp\n      }\n      return a\n    }\n\n    const deg = -30\n    const rad = deg * Math.PI / 180\n\n    const H1 = [\n      [Math.cos(rad), -Math.sin(rad), 0],\n      [Math.sin(rad), Math.cos(rad), 0],\n      [0, 0, 1],\n    ]\n\n    let [cx, cy] = calcHomography(\n      H1,\n      canvas1.width / 2,\n      canvas1.height / 2\n    ).map(e => ~~e)\n\n    const H2 = [\n      [Math.cos(rad), -Math.sin(rad), -cx + ~~(canvas1.width / 2)],\n      [Math.sin(rad), Math.cos(rad), -cy + ~~(canvas1.height / 2)],\n      [0, 0, 1],\n    ]\n    this.trans(canvas1, image, H1)\n    this.trans(canvas2, image, H2)\n  }\n  /**\n   * Homography Translation\n   * @param {Object} canvas \n   * @param {Object} image \n   * @param {Array} H 3x3 - Homography\n   */\n  trans(canvas, image, H) {\n    const getDstIndex = (x, y, channel) => {\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const getSrcIndex = (x, y, channel) => {\n      return y * image.width * 4 + x * 4 + channel\n    }\n\n    let ctx = canvas.getContext(\"2d\");\n\n    canvas.width = image.width\n    canvas.height = image.height\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n\n    canvas.width = image.width\n    canvas.height = image.height\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n    let _H = math.inv(H)\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let p = [x, y, 1]\n      let a = [0, 0, 0]\n      for (let i = 0; i < _H.length; i++) {\n        let tmp = 0\n        for (let j = 0; j < p.length; j++) {\n          tmp += p[j] * _H[i][j]\n        }\n        a[i] = ~~tmp\n      }\n      for (let c = 0; c < 3; c++) {\n        if ((0 < a[0] && a[0] < canvas.width)) {\n          dst.data[getDstIndex(x, y, c)] = src.data[getSrcIndex(a[0], a[1], c)]\n        }\n      }\n      dst.data[getDstIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import {BaseFourCanvasComponent} from \"./BaseComponents.js\"\nimport math from \"mathjs\"\n/**\n * Q.31\n * アフィン変換(スキュー)\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseFourCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, canvas3, image) {\n    let dx = 30\n    let a = dx / image.height\n    let tx = 0\n    let ty = 0\n    const H1 = [\n      [1, a, tx],\n      [0, 1, ty],\n      [0, 0, 1],\n    ]\n    const H2 = [\n      [1, 0, tx],\n      [a, 1, ty],\n      [0, 0, 1],\n    ]\n    const H3 = [\n      [1, a, tx],\n      [a, 1, ty],\n      [0, 0, 1],\n    ]\n    this.trans(canvas1, image, H1)\n    this.trans(canvas2, image, H2)\n    this.trans(canvas3, image, H3)\n  }\n  /**\n   * Homography Translation\n   * @param {Object} canvas \n   * @param {Object} image \n   * @param {Array} H 3x3 - Homography\n   */\n  trans(canvas, image, H) {\n    const getDstIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const getSrcIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), image.width - 1)\n      y = Math.min(Math.max(y, 0), image.height - 1)\n      return y * image.width * 4 + x * 4 + channel\n    }\n\n    const calcHomography = (Hx, x, y) => {\n      let p = [x, y, 1]\n      let a = [0, 0, 0]\n      for (let i = 0; i < Hx.length; i++) {\n        let tmp = 0\n        for (let j = 0; j < p.length; j++) {\n          tmp += p[j] * Hx[i][j]\n        }\n        a[i] = ~~tmp\n      }\n      return a\n    }\n\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n\n    let [width, height] = calcHomography(H, image.width, image.height).map(e => ~~e)\n    canvas.width = width\n    canvas.height = height\n\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n    let _H = math.inv(H)\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let p = [x, y, 1]\n      let a = [0, 0, 0]\n      for (let i = 0; i < _H.length; i++) {\n        let tmp = 0\n        for (let j = 0; j < p.length; j++) {\n          tmp += p[j] * _H[i][j]\n        }\n        a[i] = ~~tmp\n      }\n      for (let c = 0; c < 3; c++) {\n        if ((0 < a[0] && a[0] < image.width) && (0 < a[1] && a[1] < image.height)) {\n          dst.data[getDstIndex(x, y, c)] = src.data[getSrcIndex(a[0], a[1], c)]\n        }\n      }\n      dst.data[getDstIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import {BaseFourCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.32\n * フーリエ変換\n * @extends BaseFourCanvasComponent\n */\nexport default class extends BaseFourCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, canvas3, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    let ctx3 = canvas3.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src = [] //グレースケール成分を格納する\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    let dst2 = ctx2.createImageData(canvas2.width, canvas3.height)\n    let dst3 = ctx3.createImageData(canvas3.width, canvas3.height)\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = ~~grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      src.push(color)\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = color\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let [Re, Im] = this.dft2d(src, canvas1.width, canvas1.height)\n    let dst = this.idft2d(Re, Im, canvas1.width, canvas1.height)\n\n    for (let i = 0, j = 0; i < dst2.data.length; i += 4, j++) {\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = ~~dst[j]\n      dst2.data[i + 3] = 255\n    }\n    ctx2.putImageData(dst2, 0, 0)\n\n    // パワースペクトル画像\n    let max = Math.max.apply(null, Re.map(Math.abs));\n    for (let i = 0, j = 0; i < dst3.data.length; i += 4, j++) {\n      dst3.data[i] = dst3.data[i + 1] = dst3.data[i + 2] = ~~(Math.abs(Re[j]) / max * 255)\n      dst3.data[i + 3] = 255\n    }\n    for (let i = 0, j = 0; i < dst3.data.length; i += 4, j++) {\n      dst3.data[i] = dst3.data[i + 1] = dst3.data[i + 2] = ~~(Math.abs(Re[j]) / max * 255)\n      dst3.data[i + 3] = 255\n    }\n    ctx3.putImageData(dst3, 0, 0)\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src \n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   */\n  dft2d(src, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W\n    const wy0 = 2 * Math.PI / H\n    let Re = new Array(src.length)\n    let Im = new Array(src.length)\n    for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n      let uvIdx = W * v + u;\n      Re[uvIdx] = 0;\n      Im[uvIdx] = 0;\n      for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n        let xyIdx = W * y + x;\n        Re[uvIdx] += src[xyIdx] * Math.cos(- wx0 * x * u - wy0 * y * v)\n        Im[uvIdx] += src[xyIdx] * Math.sin(- wx0 * x * u - wy0 * y * v)\n      }\n      Re[uvIdx] /= W * H;\n      Im[uvIdx] /= W * H;\n    }\n    return [Re, Im]\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} Re \n   * @param {Array} Im \n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   */\n  idft2d(Re, Im, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W;\n    const wy0 = 2 * Math.PI / H;\n    let dst = new Array(W * H)\n    for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n      let xyIdx = W * y + x;\n      dst[xyIdx] = 0;\n      for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n        dst[xyIdx] += Re[W * v + u] * Math.cos(wx0 * x * u + wy0 * y * v) - Im[W * v + u] * Math.sin(wx0 * x * u + wy0 * y * v);\n      }\n    }\n    return dst\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.33\n * フーリエ変換 ローパスフィルタ\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src = [] //グレースケール成分を格納する\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    let dst2 = ctx1.createImageData(canvas1.width, canvas1.height)\n\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = ~~grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      src.push(color)\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = color\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let [Re, Im] = this.dft2d(src, canvas1.width, canvas1.height)\n\n    //todo:\n    this.lpf(Re, Im, canvas1.width, canvas1.height, canvas1.width / 2 * 0.5)\n\n    let arr = this.idft2d(Re, Im, canvas1.width, canvas1.height)\n\n    for (let i = 0, j = 0; i < dst2.data.length; i += 4, j++) {\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = ~~arr[j]\n      dst2.data[i + 3] = 255\n    }\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src \n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   */\n  dft2d(src, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W\n    const wy0 = 2 * Math.PI / H\n    let Re = new Array(src.length)\n    let Im = new Array(src.length)\n    for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n      let uvIdx = W * v + u;\n      Re[uvIdx] = 0;\n      Im[uvIdx] = 0;\n      for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n        let xyIdx = W * y + x;\n        Re[uvIdx] += src[xyIdx] * Math.cos(- wx0 * x * u - wy0 * y * v)\n        Im[uvIdx] += src[xyIdx] * Math.sin(- wx0 * x * u - wy0 * y * v)\n      }\n      Re[uvIdx] /= W * H;\n      Im[uvIdx] /= W * H;\n    }\n    return [Re, Im]\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} Re \n   * @param {Array} Im \n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   */\n  idft2d(Re, Im, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W;\n    const wy0 = 2 * Math.PI / H;\n    let dst = new Array(W * H)\n    for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n      let xyIdx = W * y + x;\n      dst[xyIdx] = 0;\n      for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n        dst[xyIdx] += Re[W * v + u] * Math.cos(wx0 * x * u + wy0 * y * v) - Im[W * v + u] * Math.sin(wx0 * x * u + wy0 * y * v);\n      }\n    }\n    return dst\n  }\n  /**\n   * ローパスフィルタ\n   * @param {Array} Re \n   * @param {Array} Im \n   * @param {Number} imgWidth image width \n   * @param {Number} imgHeight image height\n   */\n  lpf(Re, Im, imgWidth, imgHeight, r) {\n    let cx = imgWidth / 2\n    let cy = imgHeight / 2\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = y * imgWidth + x\n      // let d = Math.sqrt(Math.pow(cx - x , 2) + Math.pow(cy - y , 2))\n      // if (d > r) {\n      //   Re[idx] = 0\n      //   Im[idx] = 0\n      // }\n      if (Math.abs(cx - x) < r || Math.abs(cy - y) < r) {\n        Re[idx] = 0\n        Im[idx] = 0\n      }\n    }\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.34\n * フーリエ変換 ハイパスフィルタ\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src = [] //グレースケール成分を格納する\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    let dst2 = ctx1.createImageData(canvas1.width, canvas1.height)\n\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = ~~grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      src.push(color)\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = color\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let [Re, Im] = this.dft2d(src, canvas1.width, canvas1.height)\n\n    //todo:\n    this.hpf(Re, Im, canvas1.width, canvas1.height, canvas1.width / 2 * 0.9)\n\n    let arr = this.idft2d(Re, Im, canvas1.width, canvas1.height)\n\n    for (let i = 0, j = 0; i < dst2.data.length; i += 4, j++) {\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = ~~arr[j]\n      dst2.data[i + 3] = 255\n    }\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src \n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   */\n  dft2d(src, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W\n    const wy0 = 2 * Math.PI / H\n    let Re = new Array(src.length)\n    let Im = new Array(src.length)\n    for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n      let uvIdx = W * v + u;\n      Re[uvIdx] = 0;\n      Im[uvIdx] = 0;\n      for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n        let xyIdx = W * y + x;\n        Re[uvIdx] += src[xyIdx] * Math.cos(- wx0 * x * u - wy0 * y * v)\n        Im[uvIdx] += src[xyIdx] * Math.sin(- wx0 * x * u - wy0 * y * v)\n      }\n      Re[uvIdx] /= W * H;\n      Im[uvIdx] /= W * H;\n    }\n    return [Re, Im]\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} Re \n   * @param {Array} Im \n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   */\n  idft2d(Re, Im, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W;\n    const wy0 = 2 * Math.PI / H;\n    let dst = new Array(W * H)\n    for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n      let xyIdx = W * y + x;\n      dst[xyIdx] = 0;\n      for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n        dst[xyIdx] += Re[W * v + u] * Math.cos(wx0 * x * u + wy0 * y * v) - Im[W * v + u] * Math.sin(wx0 * x * u + wy0 * y * v);\n      }\n    }\n    return dst\n  }\n  /**\n   * ハイパスフィルタ\n   * @param {Array} Re \n   * @param {Array} Im \n   * @param {Number} imgWidth image width \n   * @param {Number} imgHeight image height\n   */\n  hpf(Re, Im, imgWidth, imgHeight, r) {\n    let cx = imgWidth / 2\n    let cy = imgHeight / 2\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = y * imgWidth + x\n      // let d = Math.sqrt(Math.pow(cx - x , 2) + Math.pow(cy - y , 2))\n      // if (d > r) {\n      //   Re[idx] = 0\n      //   Im[idx] = 0\n      // }\n      if (Math.abs(cx - x) > r || Math.abs(cy - y) > r) {\n        Re[idx] = 0\n        Im[idx] = 0\n      }\n    }\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.35\n * フーリエ変換 バンドパスフィルタ\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src = [] //グレースケール成分を格納する\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    let dst2 = ctx1.createImageData(canvas1.width, canvas1.height)\n\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = ~~grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      src.push(color)\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = color\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let [Re, Im] = this.dft2d(src, canvas1.width, canvas1.height)\n\n    //todo:\n    let r = canvas1.width / 2\n    this.bpf(Re, Im, canvas1.width, canvas1.height, r * 0.1, r * 0.9)\n\n    let arr = this.idft2d(Re, Im, canvas1.width, canvas1.height)\n\n    for (let i = 0, j = 0; i < dst2.data.length; i += 4, j++) {\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = ~~Math.abs(arr[j])\n      dst2.data[i + 3] = 255\n    }\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src \n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   */\n  dft2d(src, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W\n    const wy0 = 2 * Math.PI / H\n    let Re = new Array(src.length)\n    let Im = new Array(src.length)\n    for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n      let uvIdx = W * v + u;\n      Re[uvIdx] = 0;\n      Im[uvIdx] = 0;\n      for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n        let xyIdx = W * y + x;\n        Re[uvIdx] += src[xyIdx] * Math.cos(- wx0 * x * u - wy0 * y * v)\n        Im[uvIdx] += src[xyIdx] * Math.sin(- wx0 * x * u - wy0 * y * v)\n      }\n      Re[uvIdx] /= W * H;\n      Im[uvIdx] /= W * H;\n    }\n    return [Re, Im]\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} Re \n   * @param {Array} Im \n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   */\n  idft2d(Re, Im, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W;\n    const wy0 = 2 * Math.PI / H;\n    let dst = new Array(W * H)\n    for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n      let xyIdx = W * y + x;\n      dst[xyIdx] = 0;\n      for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n        dst[xyIdx] += Re[W * v + u] * Math.cos(wx0 * x * u + wy0 * y * v) - Im[W * v + u] * Math.sin(wx0 * x * u + wy0 * y * v);\n      }\n    }\n    return dst\n  }\n  /**\n   * バンドパスフィルタ\n   * @param {Array} Re \n   * @param {Array} Im \n   * @param {Number} imgWidth image width \n   * @param {Number} imgHeight image height\n   */\n  bpf(Re, Im, imgWidth, imgHeight, rMin, rMax) {\n    let cx = imgWidth / 2\n    let cy = imgHeight / 2\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = y * imgWidth + x\n      // let d = Math.sqrt(Math.pow(cx - x , 2) + Math.pow(cy - y , 2))\n      let condition1 = Math.abs(cx - x) > rMin || Math.abs(cy - y) > rMin\n      let condition2 = Math.abs(cx - x) < rMax && Math.abs(cy - y) < rMax\n      if (!(condition1 && condition2)) {\n        Re[idx] = 0\n        Im[idx] = 0\n      }\n    }\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.36\n * JPEG圧縮 (Step.1)離散コサイン変換\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src = [] //グレースケール成分を格納する\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    let dst2 = ctx1.createImageData(canvas1.width, canvas1.height)\n    const T = 8\n    const K = 8\n\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      let color = ~~grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      src.push(color)\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = color\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let freq = this.dct2d(src, canvas1.width, canvas1.height, T)\n    let arr = this.idct2d(freq, canvas1.width, canvas1.height, T, K)\n\n    for (let i = 0, j = 0; i < dst2.data.length; i += 4, j++) {\n      let value = Math.abs(arr[j]) > 255 ? 255 : Math.abs(arr[j])\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = value\n      dst2.data[i + 3] = 255\n    }\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src 2次元配列\n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   */\n  dct2d(src, imgWidth, imgHeight, T) {\n    const W = imgWidth\n    const H = imgHeight\n    let dst = new Array(W * H).fill(0)\n    let theta = Math.PI / (2 * T)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let v = 0; v < T; v++) for (let u = 0; u < T; u++) {\n        let uvIdx = W * (v + yi) + (u + xi);\n        for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n          let xyIdx = W * (y + yi) + (x + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) * \n          Math.cos((2 * x + 1) * u * theta) * \n          Math.cos((2 * y + 1) * v * theta)\n          dst[uvIdx] += src[xyIdx] * w\n        }\n      }\n    }\n    return dst\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} src\n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   * @param {Number} K DCT係数\n   */\n  idct2d(src, imgWidth, imgHeight, T, K) {\n    const W = imgWidth\n    const H = imgHeight\n    let theta = Math.PI / (2 * T)\n    let dst = new Array(W * H).fill(0)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n        let xyIdx = W * (y + yi) + (x + xi);\n        for (let v = 0; v < K; v++) for (let u = 0; u < K; u++) {\n          let uvIdx = W * (v + yi) + (u + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) * Math.cos((2 * x + 1) * u * theta) * Math.cos((2 * y + 1) * v * theta)\n          dst[xyIdx] += src[uvIdx] * w\n        }\n      }\n    }\n    return dst\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.37\n * PSNR\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src = [] //グレースケール成分を格納する\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    let dst2 = ctx1.createImageData(canvas1.width, canvas1.height)\n    const T = 8\n    const K = 4\n\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      let color = ~~grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      src.push(color)\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = color\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let freq = this.dct2d(src, canvas1.width, canvas1.height, T)\n    let dst = this.idct2d(freq, canvas1.width, canvas1.height, T, K)\n\n    for (let i = 0, j = 0; i < dst2.data.length; i += 4, j++) {\n      let value = Math.abs(dst[j]) > 255 ? 255 : Math.abs(dst[j])\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = value\n      dst2.data[i + 3] = 255\n    }\n    ctx2.putImageData(dst2, 0, 0)\n\n    let psnr = this.psnr(src, dst, image.width, image.height)\n\n    this.showMessage(\n      JSON.stringify({\n        psnr,\n        bitrate: 1 * T * K ** 2 / (T ** 2)\n      }, null, '\\t')\n    )\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src 2次元配列\n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   */\n  dct2d(src, imgWidth, imgHeight, T) {\n    const W = imgWidth\n    const H = imgHeight\n    let dst = new Array(W * H).fill(0)\n    let theta = Math.PI / (2 * T)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let v = 0; v < T; v++) for (let u = 0; u < T; u++) {\n        let uvIdx = W * (v + yi) + (u + xi);\n        for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n          let xyIdx = W * (y + yi) + (x + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) * \n          Math.cos((2 * x + 1) * u * theta) * \n          Math.cos((2 * y + 1) * v * theta)\n          dst[uvIdx] += src[xyIdx] * w\n        }\n      }\n    }\n    return dst\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} src\n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   * @param {Number} K DCT係数\n   */\n  idct2d(src, imgWidth, imgHeight, T, K) {\n    const W = imgWidth\n    const H = imgHeight\n    let theta = Math.PI / (2 * T)\n    let dst = new Array(W * H).fill(0)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n        let xyIdx = W * (y + yi) + (x + xi);\n        for (let v = 0; v < K; v++) for (let u = 0; u < K; u++) {\n          let uvIdx = W * (v + yi) + (u + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) * Math.cos((2 * x + 1) * u * theta) * Math.cos((2 * y + 1) * v * theta)\n          dst[xyIdx] += src[uvIdx] * w\n        }\n      }\n    }\n    return dst\n  }\n  /**\n   * psnr算出\n   * @param {Array} src 入力画像\n   * @param {Array} dst 出力画像\n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   */\n  psnr(src, dst, imgWidth, imgHeight) {\n    let sum = 0\n    for (let i = 0; i < src.length; i++) {\n      let d = Math.abs(src[i] - dst[i])\n      sum += d ** d\n    }\n    let mse = sum / (imgWidth * imgHeight)\n    let ans = Math.log10(255 ** 2 / mse)\n    return ans\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\nimport math from \"mathjs\"\n/**\n * Q.38\n * JPEG圧縮 (Step.2)DCT+量子化\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src = [] //グレースケール成分を格納する\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    let dst2 = ctx1.createImageData(canvas1.width, canvas1.height)\n    const T = 8\n    const K = 8\n\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      let color = ~~grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      src.push(color)\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = color\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let freq = this.dct2d(src, canvas1.width, canvas1.height, T)\n    let dst = this.idct2d(freq, canvas1.width, canvas1.height, T, K)\n\n    for (let i = 0, j = 0; i < dst2.data.length; i += 4, j++) {\n      let value = Math.abs(dst[j]) > 255 ? 255 : Math.abs(dst[j])\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = value\n      dst2.data[i + 3] = 255\n    }\n    ctx2.putImageData(dst2, 0, 0)\n\n    let psnr = this.psnr(src, dst, image.width, image.height)\n\n    this.showMessage(\n      JSON.stringify({\n        psnr,\n        bitrate: 1 * T * K ** 2 / (T ** 2)\n      }, null, '\\t')\n    )\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src 2次元配列\n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   */\n  dct2d(src, imgWidth, imgHeight, T) {\n    const W = imgWidth\n    const H = imgHeight\n    const Q = this.getQuantum()\n    let dst = new Array(W * H).fill(0)\n    let theta = Math.PI / (2 * T)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let v = 0; v < T; v++) for (let u = 0; u < T; u++) {\n        let uvIdx = W * (v + yi) + (u + xi);\n        for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n          let xyIdx = W * (y + yi) + (x + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) * \n          Math.cos((2 * x + 1) * u * theta) * \n          Math.cos((2 * y + 1) * v * theta)\n          dst[uvIdx] += src[xyIdx] * w\n        }\n      }\n      // 量子化\n      let b = Array.from(new Array(T), () => new Array(T).fill(0))\n      for (let yj = yi, _y = 0; yj < yi + T; yj++, _y++) for (let xj = xi, _x = 0; xj < xi + T; xj++, _x++) {\n        b[_y][_x] = dst[W * yj + xj]\n      }\n      let m = math.dotDivide(b, Q).map(row => row.map(v => Math.round(v)))\n      m = math.dotMultiply(m, Q)\n      for (let yj = yi, _y = 0; yj < yi + T; yj++, _y++) for (let xj = xi, _x = 0; xj < xi + T; xj++, _x++) {\n        dst[W * yj + xj] = b[_y][_x]\n      }\n    }\n    return dst\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} src\n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   * @param {Number} K DCT係数\n   */\n  idct2d(src, imgWidth, imgHeight, T, K) {\n    const W = imgWidth\n    const H = imgHeight\n    let theta = Math.PI / (2 * T)\n    let dst = new Array(W * H).fill(0)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n        let xyIdx = W * (y + yi) + (x + xi);\n        for (let v = 0; v < K; v++) for (let u = 0; u < K; u++) {\n          let uvIdx = W * (v + yi) + (u + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) * Math.cos((2 * x + 1) * u * theta) * Math.cos((2 * y + 1) * v * theta)\n          dst[xyIdx] += src[uvIdx] * w\n        }\n      }\n    }\n    return dst\n  }\n  /**\n   * @return {Array} quantum\n   */\n  getQuantum() {\n    return [\n      [16, 11, 10, 16, 24, 40, 51, 61],\n      [12, 12, 14, 19, 26, 58, 60, 55],\n      [14, 13, 16, 24, 40, 57, 69, 56],\n      [14, 17, 22, 29, 51, 87, 80, 62],\n      [18, 22, 37, 56, 68, 109, 103, 77],\n      [24, 35, 55, 64, 81, 104, 113, 92],\n      [49, 64, 78, 87, 103, 121, 120, 101],\n      [72, 92, 95, 98, 112, 100, 103, 99]\n    ]\n  }\n  /**\n   * psnr算出\n   * @param {Array} src 入力画像\n   * @param {Array} dst 出力画像\n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   */\n  psnr(src, dst, imgWidth, imgHeight) {\n    let sum = 0\n    for (let i = 0; i < src.length; i++) {\n      let d = Math.abs(src[i] - dst[i])\n      sum += d ** d\n    }\n    let mse = sum / (imgWidth * imgHeight)\n    let ans = Math.log10(255 ** 2 / mse)\n    return ans\n  }\n}","import {BaseTwoCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.39\n * JPEG圧縮 (Step.3)YCbCr表色系\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const rgb2ycc = (r, g, b) => [\n      0.299 * r + 0.5870 * g + 0.114 * b,\n      -0.1687 * r - 0.3313 * g + 0.5 * b + 128,\n      0.5 * r - 0.4187 * g - 0.0813 * b + 128\n    ]\n    const ycc2rgb = (y, cr, cb) => [\n      y + (cb - 128) * 1.7718,\n      y - (cb - 128) * 0.3441 - (cr - 128) * 0.7139,\n      y + (cr - 128) * 1.402,\n    ]\n\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      let [y, cr, cb] = rgb2ycc(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n      y *= 0.7\n      let rgb = ycc2rgb(y, cr, cb)\n      dst1.data[i + 0] = rgb[0]\n      dst1.data[i + 1] = rgb[1]\n      dst1.data[i + 2] = rgb[2]\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n  }\n}","import {BaseTwoCanvasComponent} from \"./BaseComponents.js\"\nimport math from \"mathjs\"\n/**\n * Q.40\n * JPEG圧縮 (Step.2)DCT+量子化\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const rgb2ycc = (r, g, b) => [\n      0.299 * r + 0.5870 * g + 0.114 * b,\n      -0.1687 * r - 0.3313 * g + 0.5 * b + 128,\n      0.5 * r - 0.4187 * g - 0.0813 * b + 128\n    ]\n    const ycc2rgb = (y, cr, cb) => [\n      y + (cb - 128) * 1.7718,\n      y - (cb - 128) * 0.3441 - (cr - 128) * 0.7139,\n      y + (cr - 128) * 1.402,\n    ]\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let srcY = []\n    let srcCr = []\n    let srcCb = []\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    const T = 8\n    const K = 8\n\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      let [y, cr, cb] = rgb2ycc(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n      srcY.push(y)\n      srcCr.push(cr)\n      srcCb.push(cb)\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let dctY = this.dct2d(srcY, canvas1.width, canvas1.height, T, this.getQuantum1())\n    let dstY = this.idct2d(dctY, canvas1.width, canvas1.height, T, K)\n    let dctCr = this.dct2d(srcCr, canvas1.width, canvas1.height, T, this.getQuantum2())\n    let dstCr = this.idct2d(dctCr, canvas1.width, canvas1.height, T, K)\n    let dctCb = this.dct2d(srcCb, canvas1.width, canvas1.height, T, this.getQuantum2())\n    let dstCb = this.idct2d(dctCb, canvas1.width, canvas1.height, T, K)\n\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let rgb = ycc2rgb(dstY[j], dstCr[j], dstCb[j]).map(e => {\n        if (e > 255) {\n          return 255\n        }\n        return e\n      })\n      dst1.data[i + 0] = rgb[0]\n      dst1.data[i + 1] = rgb[1]\n      dst1.data[i + 2] = rgb[2]\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let psnr = this.psnr(srcY, dstY, srcCr, dstCr, srcCb, dstCb, image.width, image.height)\n    this.showMessage(\n      JSON.stringify({\n        psnr,\n        bitrate: 1 * T * K ** 2 / (T ** 2)\n      }, null, '\\t')\n    )\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src 2次元配列\n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   */\n  dct2d(src, imgWidth, imgHeight, T, Q) {\n    const W = imgWidth\n    const H = imgHeight\n    // const Q = this.getQuantum()\n    let dst = new Array(W * H).fill(0)\n    let theta = Math.PI / (2 * T)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let v = 0; v < T; v++) for (let u = 0; u < T; u++) {\n        let uvIdx = W * (v + yi) + (u + xi);\n        for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n          let xyIdx = W * (y + yi) + (x + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) *\n            Math.cos((2 * x + 1) * u * theta) *\n            Math.cos((2 * y + 1) * v * theta)\n          dst[uvIdx] += src[xyIdx] * w\n        }\n      }\n      // 量子化\n      let b = Array.from(new Array(T), () => new Array(T).fill(0))\n      for (let yj = yi, _y = 0; yj < yi + T; yj++ , _y++) for (let xj = xi, _x = 0; xj < xi + T; xj++ , _x++) {\n        b[_y][_x] = dst[W * yj + xj]\n      }\n      let m = math.dotDivide(b, Q).map(row => row.map(v => Math.round(v)))\n      m = math.dotMultiply(m, Q)\n      for (let yj = yi, _y = 0; yj < yi + T; yj++ , _y++) for (let xj = xi, _x = 0; xj < xi + T; xj++ , _x++) {\n        dst[W * yj + xj] = b[_y][_x]\n      }\n    }\n    return dst\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} src\n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   * @param {Number} K DCT係数\n   */\n  idct2d(src, imgWidth, imgHeight, T, K) {\n    const W = imgWidth\n    const H = imgHeight\n    let theta = Math.PI / (2 * T)\n    let dst = new Array(W * H).fill(0)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n        let xyIdx = W * (y + yi) + (x + xi);\n        for (let v = 0; v < K; v++) for (let u = 0; u < K; u++) {\n          let uvIdx = W * (v + yi) + (u + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) * Math.cos((2 * x + 1) * u * theta) * Math.cos((2 * y + 1) * v * theta)\n          dst[xyIdx] += src[uvIdx] * w\n        }\n      }\n    }\n    return dst\n  }\n  /**\n   * @return {Array} quantum\n   */\n  /**\n   * @return {Array} quantum\n   */\n  getQuantum1() {\n    return [\n      [16, 11, 10, 16, 24, 40, 51, 61],\n      [12, 12, 14, 19, 26, 58, 60, 55],\n      [14, 13, 16, 24, 40, 57, 69, 56],\n      [14, 17, 22, 29, 51, 87, 80, 62],\n      [18, 22, 37, 56, 68, 109, 103, 77],\n      [24, 35, 55, 64, 81, 104, 113, 92],\n      [49, 64, 78, 87, 103, 121, 120, 101],\n      [72, 92, 95, 98, 112, 100, 103, 99]\n    ]\n  }\n  /**\n   * @return {Array} quantum\n   */\n  getQuantum2() {\n    return [\n      [17, 18, 24, 47, 99, 99, 99, 99],\n      [18, 21, 26, 66, 99, 99, 99, 99],\n      [24, 26, 56, 99, 99, 99, 99, 99],\n      [47, 66, 99, 99, 99, 99, 99, 99],\n      [99, 99, 99, 99, 99, 99, 99, 99],\n      [99, 99, 99, 99, 99, 99, 99, 99],\n      [99, 99, 99, 99, 99, 99, 99, 99],\n      [99, 99, 99, 99, 99, 99, 99, 99]\n    ]\n  }\n  /**\n   * psnr算出\n   * @param {Array} src 入力画像\n   * @param {Array} dst 出力画像\n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   */\n  psnr(srcY, dstY, srcCr, dstCr, srcCb, dstCb, imgWidth, imgHeight) {\n    let sum = 0\n    let data = [\n      [srcY, dstY],\n      [srcCr, dstCr],\n      [srcCb, dstCb],\n    ]\n    data.forEach(e => {\n      let src = e[0]\n      let dst = e[1]\n      for (let i = 0; i < src.length; i++) {\n        let d = Math.abs(src[i] - dst[i])\n        sum += d ** d\n      }\n    })\n    let mse = sum / (imgWidth * imgHeight)\n    let ans = Math.log10(255 ** 2 / mse)\n    return ans\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.41\n * Cannyエッジ検出 (Step.1) エッジ強度\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const gaussianKernel = this.getGaussianKernel(5, 1.4)\n    const KSV = [\n      [-1, -2, -1],\n      [0, 0, 0],\n      [1, 2, 1],\n    ]\n    const KSH = [\n      [-1, 0, 1],\n      [-2, 0, 2],\n      [-1, 0, 1],\n    ]\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let dst2 = ctx2.createImageData(image.width, image.height)\n    let gray = []\n\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      gray.push(color)\n    }\n    let gaussian = new Array(image.width * image.height).fill(0)\n    let fx = new Array(image.width * image.height).fill(0)\n    let fy = new Array(image.width * image.height).fill(0)\n    let edge = new Array(image.width * image.height).fill(0)\n    let angle = new Array(image.width * image.height).fill(0)\n    this.adaptKernel(gray, gaussian, image.width, image.height, gaussianKernel)\n    this.adaptKernel(gaussian, fx, image.width, image.height, KSH)\n    this.adaptKernel(gaussian, fy, image.width, image.height, KSV)\n\n    for (let i = 0; i < fx.length; i++) {\n      edge[i] = Math.sqrt(Math.pow(fx[i], 2) + Math.pow(fy[i], 2))\n      if (edge[i] == 0) {\n        edge[i] = 1e-5\n      }\n      let t = Math.atan(fy[i] / fx[i])\n      if (-0.4142 < t && t <= 0.4142) angle[i] = 0\n      else if (0.4142 < t && t <= 2.4142) angle[i] = 45\n      else if (Math.abs(t) >= 2.4142) angle[i] = 90\n      else if (-2.4142 < t && t <= -0.4142) angle[i] = 135\n    }\n\n    for (let i = 0, j = 0; i < src1.data.length; i+= 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = edge[j]\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = angle[j]\n      dst1.data[i + 3] = dst2.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * ガウシアンカーネル生成\n   * @param {Number} kernelSize \n   * @param {Number} sigma \n   */\n  getGaussianKernel(kernelSize, sigma) {\n    const gaussian = (x, y, sigma) => Math.exp(-(x ** 2 + y ** 2) / (2 * sigma ** 2))\n    let w = 0\n    let kernel = Array.from(new Array(kernelSize), () => new Array(kernelSize).fill(0))\n\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      let _x = x - ~~(kernelSize / 2)\n      let _y = y - ~~(kernelSize / 2)\n      let g = gaussian(_x, _y, sigma)\n      kernel[y][x] = g\n      kernel[y][x] /= sigma * (Math.sqrt(2 * Math.PI))\n      w += kernel[y][x]\n    }\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      kernel[y][x] /= w\n    }\n    return kernel\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - ~~(kernelSize / 2)\n        let _j = j - ~~(kernelSize / 2)\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      dst[dstIdx] = k\n    }\n  }\n}\n","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.42\n * Cannyエッジ検出 (Step.2) 細線化\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const gaussianKernel = this.getGaussianKernel(5, 1.4)\n    const KSV = [\n      [-1, -2, -1],\n      [0, 0, 0],\n      [1, 2, 1],\n    ]\n    const KSH = [\n      [-1, 0, 1],\n      [-2, 0, 2],\n      [-1, 0, 1],\n    ]\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let gray = []\n\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      gray.push(color)\n    }\n    let gaussian = new Array(image.width * image.height).fill(0)\n    let fx = new Array(image.width * image.height).fill(0)\n    let fy = new Array(image.width * image.height).fill(0)\n    let edge = new Array(image.width * image.height).fill(0)\n    let angle = new Array(image.width * image.height).fill(0)\n    this.adaptKernel(gray, gaussian, image.width, image.height, gaussianKernel)\n    this.adaptKernel(gaussian, fx, image.width, image.height, KSH)\n    this.adaptKernel(gaussian, fy, image.width, image.height, KSV)\n\n    for (let i = 0; i < fx.length; i++) {\n      edge[i] = Math.sqrt(Math.pow(fx[i], 2) + Math.pow(fy[i], 2))\n      if (edge[i] == 0) {\n        edge[i] = 1e-5\n      }\n      let t = Math.atan(fy[i] / fx[i])\n      if (-0.4142 < t && t <= 0.4142) angle[i] = 0\n      else if (0.4142 < t && t <= 2.4142) angle[i] = 45\n      else if (Math.abs(t) >= 2.4142) angle[i] = 90\n      else if (-2.4142 < t && t <= -0.4142) angle[i] = 135\n    }\n\n    this.nonMaximumSuppression(edge, angle, image.width, image.height)\n\n    for (let i = 0, j = 0; i < src1.data.length; i+= 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = edge[j]\n      dst1.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * ガウシアンカーネル生成\n   * @param {Number} kernelSize \n   * @param {Number} sigma \n   */\n  getGaussianKernel(kernelSize, sigma) {\n    const gaussian = (x, y, sigma) => Math.exp(-(x ** 2 + y ** 2) / (2 * sigma ** 2))\n    let w = 0\n    let kernel = Array.from(new Array(kernelSize), () => new Array(kernelSize).fill(0))\n\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      let _x = x - ~~(kernelSize / 2)\n      let _y = y - ~~(kernelSize / 2)\n      let g = gaussian(_x, _y, sigma)\n      kernel[y][x] = g\n      kernel[y][x] /= sigma * (Math.sqrt(2 * Math.PI))\n      w += kernel[y][x]\n    }\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      kernel[y][x] /= w\n    }\n    return kernel\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - ~~(kernelSize / 2)\n        let _j = j - ~~(kernelSize / 2)\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      dst[dstIdx] = k\n    }\n  }\n  /**\n   * Non-maximum suppression(NMS)\n   * @param {Array} edge edge image\n   * @param {Array} angle angle array\n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   */\n  nonMaximumSuppression(edge, angle, imgWidth, imgHeight) {\n    const getIdx = (x, y) => x + y * imgWidth\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = getIdx(x, y)\n      let dx1, dy1, dx2, dy2\n      if (angle[idx] == 0 ) {\n        [dx1, dy1, dx2, dy2] = [-1, 0, 1, 0]\n      } else if (angle[idx] == 45) {\n        [dx1, dy1, dx2, dy2] = [-1, 1, 1, -1]\n      } else if (angle[idx] == 90) {\n        [dx1, dy1, dx2, dy2] = [0, -1, 0, 1]\n      } else if (angle[idx] == 135) {\n        [dx1, dy1, dx2, dy2] = [-1, -1, 1, 1]\n      }\n      if (x === 0 ){\n        dx1 = Math.max(dx1, 0)\n        dx2 = Math.max(dx2, 0)\n      }\n      if (x === imgWidth - 1) {\n        dx1 = Math.min(dx1, 0)\n        dx2 = Math.min(dx2, 0)\n      }\n      if (y === 0) {\n        dy1 = Math.max(dy1, 0)\n        dy2 = Math.max(dy2, 0)\n      }\n      if (y === imgHeight - 1) {\n        dy1 = Math.min(dy1, 0)\n        dy2 = Math.min(dy2, 0)\n      }\n      if (Math.max(edge[idx], edge[getIdx(x + dx1, y + dy1)], edge[getIdx(x + dx2, y + dy2)]) !== edge[idx]) {\n        edge[idx] = 0\n      }\n    }\n  }\n}\n","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.42\n * Cannyエッジ検出 (Step.2) 細線化\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const gaussianKernel = this.getGaussianKernel(5, 1.4)\n    const KSV = [\n      [-1, -2, -1],\n      [0, 0, 0],\n      [1, 2, 1],\n    ]\n    const KSH = [\n      [-1, 0, 1],\n      [-2, 0, 2],\n      [-1, 0, 1],\n    ]\n    const HT = 100\n    const LT = 30\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let gray = []\n\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      gray.push(color)\n    }\n    let gaussian = new Array(image.width * image.height).fill(0)\n    let fx = new Array(image.width * image.height).fill(0)\n    let fy = new Array(image.width * image.height).fill(0)\n    let edge = new Array(image.width * image.height).fill(0)\n    let angle = new Array(image.width * image.height).fill(0)\n    let out = new Array(image.width * image.height).fill(0)\n    this.adaptKernel(gray, gaussian, image.width, image.height, gaussianKernel)\n    this.adaptKernel(gaussian, fx, image.width, image.height, KSH)\n    this.adaptKernel(gaussian, fy, image.width, image.height, KSV)\n\n    for (let i = 0; i < fx.length; i++) {\n      edge[i] = Math.sqrt(Math.pow(fx[i], 2) + Math.pow(fy[i], 2))\n      if (edge[i] == 0) {\n        edge[i] = 1e-5\n      }\n      let t = Math.atan(fy[i] / fx[i])\n      if (-0.4142 < t && t <= 0.4142) angle[i] = 0\n      else if (0.4142 < t && t <= 2.4142) angle[i] = 45\n      else if (Math.abs(t) >= 2.4142) angle[i] = 90\n      else if (-2.4142 < t && t <= -0.4142) angle[i] = 135\n    }\n    this.nonMaximumSuppression(edge, angle, image.width, image.height)\n    this.histeresisThreshold(edge, out, image.width, image.height, HT, LT)\n\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = out[j]\n      dst1.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * ガウシアンカーネル生成\n   * @param {Number} kernelSize \n   * @param {Number} sigma \n   */\n  getGaussianKernel(kernelSize, sigma) {\n    const gaussian = (x, y, sigma) => Math.exp(-(x ** 2 + y ** 2) / (2 * sigma ** 2))\n    let w = 0\n    let kernel = Array.from(new Array(kernelSize), () => new Array(kernelSize).fill(0))\n\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      let _x = x - ~~(kernelSize / 2)\n      let _y = y - ~~(kernelSize / 2)\n      let g = gaussian(_x, _y, sigma)\n      kernel[y][x] = g\n      kernel[y][x] /= sigma * (Math.sqrt(2 * Math.PI))\n      w += kernel[y][x]\n    }\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      kernel[y][x] /= w\n    }\n    return kernel\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - ~~(kernelSize / 2)\n        let _j = j - ~~(kernelSize / 2)\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      dst[dstIdx] = k\n    }\n  }\n  /**\n   * Non-maximum suppression(NMS)\n   * @param {Array} edge edge image\n   * @param {Array} angle angle array\n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   */\n  nonMaximumSuppression(edge, angle, imgWidth, imgHeight) {\n    const getIdx = (x, y) => x + y * imgWidth\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = getIdx(x, y)\n      let dx1, dy1, dx2, dy2\n      if (angle[idx] == 0) {\n        [dx1, dy1, dx2, dy2] = [-1, 0, 1, 0]\n      } else if (angle[idx] == 45) {\n        [dx1, dy1, dx2, dy2] = [-1, 1, 1, -1]\n      } else if (angle[idx] == 90) {\n        [dx1, dy1, dx2, dy2] = [0, -1, 0, 1]\n      } else if (angle[idx] == 135) {\n        [dx1, dy1, dx2, dy2] = [-1, -1, 1, 1]\n      }\n      if (x === 0) {\n        dx1 = Math.max(dx1, 0)\n        dx2 = Math.max(dx2, 0)\n      }\n      if (x === imgWidth - 1) {\n        dx1 = Math.min(dx1, 0)\n        dx2 = Math.min(dx2, 0)\n      }\n      if (y === 0) {\n        dy1 = Math.max(dy1, 0)\n        dy2 = Math.max(dy2, 0)\n      }\n      if (y === imgHeight - 1) {\n        dy1 = Math.min(dy1, 0)\n        dy2 = Math.min(dy2, 0)\n      }\n      if (Math.max(edge[idx], edge[getIdx(x + dx1, y + dy1)], edge[getIdx(x + dx2, y + dy2)]) !== edge[idx]) {\n        edge[idx] = 0\n      }\n    }\n  }\n  /**\n   * ヒステリシス閾処理\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Number} HT \n   * @param {Number} LT \n   */\n  histeresisThreshold(src, dst, imgWidth, imgHeight, HT, LT) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernel = [\n      [1, 1, 1],\n      [1, 0, 1],\n      [1, 1, 1],\n    ]\n    for (let i = 0; i < src.length; i++) {\n        if (src[i] >= HT) {\n          dst[i] = 255\n        } else if (src[i] <= LT) {\n          dst[i] = 0\n        } else {\n          dst[i] = src[i]\n        }\n    }\n    let kernelSize = kernel.length\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let idx = getIndex(x, y)\n      if ( HT < src[idx] || src[idx] < LT){\n        continue\n      }\n      let k = []\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - ~~(kernelSize / 2)\n        let _j = j - ~~(kernelSize / 2)\n        let _idx = getIndex((x + _j), (y + _i))\n        k.push(kernel[i][j] * src[_idx])\n      }\n      let max = Math.max(...k)\n      if (max >= HT) {\n        dst[idx] = 255\n      } else {\n        dst[idx] = 0\n      }\n    }\n  }\n}\n","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.44\n * Hough変換・直線検出 (Step.1) Hough変換\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * 初期処理\n   */\n  init() {\n    this.setSrcImage(config.srcImage.thorino)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas canvas object\n   * @param {Object} image image object \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const gaussianKernel = this.getGaussianKernel(5, 1.4)\n    const KSV = [\n      [-1, -2, -1],\n      [0, 0, 0],\n      [1, 2, 1],\n    ]\n    const KSH = [\n      [-1, 0, 1],\n      [-2, 0, 2],\n      [-1, 0, 1],\n    ]\n    const HT = 100\n    const LT = 30\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    // let dst1 = ctx1.createImageData(image.width, image.height)\n    let gray = []\n\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      gray.push(color)\n    }\n    let gaussian = new Array(image.width * image.height).fill(0)\n    let fx = new Array(image.width * image.height).fill(0)\n    let fy = new Array(image.width * image.height).fill(0)\n    let edge = new Array(image.width * image.height).fill(0)\n    let angle = new Array(image.width * image.height).fill(0)\n    let out = new Array(image.width * image.height).fill(0)\n    this.adaptKernel(gray, gaussian, image.width, image.height, gaussianKernel)\n    this.adaptKernel(gaussian, fx, image.width, image.height, KSH)\n    this.adaptKernel(gaussian, fy, image.width, image.height, KSV)\n\n    for (let i = 0; i < fx.length; i++) {\n      edge[i] = Math.sqrt(Math.pow(fx[i], 2) + Math.pow(fy[i], 2))\n      if (edge[i] == 0) {\n        edge[i] = 1e-5\n      }\n      let t = Math.atan(fy[i] / fx[i])\n      if (-0.4142 < t && t <= 0.4142) angle[i] = 0\n      else if (0.4142 < t && t <= 2.4142) angle[i] = 45\n      else if (Math.abs(t) >= 2.4142) angle[i] = 90\n      else if (-2.4142 < t && t <= -0.4142) angle[i] = 135\n    }\n    this.nonMaximumSuppression(edge, angle, image.width, image.height)\n    this.histeresisThreshold(edge, out, image.width, image.height, HT, LT)\n    let [hough, dstWidth, dstHeight] = this.hough(out, image.width, image.height)\n\n    canvas1.width = dstWidth\n    canvas1.height = dstHeight\n    let dst1 = ctx1.createImageData(dstWidth, dstHeight)\n\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = hough[j]\n      dst1.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * ガウシアンカーネル生成\n   * @param {Number} kernelSize \n   * @param {Number} sigma \n   */\n  getGaussianKernel(kernelSize, sigma) {\n    const gaussian = (x, y, sigma) => Math.exp(-(x ** 2 + y ** 2) / (2 * sigma ** 2))\n    let w = 0\n    let kernel = Array.from(new Array(kernelSize), () => new Array(kernelSize).fill(0))\n\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      let _x = x - ~~(kernelSize / 2)\n      let _y = y - ~~(kernelSize / 2)\n      let g = gaussian(_x, _y, sigma)\n      kernel[y][x] = g\n      kernel[y][x] /= sigma * (Math.sqrt(2 * Math.PI))\n      w += kernel[y][x]\n    }\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      kernel[y][x] /= w\n    }\n    return kernel\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - ~~(kernelSize / 2)\n        let _j = j - ~~(kernelSize / 2)\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      dst[dstIdx] = k\n    }\n  }\n  /**\n   * Non-maximum suppression(NMS)\n   * @param {Array} edge edge image\n   * @param {Array} angle angle array\n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   */\n  nonMaximumSuppression(edge, angle, imgWidth, imgHeight) {\n    const getIdx = (x, y) => x + y * imgWidth\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = getIdx(x, y)\n      let dx1, dy1, dx2, dy2\n      if (angle[idx] == 0) {\n        [dx1, dy1, dx2, dy2] = [-1, 0, 1, 0]\n      } else if (angle[idx] == 45) {\n        [dx1, dy1, dx2, dy2] = [-1, 1, 1, -1]\n      } else if (angle[idx] == 90) {\n        [dx1, dy1, dx2, dy2] = [0, -1, 0, 1]\n      } else if (angle[idx] == 135) {\n        [dx1, dy1, dx2, dy2] = [-1, -1, 1, 1]\n      }\n      if (x === 0) {\n        dx1 = Math.max(dx1, 0)\n        dx2 = Math.max(dx2, 0)\n      }\n      if (x === imgWidth - 1) {\n        dx1 = Math.min(dx1, 0)\n        dx2 = Math.min(dx2, 0)\n      }\n      if (y === 0) {\n        dy1 = Math.max(dy1, 0)\n        dy2 = Math.max(dy2, 0)\n      }\n      if (y === imgHeight - 1) {\n        dy1 = Math.min(dy1, 0)\n        dy2 = Math.min(dy2, 0)\n      }\n      if (Math.max(edge[idx], edge[getIdx(x + dx1, y + dy1)], edge[getIdx(x + dx2, y + dy2)]) !== edge[idx]) {\n        edge[idx] = 0\n      }\n    }\n  }\n  /**\n   * ヒステリシス閾処理\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Number} HT \n   * @param {Number} LT \n   */\n  histeresisThreshold(src, dst, imgWidth, imgHeight, HT, LT) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernel = [\n      [1, 1, 1],\n      [1, 0, 1],\n      [1, 1, 1],\n    ]\n    for (let i = 0; i < src.length; i++) {\n        if (src[i] >= HT) {\n          dst[i] = 255\n        } else if (src[i] <= LT) {\n          dst[i] = 0\n        } else {\n          dst[i] = src[i]\n        }\n    }\n    let kernelSize = kernel.length\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let idx = getIndex(x, y)\n      if ( HT < src[idx] || src[idx] < LT){\n        continue\n      }\n      let k = []\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - ~~(kernelSize / 2)\n        let _j = j - ~~(kernelSize / 2)\n        let _idx = getIndex((x + _j), (y + _i))\n        k.push(kernel[i][j] * src[_idx])\n      }\n      let max = Math.max(...k)\n      if (max >= HT) {\n        dst[idx] = 255\n      } else {\n        dst[idx] = 0\n      }\n    }\n  }\n  /**\n   * \n   * @param {Array} src \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @return {Array} [hough, imgWidth, imgHeight]\n   */\n  hough(src, imgWidth, imgHeight) {\n    // let drho = 1\n    const dtheta = 1\n    const radMax = 180\n    const rhoMax = Math.ceil(Math.sqrt(imgHeight ** 2 + imgWidth ** 2))\n    let hough = new Array(rhoMax * radMax).fill(0)\n\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = y * imgHeight + x\n      if (src[idx] === 0) {\n        continue\n      }\n      for (let theta = 0; theta < radMax; theta += dtheta) {\n        let t = Math.PI / radMax * theta\n        let rho = ~~(x * Math.cos(t) + y * Math.sin(t))\n        hough[theta + rho * radMax] += 1\n      }\n    }\n    return [hough, radMax, rhoMax]\n  }\n}\n","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.47\n * モルフォロジー処理(膨張)\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx2.drawImage(image, 0, 0, image.width, image.height)\n    let dst2 = ctx2.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    // let mor1 = new Array(image.width * image.height).fill(0)\n    // let mor2 = new Array(image.width * image.height).fill(0)\n    let t = this.threshold(src1.data)\n    const kernel = [\n      [0, 1, 0],\n      [1, 0, 1],\n      [0, 1, 0],\n    ]\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let c = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n      bin[j] = c >= t ? 255 : 0\n    }\n    let mor1 = bin.slice()\n    this.adaptKernel(bin, mor1, image.width, image.height, kernel, (e) => {\n      if (e >= 255) return 255\n    })\n    let mor2 = mor1.slice()\n    this.adaptKernel(mor1, mor2, image.width, image.height, kernel, (e) => {\n      if (e >= 255) return 255\n    })\n\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = bin[j]\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = mor2[j]\n      dst1.data[i + 3] = 255\n      dst2.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 大津の2値化\n   * @param {ImageData} src\n   */\n  threshold(src) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let histgram = Array(256).fill(0)\n    let t = 0\n    let max = 0\n\n    for (let i = 0; i < src.length; i += 4) {\n      let g = ~~grayscale(src[i], src[i + 1], src[i + 2])\n      histgram[g]++\n    }\n\n    for (let i = 0; i < 256; i++) {\n      let w1 = 0\n      let w2 = 0\n      let sum1 = 0\n      let sum2 = 0\n      let m1 = 0\n      let m2 = 0\n      for (let j = 0; j <= i; ++j) {\n        w1 += histgram[j]\n        sum1 += j * histgram[j]\n      }\n      for (let j = i + 1; j < 256; ++j) {\n        w2 += histgram[j]\n        sum2 += j * histgram[j]\n      }\n      if (w1) {\n        m1 = sum1 / w1\n      }\n      if (w2) {\n        m2 = sum2 / w2\n      }\n      let tmp = (w1 * w2 * (m1 - m2) * (m1 - m2))\n      if (tmp > max) {\n        max = tmp\n        t = i\n      }\n    }\n    return t\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 1; x < imgWidth + 1; x++) for (let y = 1; y < imgHeight + 1; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let srcIdx = getIndex((x + i - d), (y + j - d))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      }\n    }\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n// import math from \"mathjs\"\n/**\n * Q.48\n * モルフォロジー処理(収縮)\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx2.drawImage(image, 0, 0, image.width, image.height)\n    let dst2 = ctx2.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    let t = this.threshold(src1.data)\n    const kernel = [\n      [0, 1, 0],\n      [1, 0, 1],\n      [0, 1, 0],\n    ]\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let c = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n      bin[j] = c >= t ? 255 : 0\n    }\n    let mor1 = bin.slice()\n    this.adaptKernel(bin, mor1, image.width, image.height, kernel, (e) => {\n      if (e < 255 * 4) return 0\n    })\n    let mor2 =  mor1.slice()\n    this.adaptKernel(mor1, mor2, image.width, image.height, kernel, (e) => {\n      if (e < 255 * 4) return 0\n    })\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = bin[j]\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = mor2[j]\n      dst1.data[i + 3] = 255\n      dst2.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 大津の2値化\n   * @param {ImageData} src\n   */\n  threshold(src) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let histgram = Array(256).fill(0)\n    let t = 0\n    let max = 0\n\n    for (let i = 0; i < src.length; i += 4) {\n      let g = ~~grayscale(src[i], src[i + 1], src[i + 2])\n      histgram[g]++\n    }\n\n    for (let i = 0; i < 256; i++) {\n      let w1 = 0\n      let w2 = 0\n      let sum1 = 0\n      let sum2 = 0\n      let m1 = 0\n      let m2 = 0\n      for (let j = 0; j <= i; ++j) {\n        w1 += histgram[j]\n        sum1 += j * histgram[j]\n      }\n      for (let j = i + 1; j < 256; ++j) {\n        w2 += histgram[j]\n        sum2 += j * histgram[j]\n      }\n      if (w1) {\n        m1 = sum1 / w1\n      }\n      if (w2) {\n        m2 = sum2 / w2\n      }\n      let tmp = (w1 * w2 * (m1 - m2) * (m1 - m2))\n      if (tmp > max) {\n        max = tmp\n        t = i\n      }\n    }\n    return t\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let srcIdx = getIndex((x + i - d), (y + j - d))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      // let tmp = [\n      //   [src[getIndex(x - 1, y - 1)], src[getIndex(x, y - 1,)], src[getIndex(x + 1, y - 1)]],\n      //   [src[getIndex(x - 1, y)], src[getIndex(x, y)], src[getIndex(x + 1, y)]],\n      //   [src[getIndex(x - 1, y + 1)], src[getIndex(x, y + 1)], src[getIndex(x + 1, y + 1)]],\n      // ]\n      // k = math.dotMultiply(tmp, kernel).reduce((pre,current) => {\n      //   pre.push(...current)\n      //   return pre\n      // },[]).reduce((prev, current) => {\n      //   return prev + current;\n      // })\n      let dstIdx = getIndex(x - 1, y - 1)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      }\n    }\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.49\n * オープニング処理\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx2.drawImage(image, 0, 0, image.width, image.height)\n    let dst2 = ctx2.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    let t = this.threshold(src1.data)\n    const kernel = [\n      [0, 1, 0],\n      [1, 0, 1],\n      [0, 1, 0],\n    ]\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      bin[j] = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2]) > t ? 255 : 0\n    }\n    let mor = bin.slice()\n    this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n      if (e < 255 * 4) return 0\n    })\n    this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n      if (e >= 255) return 255\n    })\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = bin[j]\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = mor[j]\n      dst1.data[i + 3] = 255\n      dst2.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 大津の2値化\n   * @param {ImageData} src\n   */\n  threshold(src) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let histgram = Array(256).fill(0)\n    let t = 0\n    let max = 0\n\n    for (let i = 0; i < src.length; i += 4) {\n      let g = ~~grayscale(src[i], src[i + 1], src[i + 2])\n      histgram[g]++\n    }\n\n    for (let i = 0; i < 256; i++) {\n      let w1 = 0\n      let w2 = 0\n      let sum1 = 0\n      let sum2 = 0\n      let m1 = 0\n      let m2 = 0\n      for (let j = 0; j <= i; ++j) {\n        w1 += histgram[j]\n        sum1 += j * histgram[j]\n      }\n      for (let j = i + 1; j < 256; ++j) {\n        w2 += histgram[j]\n        sum2 += j * histgram[j]\n      }\n      if (w1) {\n        m1 = sum1 / w1\n      }\n      if (w2) {\n        m2 = sum2 / w2\n      }\n      let tmp = (w1 * w2 * (m1 - m2) * (m1 - m2))\n      if (tmp > max) {\n        max = tmp\n        t = i\n      }\n    }\n    return t\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    // dst = new Array(src.length).fill(0)\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let srcIdx = getIndex((x + i - d), (y + j - d))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      }\n    }\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.50\n * クロージング処理\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx2.drawImage(image, 0, 0, image.width, image.height)\n    let dst2 = ctx2.createImageData(image.width, image.height)\n    let gray = new Array(image.width * image.height).fill(0)\n    const kernel = [\n      [0, 1, 0],\n      [1, 0, 1],\n      [0, 1, 0],\n    ]\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      gray[j] = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n    }\n    let bin = this.cannyEdge(gray, image.width, image.height)\n    let mor = bin.slice()\n    this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n      if (e >= 255) return 255\n    })\n    this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n      if (e < 255 * 4) return 0\n    })\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = bin[j]\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = mor[j]\n      dst1.data[i + 3] = 255\n      dst2.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback = null) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - d\n        let _j = j - d\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      } else{\n        dst[dstIdx] = k\n      }\n    }\n  }\n  /**\n   * ガウシアンカーネル生成\n   * @param {Number} kernelSize \n   * @param {Number} sigma \n   */\n  getGaussianKernel(kernelSize, sigma) {\n    const gaussian = (x, y, sigma) => Math.exp(-(x ** 2 + y ** 2) / (2 * sigma ** 2))\n    let w = 0\n    let kernel = Array.from(new Array(kernelSize), () => new Array(kernelSize).fill(0))\n    let d = Math.floor(kernelSize / 2)\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      let _x = x - d\n      let _y = y - d\n      let g = gaussian(_x, _y, sigma)\n      kernel[y][x] = g\n      kernel[y][x] /= sigma * (Math.sqrt(2 * Math.PI))\n      w += kernel[y][x]\n    }\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      kernel[y][x] /= w\n    }\n    return kernel\n  }\n  /**\n   * canny\n   */\n  cannyEdge(src, imgWidth, imgHeight,) {\n    const gaussianKernel = this.getGaussianKernel(5, 1.4)\n    const KSV = [\n      [-1, -2, -1],\n      [0, 0, 0],\n      [1, 2, 1],\n    ]\n    const KSH = [\n      [-1, 0, 1],\n      [-2, 0, 2],\n      [-1, 0, 1],\n    ]\n    const HT = 100\n    const LT = 30\n    let gaussian = new Array(imgWidth * imgHeight).fill(0)\n    let fx = new Array(imgWidth * imgHeight).fill(0)\n    let fy = new Array(imgWidth * imgHeight).fill(0)\n    let edge = new Array(imgWidth * imgHeight).fill(0)\n    let angle = new Array(imgWidth * imgHeight).fill(0)\n    let out = new Array(imgWidth * imgHeight).fill(0)\n    this.adaptKernel(src, gaussian, imgWidth, imgHeight, gaussianKernel)\n    this.adaptKernel(gaussian, fx, imgWidth, imgHeight, KSH)\n    this.adaptKernel(gaussian, fy, imgWidth, imgHeight, KSV)\n    for (let i = 0; i < fx.length; i++) {\n      edge[i] = Math.sqrt(Math.pow(fx[i], 2) + Math.pow(fy[i], 2))\n      if (edge[i] == 0) {\n        edge[i] = 1e-5\n      }\n      let t = Math.atan(fy[i] / fx[i])\n      if (-0.4142 < t && t <= 0.4142) angle[i] = 0\n      else if (0.4142 < t && t <= 2.4142) angle[i] = 45\n      else if (Math.abs(t) >= 2.4142) angle[i] = 90\n      else if (-2.4142 < t && t <= -0.4142) angle[i] = 135\n    }\n    this.nonMaximumSuppression(edge, angle, imgWidth, imgHeight)\n    this.histeresisThreshold(edge, out, imgWidth, imgHeight, HT, LT)\n    return out\n  }\n    /**\n   * Non-maximum suppression(NMS)\n   * @param {Array} edge edge image\n   * @param {Array} angle angle array\n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   */\n  nonMaximumSuppression(edge, angle, imgWidth, imgHeight) {\n    const getIdx = (x, y) => x + y * imgWidth\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = getIdx(x, y)\n      let dx1, dy1, dx2, dy2\n      if (angle[idx] == 0) {\n        [dx1, dy1, dx2, dy2] = [-1, 0, 1, 0]\n      } else if (angle[idx] == 45) {\n        [dx1, dy1, dx2, dy2] = [-1, 1, 1, -1]\n      } else if (angle[idx] == 90) {\n        [dx1, dy1, dx2, dy2] = [0, -1, 0, 1]\n      } else if (angle[idx] == 135) {\n        [dx1, dy1, dx2, dy2] = [-1, -1, 1, 1]\n      }\n      if (x === 0) {\n        dx1 = Math.max(dx1, 0)\n        dx2 = Math.max(dx2, 0)\n      }\n      if (x === imgWidth - 1) {\n        dx1 = Math.min(dx1, 0)\n        dx2 = Math.min(dx2, 0)\n      }\n      if (y === 0) {\n        dy1 = Math.max(dy1, 0)\n        dy2 = Math.max(dy2, 0)\n      }\n      if (y === imgHeight - 1) {\n        dy1 = Math.min(dy1, 0)\n        dy2 = Math.min(dy2, 0)\n      }\n      if (Math.max(edge[idx], edge[getIdx(x + dx1, y + dy1)], edge[getIdx(x + dx2, y + dy2)]) !== edge[idx]) {\n        edge[idx] = 0\n      }\n    }\n  }\n  /**\n   * ヒステリシス閾処理\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Number} HT \n   * @param {Number} LT \n   */\n  histeresisThreshold(src, dst, imgWidth, imgHeight, HT, LT) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernel = [\n      [1, 1, 1],\n      [1, 0, 1],\n      [1, 1, 1],\n    ]\n    for (let i = 0; i < src.length; i++) {\n        if (src[i] >= HT) {\n          dst[i] = 255\n        } else if (src[i] <= LT) {\n          dst[i] = 0\n        } else {\n          dst[i] = src[i]\n        }\n    }\n    let kernelSize = kernel.length\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let idx = getIndex(x, y)\n      if ( HT < src[idx] || src[idx] < LT){\n        continue\n      }\n      let k = []\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - ~~(kernelSize / 2)\n        let _j = j - ~~(kernelSize / 2)\n        let _idx = getIndex((x + _j), (y + _i))\n        k.push(kernel[i][j] * src[_idx])\n      }\n      let max = Math.max(...k)\n      if (max >= HT) {\n        dst[idx] = 255\n      } else {\n        dst[idx] = 0\n      }\n    }\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.51\n * モルフォロジー勾配\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    let erode = new Array(image.width * image.height).fill(0)\n    let dilate = new Array(image.width * image.height).fill(0)\n    let t = this.threshold(src1.data)\n    const kernel = [\n      [0, 1, 0],\n      [1, 0, 1],\n      [0, 1, 0],\n    ]\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      bin[j] = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2]) < t ? 0 : 255\n    }\n    this.adaptKernel(bin.slice(), erode, image.width, image.height, kernel, (e) => {\n      if (e < 255 * 4) return 0\n      else return 255\n    })\n    this.adaptKernel(bin.slice(), dilate, image.width, image.height, kernel, (e) => {\n      if (e >= 255) return 255\n    })\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let p = Math.abs(erode[j] - dilate[j])\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = p\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * 大津の2値化\n   * @param {ImageData} src\n   */\n  threshold(src) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let histgram = Array(256).fill(0)\n    let t = 0\n    let max = 0\n\n    for (let i = 0; i < src.length; i += 4) {\n      let g = ~~grayscale(src[i], src[i + 1], src[i + 2])\n      histgram[g]++\n    }\n\n    for (let i = 0; i < 256; i++) {\n      let w1 = 0\n      let w2 = 0\n      let sum1 = 0\n      let sum2 = 0\n      let m1 = 0\n      let m2 = 0\n      for (let j = 0; j <= i; ++j) {\n        w1 += histgram[j]\n        sum1 += j * histgram[j]\n      }\n      for (let j = i + 1; j < 256; ++j) {\n        w2 += histgram[j]\n        sum2 += j * histgram[j]\n      }\n      if (w1) {\n        m1 = sum1 / w1\n      }\n      if (w2) {\n        m2 = sum2 / w2\n      }\n      let tmp = (w1 * w2 * (m1 - m2) * (m1 - m2))\n      if (tmp > max) {\n        max = tmp\n        t = i\n      }\n    }\n    return t\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback = null) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - d\n        let _j = j - d\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      } else{\n        dst[dstIdx] = k\n      }\n    }\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.52\n * トップハット変換\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const morphologyTime = 3\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx2.drawImage(image, 0, 0, image.width, image.height)\n    let dst2 = ctx2.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    let t = this.threshold(src1.data)\n    const kernel = [\n      [0, 1, 0],\n      [1, 0, 1],\n      [0, 1, 0],\n    ]\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      bin[j] = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2]) < t ? 0 : 255\n    }\n    let mor = bin.slice()\n    for (let i = 0; i < morphologyTime; i++) {\n      this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n        if (e < 255 * 4) return 0\n      })\n    }\n    for (let i = 0; i < morphologyTime; i++) {\n      this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n        if (e >= 255) return 255\n      })\n    }\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let p = bin[j] - mor[j]\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = bin[j]\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = p\n      dst1.data[i + 3] = 255\n      dst2.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 大津の2値化\n   * @param {ImageData} src\n   */\n  threshold(src) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let histgram = Array(256).fill(0)\n    let t = 0\n    let max = 0\n\n    for (let i = 0; i < src.length; i += 4) {\n      let g = ~~grayscale(src[i], src[i + 1], src[i + 2])\n      histgram[g]++\n    }\n\n    for (let i = 0; i < 256; i++) {\n      let w1 = 0\n      let w2 = 0\n      let sum1 = 0\n      let sum2 = 0\n      let m1 = 0\n      let m2 = 0\n      for (let j = 0; j <= i; ++j) {\n        w1 += histgram[j]\n        sum1 += j * histgram[j]\n      }\n      for (let j = i + 1; j < 256; ++j) {\n        w2 += histgram[j]\n        sum2 += j * histgram[j]\n      }\n      if (w1) {\n        m1 = sum1 / w1\n      }\n      if (w2) {\n        m2 = sum2 / w2\n      }\n      let tmp = (w1 * w2 * (m1 - m2) * (m1 - m2))\n      if (tmp > max) {\n        max = tmp\n        t = i\n      }\n    }\n    return t\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback = null) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - d\n        let _j = j - d\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      } else{\n        dst[dstIdx] = k\n      }\n    }\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.53\n * ブラックハット変換\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const morphologyTime = 3\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx2.drawImage(image, 0, 0, image.width, image.height)\n    let dst2 = ctx2.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    let t = this.threshold(src1.data)\n    const kernel = [\n      [0, 1, 0],\n      [1, 0, 1],\n      [0, 1, 0],\n    ]\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let g = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n      bin[j] = g < t ? 0 : 255\n    }\n    let mor = bin.slice()\n    for (let i = 0; i < morphologyTime; i++) {\n      this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n        if (e >= 255) return 255\n      })\n    }\n    for (let i = 0; i < morphologyTime; i++) {\n      this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n        if (e < 255 * 4) return 0\n      })\n    }\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let p = mor[j] - bin[j]\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = bin[j]\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = p\n      dst1.data[i + 3] = 255\n      dst2.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 大津の2値化\n   * @param {ImageData} src\n   */\n  threshold(src) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let histgram = Array(256).fill(0)\n    let t = 0\n    let max = 0\n\n    for (let i = 0; i < src.length; i += 4) {\n      let g = ~~grayscale(src[i], src[i + 1], src[i + 2])\n      histgram[g]++\n    }\n\n    for (let i = 0; i < 256; i++) {\n      let w1 = 0\n      let w2 = 0\n      let sum1 = 0\n      let sum2 = 0\n      let m1 = 0\n      let m2 = 0\n      for (let j = 0; j <= i; ++j) {\n        w1 += histgram[j]\n        sum1 += j * histgram[j]\n      }\n      for (let j = i + 1; j < 256; ++j) {\n        w2 += histgram[j]\n        sum2 += j * histgram[j]\n      }\n      if (w1) {\n        m1 = sum1 / w1\n      }\n      if (w2) {\n        m2 = sum2 / w2\n      }\n      let tmp = (w1 * w2 * (m1 - m2) * (m1 - m2))\n      if (tmp > max) {\n        max = tmp\n        t = i\n      }\n    }\n    return t\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback = null) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - d\n        let _j = j - d\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      } else{\n        dst[dstIdx] = k\n      }\n    }\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.54\n * テンプレートマッチング SSD\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx2.drawImage(image, 0, 0, image.width, image.height)\n    let template = new Image()\n    template.src = config.srcImage.imori_part\n    template.onload = () => {\n      canvas1.width = template.width\n      canvas1.height = template.height\n      ctx1.drawImage(template, 0, 0, template.width, template.height)\n      let src1 = ctx1.getImageData(0, 0, template.width, template.height)\n      let src2 = ctx2.getImageData(0, 0, image.width, image.height)\n      let [x, y] = this.templateMatchingSSD(src2.data, image.width, image.height, src1.data, template.width, template.height)\n      ctx2.strokeStyle = \"rgb(230, 10, 10)\";\n      ctx2.rect(x, y, template.width, template.height)\n      ctx2.stroke()\n    }\n  }\n  /**\n   * template matching (SSD)\n   * @param {Array} src src image\n   * @param {Number} W src image width\n   * @param {Number} H src image height\n   * @param {Array} template template image\n   * @param {Number} tW template image width\n   * @param {NUmber} tH template image height\n   * @return {Array} pos \n   */\n  templateMatchingSSD(src, W, H, template, tW, tH) {\n    const getTplIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), tW - 1)\n      y = Math.min(Math.max(y, 0), tH - 1)\n      return y * tW * 4 + x * 4 + channel\n    }\n    const getSrcIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), W - 1)\n      y = Math.min(Math.max(y, 0), H - 1)\n      return y * W * 4 + x * 4 + channel\n    }\n    let resultX = 0\n    let resultY = 0\n    let v = 255 * W * H * 3\n    for (let y = 0; y < H - tH; y++) for (let x = 0; x < W - tW; x++) {\n      let sum = 0\n      for (let j = 0; j < tH; j++) for (let i = 0; i < tW; i++) {\n        for (let c = 0; c < 3; c++) {\n          let idx1 = getSrcIndex(x + i, y + j, c)\n          let idx2 = getTplIndex(i, j, c)\n          sum += (src[idx1] - template[idx2]) ** 2\n        }\n      }\n      if (sum < v) {\n        v = sum\n        resultX = x\n        resultY = y\n      }\n    }\n    return [resultX, resultY]\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.55\n * テンプレートマッチング SAD\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx2.drawImage(image, 0, 0, image.width, image.height)\n    let template = new Image()\n    template.src = config.srcImage.imori_part\n    template.onload = () => {\n      canvas1.width = template.width\n      canvas1.height = template.height\n      ctx1.drawImage(template, 0, 0, template.width, template.height)\n      let src1 = ctx1.getImageData(0, 0, template.width, template.height)\n      let src2 = ctx2.getImageData(0, 0, image.width, image.height)\n      let [x, y] = this.templateMatchingSAD(src2.data, image.width, image.height, src1.data, template.width, template.height)\n      ctx2.strokeStyle = \"rgb(230, 10, 10)\";\n      ctx2.rect(x, y, template.width, template.height)\n      ctx2.stroke()\n    }\n  }\n  /**\n   * template matching (SAD)\n   * @param {Array} src src image\n   * @param {Number} W src image width\n   * @param {Number} H src image height\n   * @param {Array} template template image\n   * @param {Number} tW template image width\n   * @param {NUmber} tH template image height\n   * @return {Array} pos \n   */\n  templateMatchingSAD(src, W, H, template, tW, tH) {\n    const getTplIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), tW - 1)\n      y = Math.min(Math.max(y, 0), tH - 1)\n      return y * tW * 4 + x * 4 + channel\n    }\n    const getSrcIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), W - 1)\n      y = Math.min(Math.max(y, 0), H - 1)\n      return y * W * 4 + x * 4 + channel\n    }\n    let resultX = 0\n    let resultY = 0\n    let v = 255 * W * H * 3\n    for (let y = 0; y < H - tH; y++) for (let x = 0; x < W - tW; x++) {\n      let sum = 0\n      for (let j = 0; j < tH; j++) for (let i = 0; i < tW; i++) {\n        for (let c = 0; c < 3; c++) {\n          let idx1 = getSrcIndex(x + i, y + j, c)\n          let idx2 = getTplIndex(i, j, c)\n          sum += Math.abs(src[idx1] - template[idx2])\n        }\n      }\n      if (sum < v) {\n        v = sum\n        resultX = x\n        resultY = y\n      }\n    }\n    return [resultX, resultY]\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.56\n * テンプレートマッチング NCC\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx2.drawImage(image, 0, 0, image.width, image.height)\n    let template = new Image()\n    template.src = config.srcImage.imori_part\n    template.onload = () => {\n      canvas1.width = template.width\n      canvas1.height = template.height\n      ctx1.drawImage(template, 0, 0, template.width, template.height)\n      let src1 = ctx1.getImageData(0, 0, template.width, template.height)\n      let src2 = ctx2.getImageData(0, 0, image.width, image.height)\n      let [x, y] = this.templateMatchingNCC(src2.data, image.width, image.height, src1.data, template.width, template.height)\n      ctx2.strokeStyle = \"rgb(230, 10, 10)\";\n      ctx2.rect(x, y, template.width, template.height)\n      ctx2.stroke()\n    }\n  }\n  /**\n   * template matching (NCC)\n   * @param {Array} src src image\n   * @param {Number} W src image width\n   * @param {Number} H src image height\n   * @param {Array} template template image\n   * @param {Number} tW template image width\n   * @param {NUmber} tH template image height\n   * @return {Array} pos \n   */\n  templateMatchingNCC(src, W, H, template, tW, tH) {\n    const getTplIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), tW - 1)\n      y = Math.min(Math.max(y, 0), tH - 1)\n      return y * tW * 4 + x * 4 + channel\n    }\n    const getSrcIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), W - 1)\n      y = Math.min(Math.max(y, 0), H - 1)\n      return y * W * 4 + x * 4 + channel\n    }\n    let resultX = 0\n    let resultY = 0\n    let v = 0\n    for (let y = 0; y < H - tH; y++) for (let x = 0; x < W - tW; x++) {\n      let sum = 0\n      let A = 0\n      let B = 0\n      let C = 0\n      for (let j = 0; j < tH; j++) for (let i = 0; i < tW; i++) {\n        for (let c = 0; c < 3; c++) {\n          let idx1 = getSrcIndex(x + i, y + j, c)\n          let idx2 = getTplIndex(i, j, c)\n          // sum += Math.abs(src[idx1] - template[idx2])\n          A += (src[idx1] * template[idx2])\n          B += (src[idx1]) ** 2\n          C += (template[idx2]) ** 2\n        }\n      }\n      sum = A / Math.sqrt(B) * Math.sqrt(C)\n      if (sum > v) {\n        v = sum\n        resultX = x\n        resultY = y\n      }\n    }\n    return [resultX, resultY]\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.57\n * テンプレートマッチング ZNCC\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx2.drawImage(image, 0, 0, image.width, image.height)\n    let template = new Image()\n    template.src = config.srcImage.imori_part\n    const onloadFunction = () => {\n      canvas1.width = template.width\n      canvas1.height = template.height\n      ctx1.drawImage(template, 0, 0, template.width, template.height)\n      let src1 = ctx1.getImageData(0, 0, template.width, template.height)\n      let src2 = ctx2.getImageData(0, 0, image.width, image.height)\n      let [x, y] = this.templateMatchingZNCC(src2.data, image.width, image.height, src1.data, template.width, template.height)\n      ctx2.strokeStyle = \"rgb(230, 10, 10)\";\n      ctx2.rect(x, y, template.width, template.height)\n      ctx2.stroke()\n    }\n    template.addEventListener(\"load\", onloadFunction, true)\n  }\n  /**\n   * template matching (ZNCC)\n   * @param {Array} src src image\n   * @param {Number} W src image width\n   * @param {Number} H src image height\n   * @param {Array} template template image\n   * @param {Number} tW template image width\n   * @param {NUmber} tH template image height\n   * @return {Array} pos \n   */\n  templateMatchingZNCC(src, W, H, template, tW, tH) {\n    const getTplIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), tW - 1)\n      y = Math.min(Math.max(y, 0), tH - 1)\n      return y * tW * 4 + x * 4 + channel\n    }\n    const getSrcIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), W - 1)\n      y = Math.min(Math.max(y, 0), H - 1)\n      return y * W * 4 + x * 4 + channel\n    }\n    let resultX = 0\n    let resultY = 0\n    let v = 0\n    for (let y = 0; y < H - tH; y++) for (let x = 0; x < W - tW; x++) {\n      let sum = 0\n      let A = 0\n      let B = 0\n      let C = 0\n      for (let j = 0; j < tH; j++) for (let i = 0; i < tW; i++) {\n        for (let c = 0; c < 3; c++) {\n          let idx1 = getSrcIndex(x + i, y + j, c)\n          let idx2 = getTplIndex(i, j, c)\n          // sum += Math.abs(src[idx1] - template[idx2]) //todo:\n          A += (src[idx1] * template[idx2])\n          B += (src[idx1]) ** 2\n          C += (template[idx2]) ** 2\n        }\n      }\n      sum = A / Math.sqrt(B) * Math.sqrt(C)\n      if (sum > v) {\n        v = sum\n        resultX = x\n        resultY = y\n      }\n    }\n    return [resultX, resultY]\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.58\n * ラベリング 4近傍\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  init() {\n    this.setSrcImage(config.srcImage.seg)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const getRandInt = (min, max) => {\n      min = Math.ceil(min)\n      max = Math.floor(max)\n      return Math.floor(Math.random() * (max - min)) + min\n    }\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    let out = new Array(image.width * image.height).fill([0, 0, 0])\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      bin[j] = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2]) > 128 ? 255 : 0\n    }\n    let [label, lut, nabelLength] = this.rasterScan(bin, image.width, image.height)\n    let colors = Array.from(new Array(nabelLength), () => [\n      getRandInt(0, 255), getRandInt(0, 255), getRandInt(0, 255)\n    ])\n    for (let i = 0, idx = 2; idx < lut.length; i++ , idx++) {\n      let c = colors[lut[idx] - 2]\n      for (let j = 0; j < label.length; j++) {\n        if (label[j] === i + 2) {\n          out[j] = c\n        }\n      }\n    }\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      let p = out[j]\n      if (!p) {\n        p = [0, 0, 0]\n      }\n      dst1.data[i] = p[0]\n      dst1.data[i + 1] = p[1]\n      dst1.data[i + 2] = p[2]\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * raster scan\n   * @param {Array} src src image binary\n   * @param {Number} W src image width\n   * @param {Number} H src image height\n   * @return {Array} pos \n   */\n  rasterScan(src, W, H) {\n    const getIdx = (x, y) => {\n      y = Math.min(Math.max(y, 0), H - 1)\n      x = Math.min(Math.max(x, 0), W - 1)\n      return y * W + x\n    }\n    let label = src.slice().map(e => e > 0 ? 1 : 0)\n    let lut = new Array(src.length).fill(0)\n    let n = 1\n    let count = 1\n    for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n      if (label[getIdx(x, y)] == 0) {\n        continue\n      }\n      let c3 = label[getIdx(x, y - 1)]\n      let c5 = label[getIdx(x - 1, y)]\n      if ((c3 < 2) && (c5 < 2)) {\n        n++\n        label[getIdx(x, y)] = n\n      } else {\n        let _vs = [c3, c5]\n        let vs = []\n        _vs.forEach(e => {\n          if (e > 1) {\n            vs.push(e)\n          }\n        })\n        let v = Math.min(...vs)\n        label[getIdx(x, y)] = v\n        let minv = v\n        vs.forEach(_v => {\n          if (lut[_v] !== 0) {\n            minv = Math.min(minv, lut[_v])\n          }\n        })\n        vs.forEach(_v => {\n          lut[_v] = minv\n        })\n      }\n    }\n    for (let l = 2; l < n + 1; l++) {\n      let flag = true\n      for (let i = 0; i < n + 1; i++) {\n        if (lut[i] === l) {\n          if (flag) {\n            count++\n            flag = false\n          }\n          lut[i] = count\n        }\n      }\n    }\n    return [label, lut, count]\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.59\n * ラベリング 8近傍\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  init() {\n    this.setSrcImage(config.srcImage.seg)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const getRandInt = (min, max) => {\n      min = Math.ceil(min)\n      max = Math.floor(max)\n      return Math.floor(Math.random() * (max - min)) + min\n    }\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    let out = new Array(image.width * image.height).fill([0, 0, 0])\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      bin[j] = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2]) > 128 ? 255 : 0\n    }\n    let [label, lut, nabelLength] = this.rasterScan(bin, image.width, image.height)\n    let colors = Array.from(new Array(nabelLength), () => [\n      getRandInt(0, 255), getRandInt(0, 255), getRandInt(0, 255)\n    ])\n    for (let i = 0, idx = 2; idx < lut.length; i++ , idx++) {\n      let c = colors[lut[idx] - 2]\n      for (let j = 0; j < label.length; j++) {\n        if (label[j] === i + 2) {\n          out[j] = c\n        }\n      }\n    }\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      let p = out[j]\n      if (!p) {\n        p = [0, 0, 0]\n      }\n      dst1.data[i] = p[0]\n      dst1.data[i + 1] = p[1]\n      dst1.data[i + 2] = p[2]\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * raster scan\n   * @param {Array} src src image binary\n   * @param {Number} W src image width\n   * @param {Number} H src image height\n   * @return {Array} pos \n   */\n  rasterScan(src, W, H) {\n    const getIdx = (x, y) => {\n      y = Math.min(Math.max(y, 0), H - 1)\n      x = Math.min(Math.max(x, 0), W - 1)\n      return y * W + x\n    }\n    let label = src.slice().map(e => e > 0 ? 1 : 0)\n    let lut = new Array(src.length).fill(0)\n    let n = 1\n    let count = 1\n    for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n      if (label[getIdx(x, y)] == 0) {\n        continue\n      }\n      let c2 = label[getIdx(x + 1, y - 1)]\n      let c3 = label[getIdx(x, y - 1)]\n      let c4 = label[getIdx(x - 1, y - 1)]\n      let c5 = label[getIdx(x - 1, y)]\n      if (Math.max(c2, c3, c4, c5) < 2) {\n        n++\n        label[getIdx(x, y)] = n\n      } else {\n        let _vs = [c2, c3, c4, c5]\n        let vs = []\n        _vs.forEach(e => {\n          if (e > 1) {\n            vs.push(e)\n          }\n        })\n        let v = Math.min(...vs)\n        label[getIdx(x, y)] = v\n        let minv = v\n        vs.forEach(_v => {\n          if (lut[_v] !== 0) {\n            minv = Math.min(minv, lut[_v])\n          }\n        })\n        vs.forEach(_v => {\n          lut[_v] = minv\n        })\n      }\n    }\n    for (let l = 2; l < n + 1; l++) {\n      let flag = true\n      for (let i = 0; i < n + 1; i++) {\n        if (lut[i] === l) {\n          if (flag) {\n            count++\n            flag = false\n          }\n          lut[i] = count\n        }\n      }\n    }\n    return [label, lut, count]\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\nimport CanvasUtility from '@/lib/CanvasTools'\nimport config from \"../configure.js\"\n\n/**\n * Q.60\n * アルファブレンド\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * DOMの初期処理\n   * \n   * @access private\n   * @param {Document} self \n   */\n  _initObject(self) {\n    let canvas1 = self.$refs[\"canvas1\"]\n    let canvas2 = self.$refs[\"canvas2\"]\n    let canvas3 = self.$refs[\"canvas3\"]\n    let button = self.$refs[\"button-run\"]\n\n    let imori = new Image()\n    imori.src = config.srcImage.default\n\n    let thorino = new Image()\n    thorino.src = config.srcImage.thorino\n\n    imori.addEventListener(\"load\", () => {\n      canvas1.width = canvas3.width = imori.width\n      canvas1.height = canvas3.height = imori.height\n    })\n\n    thorino.addEventListener(\"load\", () => {\n      canvas2.width = imori.width\n      canvas2.height = imori.height\n      canvas2.getContext(\"2d\").drawImage(thorino, 0, 0, imori.width, imori.height)\n    })\n\n    CanvasUtility.drawImage(canvas1, imori)\n\n    button.addEventListener(\"click\", () => {\n      this.main(canvas3, imori, thorino)\n    })\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image1, image2) {\n    let ctx = canvas.getContext(\"2d\");\n    let width = image1.width\n    let height = image1.height\n    canvas.width = width\n    canvas.height = height\n    ctx.drawImage(image1, 0, 0, width, height)\n    let src1 = ctx.getImageData(0, 0, width, height)\n\n    ctx.drawImage(image2, 0, 0, width, height)\n    let src2 = ctx.getImageData(0, 0, width, height)\n\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n    for (let i = 0; i < dst.data.length; i += 4) {\n      for (var j = 0; j < 3; j++) {\n        dst.data[i + j] = src1.data[i + j] / 2 + src2.data[i + j] / 2\n      }\n      dst.data[i + 3] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.61\n * 4-連結数\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  init() {\n    this.setSrcImage(config.srcImage.renketsu)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      bin[j] = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2]) > 128 ? 255 : 0\n    }\n    let links = this.findLinks(bin, image.width, image.height)\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let c = links[j]\n      let p = [0, 0, 0]\n      if (c === 0) p = [255, 0, 0]\n      if (c === 1) p = [0, 255, 0]\n      if (c === 2) p = [0, 0, 255]\n      if (c === 3) p = [0, 255, 255]\n      if (c === 4) p = [255, 0, 255]\n      dst1.data[i] = p[0]\n      dst1.data[i + 1] = p[1]\n      dst1.data[i + 2] = p[2]\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * 連結\n   * @param {Array} src src image binary\n   * @param {Number} W src image width\n   * @param {Number} H src image height\n   * @return {Array} pos \n   */\n  findLinks(src, W, H) {\n    const getIdx = (x, y) => {\n      y = Math.min(Math.max(y, 0), H - 1)\n      x = Math.min(Math.max(x, 0), W - 1)\n      return y * W + x\n    }\n    const max = (a, b) => {\n      return Math.max(a, b)\n    }\n    const min = (a, b) => {\n      return Math.min(a, b)\n    }\n    let tmp = src.slice().map(e => e > 0 ? 1 : 0)\n    let dst = new Array(src.length).fill(0)\n    for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n      if (tmp[getIdx(x, y)] == 0) {\n        dst[getIdx(x, y)] = -1\n        continue\n      }\n      let c = 0\n      c += (tmp[getIdx(min(x + 1, W - 1), y)] - tmp[getIdx(min(x + 1, W - 1), y)] * tmp[getIdx(min(x + 1, W - 1), max(y - 1, 0))] * tmp[getIdx(x, max(y - 1, 0))])\n      c += (tmp[getIdx(x, max(y - 1, 0))] - tmp[getIdx(x, max(y - 1, 0))] * tmp[getIdx(max(x - 1, 0), max(y - 1, 0))] * tmp[getIdx(max(x - 1, 0), y)])\n      c += (tmp[getIdx(max(x - 1, 0), y)] - tmp[getIdx(max(x - 1, 0), y)] * tmp[getIdx(max(x - 1, 0), min(y + 1, H - 1))] * tmp[getIdx(x, min(y + 1, H - 1))])\n      c += (tmp[getIdx(x, min(y + 1, H - 1))] - tmp[getIdx(x, min(y + 1, H - 1))] * tmp[getIdx(min(x + 1, W - 1), min(y + 1, H - 1))] * tmp[getIdx(min(x + 1, W - 1), y)])\n      dst[getIdx(x, y)] = c\n    }\n    return dst\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.62\n * 8-連結数\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  init() {\n    this.setSrcImage(config.srcImage.renketsu)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      bin[j] = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2]) > 128 ? 255 : 0\n    }\n    let links = this.findLinks(bin, image.width, image.height)\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let c = links[j]\n      let p = [0, 0, 0]\n      if (c === 0) p = [255, 0, 0]\n      if (c === 1) p = [0, 255, 0]\n      if (c === 2) p = [0, 0, 255]\n      if (c === 3) p = [0, 255, 255]\n      if (c === 4) p = [255, 0, 255]\n      dst1.data[i] = p[0]\n      dst1.data[i + 1] = p[1]\n      dst1.data[i + 2] = p[2]\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * 連結\n   * @param {Array} src src image binary\n   * @param {Number} W src image width\n   * @param {Number} H src image height\n   * @return {Array} pos \n   */\n  findLinks(src, W, H) {\n    const getIdx = (x, y) => {\n      y = Math.min(Math.max(y, 0), H - 1)\n      x = Math.min(Math.max(x, 0), W - 1)\n      return y * W + x\n    }\n    const max = (a, b) => {\n      return Math.max(a, b)\n    }\n    const min = (a, b) => {\n      return Math.min(a, b)\n    }\n    let _tmp = src.slice().map(e => e > 0 ? 1 : 0)\n    let tmp = _tmp.slice()\n    tmp = tmp.map(e => 1 - e)\n    let dst = new Array(src.length).fill(0)\n    for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n      if (_tmp[getIdx(x, y)] < 1) {\n        dst[getIdx(x, y)] = -1\n        continue\n      }\n      let c = 0\n      c += (tmp[getIdx(min(x + 1, W - 1), y)] - tmp[getIdx(min(x + 1, W - 1), y)] * tmp[getIdx(min(x + 1, W - 1), max(y - 1, 0))] * tmp[getIdx(x, max(y - 1, 0))])\n      c += (tmp[getIdx(x, max(y - 1, 0))] - tmp[getIdx(x, max(y - 1, 0))] * tmp[getIdx(max(x - 1, 0), max(y - 1, 0))] * tmp[getIdx(max(x - 1, 0), y)])\n      c += (tmp[getIdx(max(x - 1, 0), y)] - tmp[getIdx(max(x - 1, 0), y)] * tmp[getIdx(max(x - 1, 0), min(y + 1, H - 1))] * tmp[getIdx(x, min(y + 1, H - 1))])\n      c += (tmp[getIdx(x, min(y + 1, H - 1))] - tmp[getIdx(x, min(y + 1, H - 1))] * tmp[getIdx(min(x + 1, W - 1), min(y + 1, H - 1))] * tmp[getIdx(min(x + 1, W - 1), y)])\n      dst[getIdx(x, y)] = c\n    }\n    return dst\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.63\n * 細線化処理\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  init() {\n    this.setSrcImage(config.srcImage.gazo)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      bin[j] = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2]) > 128 ? 255 : 0\n    }\n    let dst = this.rasterScan(bin, image.width, image.height)\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let c = dst[j]\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = ~~(c * 255)\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * 連結\n   * @param {Array} src src image binary\n   * @param {Number} W src image width\n   * @param {Number} H src image height\n   * @return {Array} pos \n   */\n  rasterScan(src, W, H) {\n    const getIdx = (x, y) => {\n      y = Math.min(Math.max(y, 0), H - 1)\n      x = Math.min(Math.max(x, 0), W - 1)\n      return y * W + x\n    }\n    const sum = (arr) => {\n      return arr.reduce(function (prev, current, i, arr) {\n        return prev + current;\n      })\n    }\n    let out = src.slice().map(e => e > 0 ? 1 : 0)\n    let count = 1\n    while (count > 0) {\n      count = 0\n      let tmp = out.slice()\n      for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n        if (out[getIdx(x, y)] < 1) {\n          continue\n        }\n  \n        let judge = 0\n        if ((tmp[getIdx(x + 1, y)] + tmp[getIdx(x, y - 1)] + tmp[getIdx(x - 1, y)] + tmp[getIdx(x, y + 1)]) < 4) {\n          judge++\n        }\n  \n        let c = 0\n        c += (out[getIdx(x + 1, y)] - out[getIdx(x + 1, y)] * out[getIdx(x + 1, y - 1)] * out[getIdx(x, y - 1)])\n        c += (out[getIdx(x, y - 1)] - out[getIdx(x, y - 1)] * out[getIdx(x - 1, y - 1)] * out[getIdx(x - 1, y)])\n        c += (out[getIdx(x - 1, y)] - out[getIdx(x - 1, y)] * out[getIdx(x - 1, y + 1)] * out[getIdx(x,  y + 1)])\n        c += (out[getIdx(x, y + 1)] - out[getIdx(x, y + 1)] * out[getIdx(x + 1, y + 1)] * out[getIdx(x + 1, y)])\n        if (c == 1) {\n          judge++\n        }\n\n        let arr = []\n        for (let _y = y - 1; _y < y + 2; _y++) for (let _x = x - 1; _x < x + 2; _x++) {\n          arr.push(out[getIdx(_x, _y)])\n        }\n        if (sum(arr) >= 4) {\n          judge++\n        }\n  \n        if (judge == 3) {\n          out[getIdx(x, y)] = 0\n          count++\n        }\n      }\n    }\n    return out\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.64\n * ヒルディッチの細線化\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  init() {\n    this.setSrcImage(config.srcImage.gazo)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      bin[j] = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2]) > 128 ? 255 : 0\n    }\n    let dst = this.rasterScan(bin, image.width, image.height)\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let c = dst[j]\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = ~~(c * 255)\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * 連結\n   * @param {Array} src src image binary\n   * @param {Number} W src image width\n   * @param {Number} H src image height\n   * @return {Array} pos \n   */\n  rasterScan(src, W, H) {\n    const getIdx = (x, y) => {\n      y = Math.min(Math.max(y, 0), H - 1)\n      x = Math.min(Math.max(x, 0), W - 1)\n      return y * W + x\n    }\n    const sum = (arr) => {\n      return arr.reduce(function (prev, current, i, arr) {\n        return prev + current;\n      })\n    }\n    let out = src.slice().map(e => e > 0 ? 1 : 0)\n    let count = 1\n    while (count > 0) {\n      count = 0\n      let tmp = out.slice()\n      let tmp2 = out.slice()\n      let _tmp = tmp.map(e => 1 - e)\n      let _tmp2 = tmp2.map(e => 1 - e)\n      for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n        if (out[getIdx(x, y)] < 1) {\n          continue\n        }\n\n        let judge = 0\n        if ((tmp[getIdx(x + 1, y)] + tmp[getIdx(x, y - 1)] + tmp[getIdx(x - 1, y)] + tmp[getIdx(x, y + 1)]) < 4) {\n          judge++\n        }\n\n        let c = 0\n        c += (_tmp[getIdx(x + 1, y)] - _tmp[getIdx(x + 1, y)] * _tmp[getIdx(x + 1, y - 1)] * _tmp[getIdx(x, y - 1)])\n        c += (_tmp[getIdx(x, y - 1)] - _tmp[getIdx(x, y - 1)] * _tmp[getIdx(x - 1, y - 1)] * _tmp[getIdx(x - 1, y)])\n        c += (_tmp[getIdx(x - 1, y)] - _tmp[getIdx(x - 1, y)] * _tmp[getIdx(x - 1, y + 1)] * _tmp[getIdx(x, y + 1)])\n        c += (_tmp[getIdx(x, y + 1)] - _tmp[getIdx(x, y + 1)] * _tmp[getIdx(x + 1, y + 1)] * _tmp[getIdx(x + 1, y)])\n        if (c == 1) {\n          judge++\n        }\n\n        let arr1 = []\n        let arr2 = []\n        for (let _y = y - 1; _y < y + 2; _y++) for (let _x = x - 1; _x < x + 2; _x++) {\n          arr1.push(out[getIdx(_x, _y)])\n          arr2.push(tmp[getIdx(_x, _y)])\n        }\n        if (sum(arr1) >= 4) {\n          judge++\n        }\n        if (sum(arr2) >= 4) {\n          judge++\n        }\n\n        let flag = false\n        c = 0\n        c += (_tmp2[getIdx(x + 1, y)] - _tmp2[getIdx(x + 1, y)] * _tmp2[getIdx(x + 1, y - 1)] * (1 - tmp[getIdx(x, y - 1)]))\n        c += ((1 - tmp[getIdx(x, y - 1)]) - (1 - tmp[getIdx(x, y - 1)]) * _tmp2[getIdx(x - 1, y - 1)] * _tmp2[getIdx(x - 1, y)])\n        c += (_tmp2[getIdx(x - 1, y)] - _tmp2[getIdx(x - 1, y)] * _tmp2[getIdx(x - 1, y + 1)] * _tmp2[getIdx(x, y + 1)])\n        c += (_tmp2[getIdx(x, y + 1)] - _tmp2[getIdx(x, y + 1)] * _tmp2[getIdx(x + 1, y + 1)] * _tmp2[getIdx(x + 1, y)])\n        if (c == 1) {\n          flag = true\n        }\n\n        _tmp2 = out.slice().map(e => 1 - e)\n\n        c = 0\n        c += (_tmp2[getIdx(x + 1, y)] - _tmp2[getIdx(x + 1, y)] * _tmp2[getIdx(x + 1, y - 1)] * _tmp2[getIdx(x, y - 1)])\n        c += (_tmp2[getIdx(x, y - 1)] - _tmp2[getIdx(x, y - 1)] * _tmp2[getIdx(x - 1, y - 1)] * (1 - tmp[getIdx(x - 1, y)]))\n        c += ((1 - tmp[getIdx(x - 1, y)]) - (1 - tmp[getIdx(x - 1, y)]) * _tmp2[getIdx(x - 1, y + 1)] * _tmp2[getIdx(x, y + 1)])\n        c += (_tmp2[getIdx(x, y + 1)] - _tmp2[getIdx(x, y + 1)] * _tmp2[getIdx(x + 1, y + 1)] * _tmp2[getIdx(x + 1, y)])\n        if (c == 1) {\n          flag = true\n        }\n\n        if (flag) {\n          judge++\n        }\n\n        if (judge >= 5) {\n          out[getIdx(x, y)] = 0\n          count++\n        }\n      }\n    }\n    return out\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.65\n * Zhang-Suenの細線化\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  init() {\n    this.setSrcImage(config.srcImage.gazo)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      bin[j] = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2]) > 128 ? 255 : 0\n    }\n    let dst = this.rasterScan(bin, image.width, image.height)\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let c = dst[j]\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = ~~(c * 255)\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * 連結\n   * @param {Array} src src image binary\n   * @param {Number} W src image width\n   * @param {Number} H src image height\n   * @return {Array} pos \n   */\n  rasterScan(src, W, H) {\n    const getIdx = (x, y) => {\n      y = Math.min(Math.max(y, 0), H - 1)\n      x = Math.min(Math.max(x, 0), W - 1)\n      return y * W + x\n    }\n    const sum = (arr) => {\n      return arr.reduce(function (prev, current, i, arr) {\n        return prev + current;\n      })\n    }\n    let out = src.slice().map(e => e > 0 ? 0 : 1)\n    for (let i = 0; i < 5000; i++) {\n      let s1 = []\n      let s2 = []\n      for (let y = 1; y < H - 1; y++) for (let x = 1; x < W - 1; x++) {\n        if (out[getIdx(x, y)] > 0)\n          continue\n\n        let f1 = 0\n        if ((out[getIdx(x + 1, y - 1)] - out[getIdx(x, y - 1)]) == 1) f1++\n        if ((out[getIdx(x + 1, y)] - out[getIdx(x + 1, y - 1)]) == 1) f1++\n        if ((out[getIdx(x + 1, y + 1)] - out[getIdx(x + 1, y)]) == 1) f1++\n        if ((out[getIdx(x, y + 1)] - out[getIdx(x + 1, y + 1)]) == 1) f1++\n        if ((out[getIdx(x - 1, y + 1)] - out[getIdx(x, y + 1)]) == 1) f1++\n        if ((out[getIdx(x - 1, y)] - out[getIdx(x - 1, y + 1)]) == 1) f1++\n        if ((out[getIdx(x - 1, y - 1)] - out[getIdx(x - 1, y)]) == 1) f1++\n        if ((out[getIdx(x, y - 1)] - out[getIdx(x - 1, y - 1)]) == 1) f1++\n\n        if (f1 !== 1)\n          continue\n\n        let f2 = sum([\n          out[getIdx(x - 1, y - 1)], out[getIdx(x, y - 1)], out[getIdx(x + 1, y - 1)],\n          out[getIdx(x - 1, y)], out[getIdx(x, y)], out[getIdx(x + 1, y)],\n          out[getIdx(x - 1, y + 1)], out[getIdx(x, y + 1)], out[getIdx(x + 1, y + 1)],\n        ])\n        if (f2 < 2 || f2 > 6)\n          continue\n        if ((out[getIdx(x, y - 1)] + out[getIdx(x + 1, y)] + out[getIdx(x, y + 1)]) < 1)\n          continue\n        if ((out[getIdx(x + 1, y)] + out[getIdx(x, y + 1)] + out[getIdx(x - 1, y)]) < 1)\n          continue\n\n        s1.push([x, y])\n      }\n\n      s1.forEach(e => {\n        out[getIdx(e[0], e[1])] = 1\n      })\n      for (let y = 1; y < H - 1; y++) for (let x = 1; x < W - 1; x++) {\n        if (out[getIdx(x, y)] > 0)\n          continue\n\n        let f1 = 0\n        if ((out[getIdx(x + 1, y - 1)] - out[getIdx(x, y - 1)]) == 1) f1++\n        if ((out[getIdx(x + 1, y)] - out[getIdx(x + 1, y - 1)]) == 1) f1++\n        if ((out[getIdx(x + 1, y + 1)] - out[getIdx(x + 1, y)]) == 1) f1++\n        if ((out[getIdx(x, y + 1)] - out[getIdx(x + 1, y + 1)]) == 1) f1++\n        if ((out[getIdx(x - 1, y + 1)] - out[getIdx(x, y + 1)]) == 1) f1++\n        if ((out[getIdx(x - 1, y)] - out[getIdx(x - 1, y + 1)]) == 1) f1++\n        if ((out[getIdx(x - 1, y - 1)] - out[getIdx(x - 1, y)]) == 1) f1++\n        if ((out[getIdx(x, y - 1)] - out[getIdx(x - 1, y - 1)]) == 1) f1++\n\n        if (f1 !== 1)\n          continue\n\n        let f2 = sum([\n          out[getIdx(x - 1, y - 1)], out[getIdx(x, y - 1)], out[getIdx(x + 1, y - 1)],\n          out[getIdx(x - 1, y)], out[getIdx(x, y)], out[getIdx(x + 1, y)],\n          out[getIdx(x - 1, y + 1)], out[getIdx(x, y + 1)], out[getIdx(x + 1, y + 1)],\n        ])\n        if (f2 < 2 || f2 > 6)\n          continue\n        if ((out[getIdx(x, y - 1)] + out[getIdx(x + 1, y)] + out[getIdx(x - 1, y)]) < 1)\n          continue\n        if ((out[getIdx(x, y - 1)] + out[getIdx(x, y + 1)] + out[getIdx(x - 1, y)]) < 1)\n          continue\n\n        s2.push([x, y])\n      }\n\n      s2.forEach(e => {\n        out[getIdx(e[0], e[1])] = 1\n      })\n      if (s1.length < 1 && s2.length < 1) {\n        break\n      }\n    }\n    out = out.map(e => 1 - e)\n    return out\n  }\n}","import {BaseTwoCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.70\n * カラートラッキング\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n    /**\n     * メイン\n     * @param {Object} canvas \n     * @param {Object} image \n     */\n    main(canvas1, image) {\n      let ctx1 = canvas1.getContext(\"2d\");\n      let width = image.width\n      let height = image.height\n      ctx1.drawImage(image, 0, 0, width, height)\n      let src1 = ctx1.getImageData(0, 0, width, height)\n      let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n      for (let i = 0; i < src1.data.length; i += 4) {\n        let c = this.rgb2hsv([\n          src1.data[i],\n          src1.data[i + 1],\n          src1.data[i + 2],\n        ])\n        if (180 <= c[0] && c[0] <= 260) {\n          dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = 255\n        } else {\n          dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = 0\n        }\n        dst1.data[i + 3] = 255\n      }\n      ctx1.putImageData(dst1, 0, 0)\n    }\n    /**\n     * rgb -> hsv\n     * @param {Array} rgb\n     * @return {array} hsv\n     */\n    rgb2hsv(rgb) {\n      let r = rgb[0] / 255;\n      let g = rgb[1] / 255;\n      let b = rgb[2] / 255;\n      let max = Math.max(r, g, b);\n      let min = Math.min(r, g, b);\n      let diff = max - min;\n      let h = 0;\n      switch (min) {\n        case max: h = 0; break;\n        case r: h = (60 * ((b - g) / diff)) + 180; break;\n        case g: h = (60 * ((r - b) / diff)) + 300; break;\n        case b: h = (60 * ((g - r) / diff)) + 60; break;\n      }\n      let s = max == 0 ? 0 : diff / max;\n      let v = max;\n      return [h, s, v];\n    }\n  }","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.71\n * マスキング\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n    /**\n     * メイン\n     * @param {Object} canvas \n     * @param {Object} image \n     */\n    main(canvas1, canvas2, image) {\n      let ctx1 = canvas1.getContext(\"2d\");\n      let ctx2 = canvas2.getContext(\"2d\");\n      let width = image.width\n      let height = image.height\n  \n      canvas1.width = canvas2.width = width\n      canvas1.height = canvas2.height = height\n  \n      ctx1.drawImage(image, 0, 0, width, height)\n      ctx2.drawImage(image, 0, 0, width, height)\n      let src1 = ctx1.getImageData(0, 0, width, height)\n      let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n      let src2 = ctx2.getImageData(0, 0, width, height)\n      let dst2 = ctx2.createImageData(canvas2.width, canvas2.height)\n  \n      for (let i = 0; i < src1.data.length; i += 4) {\n        let c = this.rgb2hsv([\n          src1.data[i],\n          src1.data[i + 1],\n          src1.data[i + 2],\n        ])\n        if (180 <= c[0] && c[0] <= 260) {\n          dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = 255\n        } else {\n          dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = 0\n        }\n        dst1.data[i + 3] = 255\n      }\n      ctx1.putImageData(dst1, 0, 0)\n  \n      for (let i = 0; i < src2.data.length; i += 4) {\n        if (dst1.data[i] === 0) {\n          dst2.data[i] = src2.data[i]\n          dst2.data[i + 1] = src2.data[i + 1]\n          dst2.data[i + 2] = src2.data[i + 2]\n        } else {\n          dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = 0\n        }\n        dst2.data[i + 3] = 255\n      }\n      ctx2.putImageData(dst2, 0, 0)\n    }\n    /**\n     * rgb -> hsv\n     * @param {Array} rgb\n     * @return {array} hsv\n     */\n    rgb2hsv(rgb) {\n      let r = rgb[0] / 255;\n      let g = rgb[1] / 255;\n      let b = rgb[2] / 255;\n  \n      let max = Math.max(r, g, b);\n      let min = Math.min(r, g, b);\n      let diff = max - min;\n  \n      let h = 0;\n  \n      switch (min) {\n        case max: h = 0; break;\n        case r: h = (60 * ((b - g) / diff)) + 180; break;\n        case g: h = (60 * ((r - b) / diff)) + 300; break;\n        case b: h = (60 * ((g - r) / diff)) + 60; break;\n      }\n  \n      let s = max == 0 ? 0 : diff / max;\n      let v = max;\n  \n      return [h, s, v];\n    }\n  }","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.72\n * マスキング(カラートラッキング＋モルフォロジー)\n * @extends BaseThreeCanvasComponent\n */\nexport default class extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    let width = image.width\n    let height = image.height\n    // canvas1.width = canvas2.width = width\n    // canvas1.height = canvas2.height = height\n    const kernel = [\n      [0, 1, 0],\n      [1, 0, 1],\n      [0, 1, 0],\n    ]\n    ctx1.drawImage(image, 0, 0, width, height)\n    ctx2.drawImage(image, 0, 0, width, height)\n    let src1 = ctx1.getImageData(0, 0, width, height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    let src2 = ctx2.getImageData(0, 0, width, height)\n    let dst2 = ctx2.createImageData(canvas2.width, canvas2.height)\n    let bin = new Array(width * height).fill(0)\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      let c = this.rgb2hsv([\n        src1.data[i],\n        src1.data[i + 1],\n        src1.data[i + 2],\n      ])\n      if (180 <= c[0] && c[0] <= 260) {\n        bin[j] = 255\n      }\n    }\n    const morphologyTime = 3\n    let mor = bin.slice()\n    for (let i = 0; i < morphologyTime; i++) {\n      this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n        if (e >= 255) return 255\n      })\n    }\n    for (let i = 0; i < morphologyTime; i++) {\n      this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n        if (e < 255 * 4) return 0\n      })\n    }\n    for (let i = 0; i < morphologyTime; i++) {\n      this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n        if (e < 255 * 4) return 0\n      })\n    }\n    for (let i = 0; i < morphologyTime; i++) {\n      this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n        if (e >= 255) return 255\n      })\n    }\n\n    for (let i = 0, j = 0; i < src2.data.length; i += 4, j++) {\n      if (mor[j] === 0) {\n        dst2.data[i] = src2.data[i]\n        dst2.data[i + 1] = src2.data[i + 1]\n        dst2.data[i + 2] = src2.data[i + 2]\n      } else {\n        dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = 0\n      }\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = mor[j]\n      dst1.data[i + 3] = 255\n      dst2.data[i + 3] = 255\n    }\n    ctx2.putImageData(dst2, 0, 0)\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * rgb -> hsv\n   * @param {Array} rgb\n   * @return {array} hsv\n   */\n  rgb2hsv(rgb) {\n    let r = rgb[0] / 255;\n    let g = rgb[1] / 255;\n    let b = rgb[2] / 255;\n\n    let max = Math.max(r, g, b);\n    let min = Math.min(r, g, b);\n    let diff = max - min;\n\n    let h = 0;\n\n    switch (min) {\n      case max: h = 0; break;\n      case r: h = (60 * ((b - g) / diff)) + 180; break;\n      case g: h = (60 * ((r - b) / diff)) + 300; break;\n      case b: h = (60 * ((g - r) / diff)) + 60; break;\n    }\n\n    let s = max == 0 ? 0 : diff / max;\n    let v = max;\n\n    return [h, s, v];\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback = null) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - d\n        let _j = j - d\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      } else {\n        dst[dstIdx] = k\n      }\n    }\n  }\n}","import {BaseTwoCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.73\n * マスキング\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n    /**\n     * メイン\n     * @param {Object} canvas \n     * @param {Object} image \n     */\n    main(canvas, image) {\n      const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n      let ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(image, 0, 0, image.width, image.height)\n      let src = ctx.getImageData(0, 0, image.width, image.height)\n      let dst = ctx.createImageData(image.width, image.height)\n      for (let i = 0; i < src.data.length; i += 4) {\n        dst.data[i] = dst.data[i + 1] = dst.data[i + 2] = grayscale(\n          src.data[i], src.data[i + 1], src.data[i + 2]\n        )\n        dst.data[i + 3] = 255\n      }\n      ctx.putImageData(dst, 0, 0)\n      this.bilinear(canvas, 0.5)\n      this.bilinear(canvas, 2)\n    }\n    /**\n     * バイリニア補間\n     * @param {Object} canvas \n     * @param {scale} scale \n     */\n    bilinear(canvas, scale) {\n      const srcWidth = canvas.width\n      const srcHeight = canvas.height\n      const dstWidth = canvas.width * scale\n      const dstHeight = canvas.height * scale\n  \n      const getDstIndex = (x, y, channel) => {\n        x = Math.min(Math.max(x, 0), dstWidth - 1)\n        y = Math.min(Math.max(y, 0), dstHeight - 1)\n        return y * dstWidth * 4 + x * 4 + channel\n      }\n  \n      const getSrcIndex = (x, y, channel) => {\n        x = Math.min(Math.max(x, 0), srcWidth - 1)\n        y = Math.min(Math.max(y, 0), srcHeight - 1)\n        return y * srcHeight * 4 + x * 4 + channel\n      }\n  \n      const getWeight = (t1, t2) => {\n        const d = Math.abs(t1 - t2);\n        if (d > 1) {\n          return 0;\n        }\n        return 1 - d;\n      }\n  \n      let ctx = canvas.getContext(\"2d\");\n      let src = ctx.getImageData(0, 0, srcWidth, srcHeight)\n      let dst = ctx.createImageData(dstWidth, dstHeight)\n  \n      canvas.width = dstWidth\n      canvas.height = dstHeight\n  \n      const range = [0, 1]\n  \n      for (let x = 0; x < dstWidth; x++) for (let y = 0; y < dstHeight; y++) {\n        let _x = x / scale\n        let _y = y / scale\n        let rangeX = range.map(i => i + Math.floor(_x));\n        let rangeY = range.map(i => i + Math.floor(_y));\n        let r, g, b\n        r = g = b = 0\n  \n        for (let ry of rangeY) for (let rx of rangeX) {\n          let weight = getWeight(ry, _y) * getWeight(rx, _x)\n          r += src.data[getSrcIndex(~~rx, ~~ry, 0)] * weight\n          g += src.data[getSrcIndex(~~rx, ~~ry, 1)] * weight\n          b += src.data[getSrcIndex(~~rx, ~~ry, 2)] * weight\n        }\n        dst.data[getDstIndex(x, y, 0)] = ~~r\n        dst.data[getDstIndex(x, y, 1)] = ~~g\n        dst.data[getDstIndex(x, y, 2)] = ~~b\n        dst.data[getDstIndex(x, y, 3)] = 255\n      }\n      ctx.putImageData(dst, 0, 0)\n    }\n  }","import {BaseTwoCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.74\n * ピラミッド差分による高周波成分の抽出\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n    /**\n     * メイン\n     * @param {Object} canvas \n     * @param {Object} image \n     */\n    main(canvas, image) {\n      const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n      const abs = (n) => Math.abs(n)\n      let ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(image, 0, 0, image.width, image.height)\n      let src = ctx.getImageData(0, 0, image.width, image.height)\n      let gray = ctx.createImageData(image.width, image.height)\n      for (let i = 0; i < src.data.length; i += 4) {\n        gray.data[i] = gray.data[i + 1] = gray.data[i + 2] = grayscale(\n          src.data[i], src.data[i + 1], src.data[i + 2]\n        )\n        gray.data[i + 3] = 255\n      }\n      ctx.putImageData(gray, 0, 0)\n      this.bilinear(canvas, 0.5)\n      this.bilinear(canvas, 2)\n      let bil = ctx.getImageData(0, 0, image.width, image.height)\n      let dst = ctx.createImageData(image.width, image.height)\n      for (let i = 0; i < dst.data.length; i += 4) {\n        dst.data[i + 3] = 255\n        dst.data[i] = abs(bil.data[i] - gray.data[i])\n        dst.data[i + 1] = abs(bil.data[i + 1] - gray.data[i + 1])\n        dst.data[i + 2] = abs(bil.data[i + 2] - gray.data[i + 2])\n      }\n      ctx.putImageData(dst, 0, 0)\n    }\n    /**\n     * バイリニア補間\n     * @param {Object} canvas \n     * @param {scale} scale \n     */\n    bilinear(canvas, scale) {\n      const srcWidth = canvas.width\n      const srcHeight = canvas.height\n      const dstWidth = canvas.width * scale\n      const dstHeight = canvas.height * scale\n  \n      const getDstIndex = (x, y, channel) => {\n        x = Math.min(Math.max(x, 0), dstWidth - 1)\n        y = Math.min(Math.max(y, 0), dstHeight - 1)\n        return y * dstWidth * 4 + x * 4 + channel\n      }\n  \n      const getSrcIndex = (x, y, channel) => {\n        x = Math.min(Math.max(x, 0), srcWidth - 1)\n        y = Math.min(Math.max(y, 0), srcHeight - 1)\n        return y * srcHeight * 4 + x * 4 + channel\n      }\n  \n      const getWeight = (t1, t2) => {\n        const d = Math.abs(t1 - t2);\n        if (d > 1) {\n          return 0;\n        }\n        return 1 - d;\n      }\n  \n      let ctx = canvas.getContext(\"2d\");\n      let src = ctx.getImageData(0, 0, srcWidth, srcHeight)\n      let dst = ctx.createImageData(dstWidth, dstHeight)\n  \n      canvas.width = dstWidth\n      canvas.height = dstHeight\n  \n      const range = [0, 1]\n  \n      for (let x = 0; x < dstWidth; x++) for (let y = 0; y < dstHeight; y++) {\n        let _x = x / scale\n        let _y = y / scale\n        let rangeX = range.map(i => i + Math.floor(_x));\n        let rangeY = range.map(i => i + Math.floor(_y));\n        let r, g, b\n        r = g = b = 0\n  \n        for (let ry of rangeY) for (let rx of rangeX) {\n          let weight = getWeight(ry, _y) * getWeight(rx, _x)\n          r += src.data[getSrcIndex(~~rx, ~~ry, 0)] * weight\n          g += src.data[getSrcIndex(~~rx, ~~ry, 1)] * weight\n          b += src.data[getSrcIndex(~~rx, ~~ry, 2)] * weight\n        }\n        dst.data[getDstIndex(x, y, 0)] = ~~r\n        dst.data[getDstIndex(x, y, 1)] = ~~g\n        dst.data[getDstIndex(x, y, 2)] = ~~b\n        dst.data[getDstIndex(x, y, 3)] = 255\n      }\n      ctx.putImageData(dst, 0, 0)\n    }\n  }","import {BaseTwoCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.74\n * ガウシアンピラミッド\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n    /**\n     * メイン\n     * @param {Object} canvas \n     * @param {Object} image \n     */\n    main(canvas, image) {\n      const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n      let ctx = canvas.getContext(\"2d\")\n      ctx.drawImage(image, 0, 0, image.width, image.height)\n      let src = ctx.getImageData(0, 0, image.width, image.height)\n      let gray = ctx.createImageData(image.width, image.height)\n      for (let i = 0; i < src.data.length; i += 4) {\n        gray.data[i] = gray.data[i + 1] = gray.data[i + 2] = grayscale(\n          src.data[i], src.data[i + 1], src.data[i + 2]\n        )\n        gray.data[i + 3] = 255\n      }\n      this.showMessage('', true, true)\n      for (let i = 1; i <= 32; i *= 2) {\n        canvas.width = image.width\n        canvas.height = image.height\n        ctx.putImageData(gray, 0, 0)\n        this.bilinear(canvas, 1 / i)\n        this.bilinear(canvas, i)\n        let url = canvas.toDataURL()\n        this.showMessage(`<img src=\"${url}\"/>`, true)\n      }\n    }\n    /**\n     * バイリニア補間\n     * @param {Object} canvas \n     * @param {scale} scale \n     */\n    bilinear(canvas, scale) {\n      const srcWidth = canvas.width\n      const srcHeight = canvas.height\n      const dstWidth = canvas.width * scale\n      const dstHeight = canvas.height * scale\n  \n      const getDstIndex = (x, y, channel) => {\n        x = Math.min(Math.max(x, 0), dstWidth - 1)\n        y = Math.min(Math.max(y, 0), dstHeight - 1)\n        return y * dstWidth * 4 + x * 4 + channel\n      }\n  \n      const getSrcIndex = (x, y, channel) => {\n        x = Math.min(Math.max(x, 0), srcWidth - 1)\n        y = Math.min(Math.max(y, 0), srcHeight - 1)\n        return y * srcHeight * 4 + x * 4 + channel\n      }\n  \n      const getWeight = (t1, t2) => {\n        const d = Math.abs(t1 - t2);\n        if (d > 1) {\n          return 0;\n        }\n        return 1 - d;\n      }\n  \n      let ctx = canvas.getContext(\"2d\");\n      let src = ctx.getImageData(0, 0, srcWidth, srcHeight)\n      let dst = ctx.createImageData(dstWidth, dstHeight)\n  \n      canvas.width = dstWidth\n      canvas.height = dstHeight\n  \n      const range = [0, 1]\n  \n      for (let x = 0; x < dstWidth; x++) for (let y = 0; y < dstHeight; y++) {\n        let _x = x / scale\n        let _y = y / scale\n        let rangeX = range.map(i => i + Math.floor(_x));\n        let rangeY = range.map(i => i + Math.floor(_y));\n        let r, g, b\n        r = g = b = 0\n  \n        for (let ry of rangeY) for (let rx of rangeX) {\n          let weight = getWeight(ry, _y) * getWeight(rx, _x)\n          r += src.data[getSrcIndex(~~rx, ~~ry, 0)] * weight\n          g += src.data[getSrcIndex(~~rx, ~~ry, 1)] * weight\n          b += src.data[getSrcIndex(~~rx, ~~ry, 2)] * weight\n        }\n        dst.data[getDstIndex(x, y, 0)] = ~~r\n        dst.data[getDstIndex(x, y, 1)] = ~~g\n        dst.data[getDstIndex(x, y, 2)] = ~~b\n        dst.data[getDstIndex(x, y, 3)] = 255\n      }\n      ctx.putImageData(dst, 0, 0)\n    }\n  }","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.76\n * 顕著性マップ\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const diff = (a, b) => {\n      let result = []\n      for (let i = 0; i < a.length; i++) {\n        result.push(a[i] - b[i])\n      }\n      return result\n    }\n    const add = (a, b) => {\n      let result = []\n      for (let i = 0; i < a.length; i++) {\n        result.push(a[i] + b[i])\n      }\n      return result\n    }\n    const abs = (a) => Math.abs(a)\n    let ctx = canvas.getContext(\"2d\")\n    canvas.width = image.width\n    canvas.height = image.height\n    let pyramid = []\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let gray = ctx.createImageData(image.width, image.height)\n    for (let i = 0; i < src.data.length; i += 4) {\n      gray.data[i] = gray.data[i + 1] = gray.data[i + 2] = grayscale(\n        src.data[i], src.data[i + 1], src.data[i + 2]\n      )\n      gray.data[i + 3] = 255\n    }\n    for (let i = 1; i <= 32; i *= 2) {\n      canvas.width = image.width\n      canvas.height = image.height\n      ctx.putImageData(gray, 0, 0)\n      this.bilinear(canvas, 1 / i)\n      this.bilinear(canvas, i)\n      let tmp = ctx.getImageData(0, 0, canvas.width, canvas.height)\n      let row = []\n      for (let j = 0; j < tmp.data.length; j += 4) {\n        row.push(tmp.data[j])\n      }\n      pyramid.push(row)\n    }\n    let out = diff(pyramid[0], pyramid[1]).map(abs)\n    out = add(out, diff(pyramid[0], pyramid[3]).map(abs))\n    out = add(out, diff(pyramid[0], pyramid[5]).map(abs))\n    out = add(out, diff(pyramid[1], pyramid[4]).map(abs))\n    out = add(out, diff(pyramid[2], pyramid[3]).map(abs))\n    out = add(out, diff(pyramid[3], pyramid[5]).map(abs))\n    let k = Math.max(...out)\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n    for (let i = 0, j = 0; i < dst.data.length; i += 4, j++) {\n      dst.data[i] = dst.data[i + 1] = dst.data[i + 2] = Math.round(out[j] / k * 255)\n      dst.data[i + 3] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n  /**\n   * バイリニア補間\n   * @param {Object} canvas \n   * @param {scale} scale \n   */\n  bilinear(canvas, scale) {\n    const srcWidth = canvas.width\n    const srcHeight = canvas.height\n    const dstWidth = canvas.width * scale\n    const dstHeight = canvas.height * scale\n    const getDstIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), dstWidth - 1)\n      y = Math.min(Math.max(y, 0), dstHeight - 1)\n      return y * dstWidth * 4 + x * 4 + channel\n    }\n    const getSrcIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), srcWidth - 1)\n      y = Math.min(Math.max(y, 0), srcHeight - 1)\n      return y * srcHeight * 4 + x * 4 + channel\n    }\n    const getWeight = (t1, t2) => {\n      const d = Math.abs(t1 - t2);\n      if (d > 1) {\n        return 0;\n      }\n      return 1 - d;\n    }\n    let ctx = canvas.getContext(\"2d\");\n    let src = ctx.getImageData(0, 0, srcWidth, srcHeight)\n    let dst = ctx.createImageData(dstWidth, dstHeight)\n    canvas.width = dstWidth\n    canvas.height = dstHeight\n    const range = [0, 1]\n    for (let x = 0; x < dstWidth; x++) for (let y = 0; y < dstHeight; y++) {\n      let _x = x / scale\n      let _y = y / scale\n      let rangeX = range.map(i => i + Math.floor(_x));\n      let rangeY = range.map(i => i + Math.floor(_y));\n      let r, g, b\n      r = g = b = 0\n\n      for (let ry of rangeY) for (let rx of rangeX) {\n        let weight = getWeight(ry, _y) * getWeight(rx, _x)\n        r += src.data[getSrcIndex(~~rx, ~~ry, 0)] * weight\n        g += src.data[getSrcIndex(~~rx, ~~ry, 1)] * weight\n        b += src.data[getSrcIndex(~~rx, ~~ry, 2)] * weight\n      }\n      dst.data[getDstIndex(x, y, 0)] = ~~r\n      dst.data[getDstIndex(x, y, 1)] = ~~g\n      dst.data[getDstIndex(x, y, 2)] = ~~b\n      dst.data[getDstIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { OneCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.77\n * ガボールフィルタ\n * @extends OneCanvasComponent\n */\nexport default class extends OneCanvasComponent {\n  constructor() {\n    super()\n    this.kSize = 111\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   */\n  main(canvas) {\n    const kSize = this.kSize\n    const getIdx = (x, y) => {\n      x = Math.min(Math.max(x, 0), kSize - 1)\n      y = Math.min(Math.max(y, 0), kSize - 1)\n      return y * kSize + x\n    }\n    const sum = (arr) => {\n      let result = 0\n      arr.forEach(e => {\n        result += e\n      })\n      return result\n    }\n    const sigma = 10\n    const gamma = 1.2\n    const lambda = 10.0\n    const psi = 0\n    const angle = 0\n    const d = ~~(kSize / 2)\n    let gabor = new Array(kSize * kSize).fill(0)\n    for (let y = 0; y < kSize; y++) for (let x = 0; x < kSize; x++) {\n      let px = x - d\n      let py = y - d\n      let theta = angle / 180 * Math.PI\n      let _x = Math.cos(theta) * px + Math.sin(theta) * py\n      let _y = -Math.sin(theta) * px + Math.cos(theta) * py\n      gabor[getIdx(x, y)] = Math.exp(-(_x ** 2 + gamma ** 2 * _y ** 2) / (2 * sigma ** 2)) * Math.cos(2 * Math.PI * _x / lambda + psi)\n    }\n    let sumGabor = sum(gabor.slice().map(Math.abs))\n    gabor = gabor.slice().map(e => e / sumGabor)\n    let minGabor = Math.min(...gabor)\n    gabor = gabor.map(e => e - minGabor)\n    let maxGabor = Math.max(...gabor)\n    gabor = gabor.map(e => e / maxGabor * 255)\n    let ctx1 = canvas.getContext(\"2d\")\n    canvas.width = canvas.height = kSize\n    let dst1 = ctx1.createImageData(kSize, kSize)\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = gabor[j]\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n  }\n}","import BasePagesComponent from \"./BaseComponents.js\"\nimport { OneCanvasTemplate } from \"../templates\"\n/**\n * Q.78\n * ガボールフィルタの回転\n * @extends BasePagesComponent\n */\nexport default class extends BasePagesComponent {\n  constructor() {\n    super()\n    super.setTemplate(OneCanvasTemplate)\n    this.kSize = 111\n  }\n  /**\n   * DOMの初期処理\n   * @access private\n   * @param {Document} self \n   */\n  _initObject(self) {\n    let canvas = self.$refs[\"canvas1\"]\n    canvas.width = canvas.height = this.kSize\n    self.$refs[\"button-run\"].addEventListener(\"click\", () => {\n      this.main(canvas)\n    })\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   */\n  main(canvas) {\n    const kSize = this.kSize\n    let ctx1 = canvas.getContext(\"2d\")\n    let angles = [0, 45 , 90, 135]\n    for (let i in angles) {\n      let out = this.gabor({\n        kSize,\n        sigma: 10,\n        gamma: 1.2,\n        lambda: 10.0,\n        psi: 1,\n        angle: angles[i],\n      })\n      canvas.width = canvas.height = kSize\n      let dst1 = ctx1.createImageData(kSize, kSize)\n      for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n        dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = out[j]\n        dst1.data[i + 3] = 255\n      }\n      ctx1.putImageData(dst1, 0, 0)\n      let url = canvas.toDataURL()\n      this.showMessage(\n        `<img src=\"${url}\"/> deg : ${angles[i]}`,\n        true\n      )\n    }\n  }\n  /**\n   * ガボールフィルタ\n   * @param {Object} arg \n   */\n  gabor(arg) {\n    const kSize = arg.kSize\n    const getIdx = (x, y) => {\n      x = Math.min(Math.max(x, 0), kSize - 1)\n      y = Math.min(Math.max(y, 0), kSize - 1)\n      return y * kSize + x\n    }\n    const sum = (arr) => {\n      let result = 0\n      arr.forEach(e => {\n        result += e\n      })\n      return result\n    }\n    const sigma = arg.sigma\n    const gamma = arg.gamma\n    const lambda = arg.lambda\n    const psi = arg.psi\n    const angle = arg.angle\n    const d = ~~(kSize / 2)\n    let out = new Array(kSize * kSize).fill(0)\n    for (let y = 0; y < kSize; y++) for (let x = 0; x < kSize; x++) {\n      let px = x - d\n      let py = y - d\n      let theta = angle / 180 * Math.PI\n      let _x = Math.cos(theta) * px + Math.sin(theta) * py\n      let _y = -Math.sin(theta) * px + Math.cos(theta) * py\n      out[getIdx(x, y)] = Math.exp(-(_x ** 2 + gamma ** 2 * _y ** 2) / (2 * sigma ** 2)) * Math.cos(2 * Math.PI * _x / lambda + psi)\n    }\n    let sumGabor = sum(out.slice().map(Math.abs))\n    out = out.slice().map(e => e / sumGabor)\n    let minGabor = Math.min(...out)\n    out = out.map(e => e - minGabor)\n    let maxGabor = Math.max(...out)\n    out = out.map(e => e / maxGabor * 255)\n    return out\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.79\n * ガボールフィルタによるエッジ抽出\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const ctx1 = canvas1.getContext(\"2d\")\n    const W = image.width\n    const H = image.height\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let gray = new Array(H * W).fill(0)\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let c = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = c\n      dst1.data[i + 3] = 255\n      gray[j] = c\n    }\n    ctx1.putImageData(dst1, 0, 0)\n    const kSize = 11\n    let angles = [0, 45 , 90, 135]\n    for (let key in angles) {\n      let kernel = this.getGaborKernel({\n        kSize,\n        sigma: 1.5,\n        gamma: 1.2,\n        lambda: 3.0,\n        psi: 0,\n        angle: angles[key],\n      })\n      let out = new Array(H * W)\n      this.adaptKernel(gray, out, W, H, kernel)\n      let max = Math.max(...out)\n      out = out.map(e => {\n        // 正規化\n        e = e / max * 255\n        if (e > 255) return 255\n        if (e < 0) return 0\n        return Math.floor(e)\n      })\n      for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n        dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = out[j]\n      }\n      ctx1.putImageData(dst1, 0, 0)\n\n      let url = canvas1.toDataURL()\n      this.showMessage(\n        `<img src=\"${url}\"/> deg : ${angles[key]}`,\n        true\n      )\n    }\n  }\n  /**\n   * ガボールフィルタ\n   * @param {Object} arg \n   * @return {Array} images array\n   */\n  getGaborKernel(arg) {\n    const kSize = arg.kSize\n    const getIdx = (x, y) => {\n      x = Math.min(Math.max(x, 0), kSize - 1)\n      y = Math.min(Math.max(y, 0), kSize - 1)\n      return y * kSize + x\n    }\n    const sum = (arr) => {\n      let result = 0\n      arr.forEach(e => {\n        result += e\n      })\n      return result\n    }\n    const sigma = arg.sigma\n    const gamma = arg.gamma\n    const lambda = arg.lambda\n    const psi = arg.psi\n    const angle = arg.angle\n    const d = ~~(kSize / 2)\n    let out = new Array(kSize * kSize).fill(0)\n    for (let y = 0; y < kSize; y++) for (let x = 0; x < kSize; x++) {\n      let px = x - d\n      let py = y - d\n      let theta = angle / 180 * Math.PI\n      let _x = Math.cos(theta) * px + Math.sin(theta) * py\n      let _y = -Math.sin(theta) * px + Math.cos(theta) * py\n      out[getIdx(x, y)] = Math.exp(-(_x ** 2 + gamma ** 2 * _y ** 2) / (2 * sigma ** 2)) * Math.cos(2 * Math.PI * _x / lambda + psi)\n    }\n    let sumGabor = sum(out.slice().map(Math.abs))\n    out = out.slice().map(e => e / sumGabor)\n    let kernel = []\n    for (let i = 0; i < kSize; i++) {\n      let tmp = []\n      for (let j = 0; j < kSize; j++) {\n        tmp.push(out[i * kSize + j])\n      }\n      kernel.push(tmp)\n    }\n    return kernel\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback = null) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - d\n        let _j = j - d\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      } else {\n        dst[dstIdx] = k\n      }\n    }\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.80\n * ガボールフィルタによる特徴抽出\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const add = (a, b) => {\n      let result = []\n      for (let i = 0; i < a.length; i++) {\n        result.push(a[i] + b[i])\n      }\n      return result\n    }\n    const ctx1 = canvas1.getContext(\"2d\")\n    const W = image.width\n    const H = image.height\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let gray = new Array(H * W).fill(0)\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let c = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = c\n      dst1.data[i + 3] = 255\n      gray[j] = c\n    }\n    ctx1.putImageData(dst1, 0, 0)\n    const kSize = 11\n    let angles = [0, 45 , 90, 135]\n    let result = new Array(gray.length).fill(0)\n    for (let key in angles) {\n      let kernel = this.getGaborKernel({\n        kSize,\n        sigma: 1.5,\n        gamma: 1.2,\n        lambda: 3.0,\n        psi: 0,\n        angle: angles[key],\n      })\n      let out = new Array(H * W)\n      this.adaptKernel(gray, out, W, H, kernel)\n      result = add(result, out)\n    }\n    let max = Math.max(...result)\n    result = result.map(e => {\n      // 正規化\n      e = e / max * 255\n      if (e > 255) return 255\n      if (e < 0) return 0\n      return Math.floor(e)\n    })\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = result[j]\n    }\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * ガボールフィルタ\n   * @param {Object} arg \n   * @return {Array} images array\n   */\n  getGaborKernel(arg) {\n    const kSize = arg.kSize\n    const getIdx = (x, y) => {\n      x = Math.min(Math.max(x, 0), kSize - 1)\n      y = Math.min(Math.max(y, 0), kSize - 1)\n      return y * kSize + x\n    }\n    const sum = (arr) => {\n      let result = 0\n      arr.forEach(e => {\n        result += e\n      })\n      return result\n    }\n    const sigma = arg.sigma\n    const gamma = arg.gamma\n    const lambda = arg.lambda\n    const psi = arg.psi\n    const angle = arg.angle\n    const d = ~~(kSize / 2)\n    let out = new Array(kSize * kSize).fill(0)\n    for (let y = 0; y < kSize; y++) for (let x = 0; x < kSize; x++) {\n      let px = x - d\n      let py = y - d\n      let theta = angle / 180 * Math.PI\n      let _x = Math.cos(theta) * px + Math.sin(theta) * py\n      let _y = -Math.sin(theta) * px + Math.cos(theta) * py\n      out[getIdx(x, y)] = Math.exp(-(_x ** 2 + gamma ** 2 * _y ** 2) / (2 * sigma ** 2)) * Math.cos(2 * Math.PI * _x / lambda + psi)\n    }\n    let sumGabor = sum(out.slice().map(Math.abs))\n    out = out.slice().map(e => e / sumGabor)\n    let kernel = []\n    for (let i = 0; i < kSize; i++) {\n      let tmp = []\n      for (let j = 0; j < kSize; j++) {\n        tmp.push(out[i * kSize + j])\n      }\n      kernel.push(tmp)\n    }\n    return kernel\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback = null) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - d\n        let _j = j - d\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      } else {\n        dst[dstIdx] = k\n      }\n    }\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.81\n * Hessianのコーナー検出\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  constructor() {\n    super()\n    this.setSrcImage(config.srcImage.thorino)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   */\n  main(canvas1, image) {\n    const W = image.width\n    const H = image.height\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const getIdx = (x, y) => {\n      x = Math.min(Math.max(x, 0), W - 1)\n      y = Math.min(Math.max(y, 0), H - 1)\n      return y * W + x\n    }\n    const sobely = [\n      [1, 2, 1],\n      [0, 0, 0],\n      [-1, -2, -1]\n    ]\n    const sobelx = [\n      [1, 0, -1],\n      [2, 0, -2],\n      [1, 0, -1]\n    ]\n    const ctx1 = canvas1.getContext(\"2d\")\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let gray = new Array(H * W).fill(0)\n    let Ix = new Array(H * W).fill(0)\n    let Iy = new Array(H * W).fill(0)\n    let Ix2 = new Array(H * W).fill(0)\n    let Iy2 = new Array(H * W).fill(0)\n    let IxIy = new Array(H * W).fill(0)\n    let hes = new Array(H * W).fill(0)\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let c = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = c\n      dst1.data[i + 3] = 255\n      gray[j] = c\n    }\n    ctx1.putImageData(dst1, 0, 0)\n    this.adaptKernel(gray, Iy, W, H, sobely, (arr, sum) => {\n      return ~~sum / arr.length\n    })\n    this.adaptKernel(gray, Ix, W, H, sobelx, (arr, sum) => {\n      return ~~sum / arr.length\n    })\n    for (let i = 0; i < Ix.length; i++) {\n      IxIy[i] = Ix[i] * Iy[i]\n      Ix2[i] = Ix[i] ** 2\n      Iy2[i] = Iy[i] ** 2\n    }\n    for (let x = 0; x < W; x++) for (let y = 0; y < H; y++) {\n      hes[getIdx(x, y)] = Ix2[getIdx(x, y)] * Iy2[getIdx(x, y)] - IxIy[getIdx(x, y)] ** 2\n    }\n    for (let x = 0; x < W; x++) for (let y = 0; y < H; y++) {\n      let tmp = [\n        hes[getIdx(x - 1, y - 1)], hes[getIdx(x, y - 1)], hes[getIdx(x + 1, y - 1)],\n        hes[getIdx(x - 1, y)], hes[getIdx(x, y)], hes[getIdx(x + 1, y)],\n        hes[getIdx(x - 1, y + 1)], hes[getIdx(x, y + 1)], hes[getIdx(x + 1, y + 1)],\n      ]\n      let m = Math.max(...tmp)\n      if (hes[getIdx(x, y)] === m && hes[getIdx(x, y)] > Math.max(...hes) * 0.1) {\n        ctx1.beginPath()\n        ctx1.fillStyle = 'rgb(192, 80, 77)'\n        ctx1.arc(x, y, 2, 0, Math.PI * 2, false)\n        ctx1.fill()\n      }\n    }\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback = null) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      let result = []\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - d\n        let _j = j - d\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n        result.push(\n          kernel[i][j] * src[srcIdx]\n        )\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(result, k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      } else {\n        dst[dstIdx] = k\n      }\n    }\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.82\n * Harrisのコーナー検出 (Step.1) Sobel + Gauusian\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  constructor() {\n    super()\n    this.setSrcImage(config.srcImage.thorino)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   */\n  main(canvas1, image) {\n    const W = image.width\n    const H = image.height\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const norm = (arr, callback = null) => {\n      let min = Math.min(...arr)\n      let max = Math.max(...arr) - min\n      let result = []\n      for (let i = 0; i < arr.length; i++) {\n        let tmp = Math.floor(arr[i] / max * 255)\n        if (callback) {\n          tmp = callback(tmp)\n        }\n        result.push(tmp)\n      }\n      return result\n    }\n    const sobely = [\n      [1, 2, 1],\n      [0, 0, 0],\n      [-1, -2, -1]\n    ]\n    const sobelx = [\n      [1, 0, -1],\n      [2, 0, -2],\n      [1, 0, -1]\n    ]\n    const gKernel = this.getGaussianKernel(3, 3)\n    const ctx1 = canvas1.getContext(\"2d\")\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let [\n      gray, Ix, Iy, Ix2, Iy2, IxIy,\n      hes, Ix2t, Iy2t, Ixyt\n    ] = Array.from(new Array(10), () => new Array(H * W).fill(0))\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let c = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = c\n      dst1.data[i + 3] = 255\n      gray[j] = c\n    }\n    ctx1.putImageData(dst1, 0, 0)\n    this.adaptKernel(gray, Iy, W, H, sobely)\n    this.adaptKernel(gray, Ix, W, H, sobelx)\n    for (let i = 0; i < Ix.length; i++) {\n      Ix2t[i] = Ix[i] ** 2\n      Iy2t[i] = Iy[i] ** 2\n      Ixyt[i] = Ix[i] * Iy[i]\n    }\n    this.adaptKernel(Ix2t, Ix2, W, H, gKernel)\n    this.adaptKernel(Iy2t, Iy2, W, H, gKernel)\n    this.adaptKernel(Ixyt, IxIy, W, H, gKernel)\n    // わかりやすくするために画像を正規化\n    let obj = [\n      {\n        data: norm(Ix2),\n        label: 'Ix^2',\n      },\n      {\n        data: norm(Iy2),\n        label: 'Iy^2',\n      },\n      {\n        data: norm(IxIy, (e) => e + 128),\n        label: 'IxIy',\n      }\n    ]\n    obj.forEach(e => {\n      for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n        dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = e.data[j]\n      }\n      ctx1.putImageData(dst1, 0, 0)\n      let url = canvas1.toDataURL()\n      this.showMessage(\n        `<strong>${e.label}</strong><br><img src=\"${url}\"/>`,\n        true\n      )\n    });\n  }\n  /**\n   * ガウシアンカーネル生成\n   * @param {Number} kernelSize \n   * @param {Number} sigma \n   */\n  getGaussianKernel(kernelSize, sigma) {\n    const gaussian = (x, y, sigma) => Math.exp(-(x ** 2 + y ** 2) / (2 * sigma ** 2))\n    let w = 0\n    let kernel = Array.from(new Array(kernelSize), () => new Array(kernelSize).fill(0))\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      let _x = x - ~~(kernelSize / 2)\n      let _y = y - ~~(kernelSize / 2)\n      let g = gaussian(_x, _y, sigma)\n      kernel[y][x] = g\n      kernel[y][x] /= sigma * (Math.sqrt(2 * Math.PI))\n      w += kernel[y][x]\n    }\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      kernel[y][x] /= w\n    }\n    return kernel\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback = null) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      let result = []\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - d\n        let _j = j - d\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n        result.push(\n          kernel[i][j] * src[srcIdx]\n        )\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(result, k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      } else {\n        dst[dstIdx] = k\n      }\n    }\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.83\n * Harrisのコーナー検出 (Step.2) コーナー検出\n * @extends BaseTwoCanvasComponent\n */\nexport default class extends BaseTwoCanvasComponent {\n  constructor() {\n    super()\n    this.setSrcImage(config.srcImage.thorino)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   */\n  main(canvas1, image) {\n    const W = image.width\n    const H = image.height\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const sobely = [\n      [1, 2, 1],\n      [0, 0, 0],\n      [-1, -2, -1]\n    ]\n    const sobelx = [\n      [1, 0, -1],\n      [2, 0, -2],\n      [1, 0, -1]\n    ]\n    const k = 0.04\n    const th = 0.1\n    const gKernel = this.getGaussianKernel(3, 3)\n    const ctx1 = canvas1.getContext(\"2d\")\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let [\n      gray, Ix, Iy, Ix2, Iy2, IxIy,\n      Ix2t, Iy2t, Ixyt, M\n    ] = Array.from(new Array(10), () => new Array(H * W).fill(0))\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let c = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = c\n      dst1.data[i + 3] = 255\n      gray[j] = c\n    }\n    ctx1.putImageData(dst1, 0, 0)\n    this.adaptKernel(gray, Iy, W, H, sobely)\n    this.adaptKernel(gray, Ix, W, H, sobelx)\n    for (let i = 0; i < Ix.length; i++) {\n      Ix2t[i] = Ix[i] ** 2\n      Iy2t[i] = Iy[i] ** 2\n      Ixyt[i] = Ix[i] * Iy[i]\n    }\n    this.adaptKernel(Ix2t, Ix2, W, H, gKernel)\n    this.adaptKernel(Iy2t, Iy2, W, H, gKernel)\n    this.adaptKernel(Ixyt, IxIy, W, H, gKernel)\n    for (let i = 0; i < IxIy.length; i++) {\n      M[i] = (Ix2[i] * Iy2[i] - IxIy[i] ** 2) - k * ((Ix2[i] + Iy2[i]) ** 2)\n    }\n    let threshold = Math.max(...M) * th\n    for (let i = 0; i < M.length; i++) {\n      if (M[i] > threshold) {\n        let x = i % W\n        let y = Math.ceil(i / W)\n        ctx1.beginPath()\n        ctx1.fillStyle = 'rgb(192, 80, 77)'\n        ctx1.arc(x, y, 2, 0, Math.PI * 2, false)\n        ctx1.fill()\n      }\n    }\n  }\n  /**\n   * ガウシアンカーネル生成\n   * @param {Number} kernelSize \n   * @param {Number} sigma \n   */\n  getGaussianKernel(kernelSize, sigma) {\n    const gaussian = (x, y, sigma) => Math.exp(-(x ** 2 + y ** 2) / (2 * sigma ** 2))\n    let w = 0\n    let kernel = Array.from(new Array(kernelSize), () => new Array(kernelSize).fill(0))\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      let _x = x - ~~(kernelSize / 2)\n      let _y = y - ~~(kernelSize / 2)\n      let g = gaussian(_x, _y, sigma)\n      kernel[y][x] = g\n      kernel[y][x] /= sigma * (Math.sqrt(2 * Math.PI))\n      w += kernel[y][x]\n    }\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      kernel[y][x] /= w\n    }\n    return kernel\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback = null) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      let result = []\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - d\n        let _j = j - d\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n        result.push(\n          kernel[i][j] * src[srcIdx]\n        )\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(result, k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      } else {\n        dst[dstIdx] = k\n      }\n    }\n  }\n}","import { OneCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\nimport CanvasTools from \"@/lib/CanvasTools\"\n/**\n * Q.84\n * 簡単な画像認識 (Step.1) 減色化 + ヒストグラム\n * @extends OneCanvasComponent\n */\nexport default class extends OneCanvasComponent {\n  constructor() {\n    super()\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   */\n  main(canvas) {\n    const basename = (arg) => arg.split(\"/\").reverse()[0]\n    const trains = config.dataset.train.sort()\n    for (let i = 0; i < trains.length; i++) {\n      let image = new Image()\n      image.src = trains[i]\n      image.addEventListener('load', () => {\n        let hist = this.getHistogram(canvas, image)\n        canvas.height = 200\n        CanvasTools.renderHistogram(canvas, hist)\n        let url = canvas.toDataURL()\n        this.showMessage(`\n          <strong>${basename(trains[i])}</strong>\n          <img src='${url}' style='height:200px;width:450px;'><img src='${trains[i]}'>\n        `)\n        canvas.style.width = canvas.style.height = 0\n      })\n    }\n  }\n  /**\n   * ヒストグラム算出\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  getHistogram(canvas, image) {\n    const decreaseColor = (c) => {\n      c = parseInt(Math.floor(c / 255 * 3), 10) \n      return c\n    }\n    const ctx1 = canvas.getContext(\"2d\")\n    let W,H\n    W = canvas.width = image.width\n    H = canvas.height = image.height\n    ctx1.drawImage(image, 0, 0, W, H)\n    let src = ctx1.getImageData(0, 0, W, H)\n    let dst1 = ctx1.createImageData(W, H)\n    let result = new Array(12).fill(0)\n    for (let i = 0; i < dst1.data.length; i += 4) for (let j = 0; j < 3; j++) {\n      let _i = i + j\n      let c = decreaseColor(src.data[_i])\n      result[j * 4 + c]++\n    }\n    return result\n  }\n}","import { OneCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\nimport CanvasTools from \"@/lib/CanvasTools\"\n/**\n * Q.85\n * 簡単な画像認識 (Step.2) クラス判別\n * @extends OneCanvasComponent\n */\nexport default class extends OneCanvasComponent {\n  constructor() {\n    super()\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   */\n  main(canvas) {\n    const basename = (arg) => arg.split(\"/\").reverse()[0]\n    const diff = (a, b) => {\n      let result = []\n      for (let i = 0; i < a.length; i++) {\n        result.push(Math.abs(a[i] - b[i]))\n      }\n      return result\n    }\n    const sum = (arr) => {\n      let s = 0\n      arr.forEach(e => {\n        s += e\n      })\n      return s\n    }\n    const finalize = () => {\n      // 終了処理\n      let detail = ''\n      for (let i = 0; i < tests.length; i++) {\n        detail += ` <img src='${tests[i]}'> `\n      }\n      detail += `\\n${tests.map(e => basename(e)).join(' ')}\\n`\n\n      for (let i = 0; i < trains.length; i++) {\n        detail += ` <img src='${trains[i]}'> `\n      }\n      detail += `\\n${trains.map(e => basename(e)).join(' ')}\\n`\n      this.showMessage(detail)\n      canvas.style.width = canvas.style.height = 0\n    }\n    const trains = config.dataset.train.sort()\n    const tests = config.dataset.tests.sort()\n    let imagesCount = trains.length + tests.length\n    const trainsData = new Array(trains.lengt)\n    const testsData = new Array(tests.lengt)\n    const event = () => {\n      imagesCount--\n      if (imagesCount > 0) {\n        return\n      }\n      // メイン処理\n      for (let i = 0; i < testsData.length; i++) {\n        let test = testsData[i]\n        let min = Number.MAX_VALUE\n        let idx = 0\n        for (let j = 0; j < trainsData.length; j++) {\n          let train = trainsData[j]\n          let t1 = diff(test, train)\n          let t2 = sum(t1)\n          // console.log([i,j,t2])\n          if (t2 < min) {\n            min = t2\n            idx = j\n          }\n        }\n        this.showMessage(`\n        <img src='${tests[i]}'> <img src='${trains[idx]}'>\n        ${basename(tests[i])} is similar >> ${basename(trains[idx])}  Pred >> ${basename(trains[idx]).split(\"_\")[1]}\n        `)\n      }\n      finalize()\n    }\n    for (let i = 0; i < trains.length; i++) {\n      let image = new Image()\n      image.src = trains[i]\n      image.addEventListener('load', () => {\n        let hist = this.getHistogram(canvas, image)\n        trainsData[i] = hist\n        event()\n      })\n    }\n    for (let i = 0; i < tests.length; i++) {\n      let image = new Image()\n      image.src = tests[i]\n      image.addEventListener('load', () => {\n        let hist = this.getHistogram(canvas, image)\n        testsData[i] = hist\n        event()\n      })\n    }\n  }\n  /**\n   * ヒストグラム算出\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  getHistogram(canvas, image) {\n    const decreaseColor = (c) => {\n      c = parseInt(Math.floor(c / 255 * 3), 10) \n      return c\n    }\n    const ctx1 = canvas.getContext(\"2d\")\n    let W,H\n    W = canvas.width = image.width\n    H = canvas.height = image.height\n    ctx1.drawImage(image, 0, 0, W, H)\n    let src = ctx1.getImageData(0, 0, W, H)\n    let dst1 = ctx1.createImageData(W, H)\n    let result = new Array(12).fill(0)\n    for (let i = 0; i < dst1.data.length; i += 4) for (let j = 0; j < 3; j++) {\n      let _i = i + j\n      let c = decreaseColor(src.data[_i])\n      result[j * 4 + c]++\n    }\n    return result\n  }\n}","import { OneCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\nimport CanvasTools from \"@/lib/CanvasTools\"\n/**\n * Q.85\n * 簡単な画像認識 (Step.2) クラス判別\n * @extends OneCanvasComponent\n */\nexport default class extends OneCanvasComponent {\n  constructor() {\n    super()\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   */\n  main(canvas) {\n    const basename = (arg) => arg.split(\"/\").reverse()[0]\n    const diff = (a, b) => {\n      let result = []\n      for (let i = 0; i < a.length; i++) {\n        result.push(Math.abs(a[i] - b[i]))\n      }\n      return result\n    }\n    const sum = (arr) => {\n      let s = 0\n      arr.forEach(e => {\n        s += e\n      })\n      return s\n    }\n    const finalize = () => {\n      // 終了処理\n      let detail = ''\n      for (let i = 0; i < tests.length; i++) {\n        detail += ` <img src='${tests[i]}'> `\n      }\n      detail += `\\n${tests.map(e => basename(e)).join(' ')}\\n`\n\n      for (let i = 0; i < trains.length; i++) {\n        detail += ` <img src='${trains[i]}'> `\n      }\n      detail += `\\n${trains.map(e => basename(e)).join(' ')}\\n`\n      this.showMessage(detail)\n      canvas.style.width = canvas.style.height = 0\n    }\n    const trains = config.dataset.train.sort()\n    const tests = config.dataset.tests.sort()\n    let imagesCount = trains.length + tests.length\n    const trainsData = new Array(trains.lengt)\n    const testsData = new Array(tests.lengt)\n    const event = () => {\n      imagesCount--\n      if (imagesCount > 0) {\n        return\n      }\n      // メイン処理\n      let successCount = 0\n      for (let i = 0; i < testsData.length; i++) {\n        let test = testsData[i]\n        let min = Number.MAX_VALUE\n        let idx = 0\n        for (let j = 0; j < trainsData.length; j++) {\n          let train = trainsData[j]\n          let t1 = diff(test, train)\n          let t2 = sum(t1)\n          // console.log([i,j,t2])\n          if (t2 < min) {\n            min = t2\n            idx = j\n          }\n        }\n        this.showMessage(\n          `<img src='${tests[i]}'> <img src='${trains[idx]}'>\n          ${basename(tests[i])} is similar >> ${basename(trains[idx])}  Pred >> ${basename(trains[idx]).split(\"_\")[1]}`\n        )\n        if (basename(trains[idx]).split(\"_\")[1] === basename(tests[i]).split(\"_\")[1]) {\n          successCount++\n        }\n      }\n      this.showMessage(\n        `Accuracy >> ${successCount / testsData.length} (${successCount} / ${testsData.length})`\n      )\n      finalize()\n    }\n    for (let i = 0; i < trains.length; i++) {\n      let image = new Image()\n      image.src = trains[i]\n      image.addEventListener('load', () => {\n        let hist = this.getHistogram(canvas, image)\n        trainsData[i] = hist\n        event()\n      })\n    }\n    for (let i = 0; i < tests.length; i++) {\n      let image = new Image()\n      image.src = tests[i]\n      image.addEventListener('load', () => {\n        let hist = this.getHistogram(canvas, image)\n        testsData[i] = hist\n        event()\n      })\n    }\n  }\n  /**\n   * ヒストグラム算出\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  getHistogram(canvas, image) {\n    const decreaseColor = (c) => {\n      c = parseInt(Math.floor(c / 255 * 3), 10) \n      return c\n    }\n    const ctx1 = canvas.getContext(\"2d\")\n    let W,H\n    W = canvas.width = image.width\n    H = canvas.height = image.height\n    ctx1.drawImage(image, 0, 0, W, H)\n    let src = ctx1.getImageData(0, 0, W, H)\n    let dst1 = ctx1.createImageData(W, H)\n    let result = new Array(12).fill(0)\n    for (let i = 0; i < dst1.data.length; i += 4) for (let j = 0; j < 3; j++) {\n      let _i = i + j\n      let c = decreaseColor(src.data[_i])\n      result[j * 4 + c]++\n    }\n    return result\n  }\n}","\nimport Vue from 'vue'\nimport config from './configure'\nimport { BlankTemplate } from \"./templates\"\n\nimport Ans1 from './answers/Ans1.js'\nimport Ans2 from './answers/Ans2.js'\nimport Ans3 from './answers/Ans3.js'\nimport Ans4 from './answers/Ans4.js'\nimport Ans5 from './answers/Ans5.js'\nimport Ans6 from './answers/Ans6.js'\nimport Ans7 from './answers/Ans7.js'\nimport Ans8 from './answers/Ans8.js'\nimport Ans9 from './answers/Ans9.js'\nimport Ans10 from './answers/Ans10.js'\nimport Ans11 from './answers/Ans11.js'\nimport Ans12 from './answers/Ans12.js'\nimport Ans13 from './answers/Ans13.js'\nimport Ans14 from './answers/Ans14.js'\nimport Ans15 from './answers/Ans15.js'\nimport Ans16 from './answers/Ans16.js'\nimport Ans17 from './answers/Ans17.js'\nimport Ans18 from './answers/Ans18.js'\n// import Ans19 from './answers/Ans19.js'\nimport Ans20 from './answers/Ans20.js'\nimport Ans21 from './answers/Ans21.js'\nimport Ans22 from './answers/Ans22.js'\nimport Ans23 from './answers/Ans23.js'\nimport Ans24 from './answers/Ans24.js'\nimport Ans25 from './answers/Ans25.js'\nimport Ans26 from './answers/Ans26.js'\nimport Ans27 from './answers/Ans27.js'\nimport Ans28 from './answers/Ans28.js'\nimport Ans29 from './answers/Ans29.js'\nimport Ans30 from './answers/Ans30.js'\nimport Ans31 from './answers/Ans31.js'\nimport Ans32 from './answers/Ans32.js'\nimport Ans33 from './answers/Ans33.js'\nimport Ans34 from './answers/Ans34.js'\nimport Ans35 from './answers/Ans35.js'\nimport Ans36 from './answers/Ans36.js'\nimport Ans37 from './answers/Ans37.js'\nimport Ans38 from './answers/Ans38.js'\nimport Ans39 from './answers/Ans39.js'\nimport Ans40 from './answers/Ans40.js'\nimport Ans41 from './answers/Ans41.js'\nimport Ans42 from './answers/Ans42.js'\nimport Ans43 from './answers/Ans43.js'\nimport Ans44 from './answers/Ans44.js'\n// import Ans45 from './answers/Ans45.js'\n// import Ans46 from './answers/Ans46.js'\nimport Ans47 from './answers/Ans47.js'\nimport Ans48 from './answers/Ans48.js'\nimport Ans49 from './answers/Ans49.js'\nimport Ans50 from './answers/Ans50.js'\nimport Ans51 from './answers/Ans51.js'\nimport Ans52 from './answers/Ans52.js'\nimport Ans53 from './answers/Ans53.js'\nimport Ans54 from './answers/Ans54.js'\nimport Ans55 from './answers/Ans55.js'\nimport Ans56 from './answers/Ans56.js'\nimport Ans57 from './answers/Ans57.js'\nimport Ans58 from './answers/Ans58.js'\nimport Ans59 from './answers/Ans59.js'\nimport Ans60 from './answers/Ans60.js'\nimport Ans61 from './answers/Ans61.js'\nimport Ans62 from './answers/Ans62.js'\nimport Ans63 from './answers/Ans63.js'\nimport Ans64 from './answers/Ans64.js'\nimport Ans65 from './answers/Ans65.js'\n// import Ans66 from './answers/Ans66.js'\n// import Ans67 from './answers/Ans67.js'\n// import Ans68 from './answers/Ans68.js'\n// import Ans69 from './answers/Ans69.js'\nimport Ans70 from './answers/Ans70.js'\nimport Ans71 from './answers/Ans71.js'\nimport Ans72 from './answers/Ans72.js'\nimport Ans73 from './answers/Ans73.js'\nimport Ans74 from './answers/Ans74.js'\nimport Ans75 from './answers/Ans75.js'\nimport Ans76 from './answers/Ans76.js'\nimport Ans77 from './answers/Ans77.js'\nimport Ans78 from './answers/Ans78.js'\nimport Ans79 from './answers/Ans79.js'\nimport Ans80 from './answers/Ans80.js'\nimport Ans81 from './answers/Ans81.js'\nimport Ans82 from './answers/Ans82.js'\nimport Ans83 from './answers/Ans83.js'\nimport Ans84 from './answers/Ans84.js'\nimport Ans85 from './answers/Ans85.js'\nimport Ans86 from './answers/Ans86.js'\n// import Ans87 from './answers/Ans87.js'\n// import Ans88 from './answers/Ans88.js'\n// import Ans89 from './answers/Ans89.js'\n// import Ans90 from './answers/Ans90.js'\n// import Ans91 from './answers/Ans91.js'\n// import Ans92 from './answers/Ans92.js'\n// import Ans93 from './answers/Ans93.js'\n// import Ans94 from './answers/Ans94.js'\n// import Ans95 from './answers/Ans95.js'\n// import Ans96 from './answers/Ans96.js'\n// import Ans97 from './answers/Ans97.js'\n// import Ans98 from './answers/Ans98.js'\n// import Ans99 from './answers/Ans99.js'\n// import Ans100 from './answers/Ans100.js'\n\n\n\n\nconst componentMap = {\n  \"ans1\": new Ans1(),\n  \"ans2\": new Ans2(),\n  \"ans3\": new Ans3(),\n  \"ans4\": new Ans4(),\n  \"ans5\": new Ans5(),\n  \"ans6\": new Ans6(),\n  \"ans7\": new Ans7(),\n  \"ans8\": new Ans8(),\n  \"ans9\": new Ans9(),\n  \"ans10\": new Ans10(),\n  \"ans11\": new Ans11(),\n  \"ans12\": new Ans12(),\n  \"ans13\": new Ans13(),\n  \"ans14\": new Ans14(),\n  \"ans15\": new Ans15(),\n  \"ans16\": new Ans16(),\n  \"ans17\": new Ans17(),\n  \"ans18\": new Ans18(),\n  // \"ans19\": new Ans19(),\n  \"ans20\": new Ans20(),\n  \"ans21\": new Ans21(),\n  \"ans22\": new Ans22(),\n  \"ans23\": new Ans23(),\n  \"ans24\": new Ans24(),\n  \"ans25\": new Ans25(),\n  \"ans26\": new Ans26(),\n  \"ans27\": new Ans27(),\n  \"ans28\": new Ans28(),\n  \"ans29\": new Ans29(),\n  \"ans30\": new Ans30(),\n  \"ans31\": new Ans31(),\n  \"ans32\": new Ans32(),\n  \"ans33\": new Ans33(),\n  \"ans34\": new Ans34(),\n  \"ans35\": new Ans35(),\n  \"ans36\": new Ans36(),\n  \"ans37\": new Ans37(),\n  \"ans38\": new Ans38(),\n  \"ans39\": new Ans39(),\n  \"ans40\": new Ans40(),\n  \"ans41\": new Ans41(),\n  \"ans42\": new Ans42(),\n  \"ans43\": new Ans43(),\n  \"ans44\": new Ans44(),\n  // \"ans45\": new Ans45(),\n  // \"ans46\": new Ans46(),\n  \"ans47\": new Ans47(),\n  \"ans48\": new Ans48(),\n  \"ans49\": new Ans49(),\n  \"ans50\": new Ans50(),\n  \"ans51\": new Ans51(),\n  \"ans52\": new Ans52(),\n  \"ans53\": new Ans53(),\n  \"ans54\": new Ans54(),\n  \"ans55\": new Ans55(),\n  \"ans56\": new Ans56(),\n  \"ans57\": new Ans57(),\n  \"ans58\": new Ans58(),\n  \"ans59\": new Ans59(),\n  \"ans60\": new Ans60(),\n  \"ans61\": new Ans61(),\n  \"ans62\": new Ans62(),\n  \"ans63\": new Ans63(),\n  \"ans64\": new Ans64(),\n  \"ans65\": new Ans65(),\n  // \"ans66\": new Ans66(),\n  // \"ans67\": new Ans67(),\n  // \"ans68\": new Ans68(),\n  // \"ans69\": new Ans69(),\n  \"ans70\": new Ans70(),\n  \"ans71\": new Ans71(),\n  \"ans72\": new Ans72(),\n  \"ans73\": new Ans73(),\n  \"ans74\": new Ans74(),\n  \"ans75\": new Ans75(),\n  \"ans76\": new Ans76(),\n  \"ans77\": new Ans77(),\n  \"ans78\": new Ans78(),\n  \"ans79\": new Ans79(),\n  \"ans80\": new Ans80(),\n  \"ans81\": new Ans81(),\n  \"ans82\": new Ans82(),\n  \"ans83\": new Ans83(),\n  \"ans84\": new Ans84(),\n  \"ans85\": new Ans85(),\n  \"ans86\": new Ans86(),\n  // \"ans87\": new Ans87(),\n  // \"ans88\": new Ans88(),\n  // \"ans89\": new Ans89(),\n  // \"ans90\": new Ans90(),\n  // \"ans91\": new Ans91(),\n  // \"ans92\": new Ans92(),\n  // \"ans93\": new Ans93(),\n  // \"ans94\": new Ans94(),\n  // \"ans95\": new Ans95(),\n  // \"ans96\": new Ans96(),\n  // \"ans97\": new Ans97(),\n  // \"ans98\": new Ans98(),\n  // \"ans99\": new Ans99(),\n  // \"ans100\": new Ans100(),  \n}\n\n/**\n * 画像処理クラスからVueコンポーネントを作成\n * @param {String} name Component Name\n * @param {Object} obj Image processing class\n * @return {Object} Vue Component\n */\nconst makeComponent = (name, obj) => {\n  return Vue.component(name, {\n    name: name,\n    data() {\n      return {\n        srcImages:config.srcImageOption,\n        selected:'',\n      }\n    },\n    methods: {\n      setImage() {\n        obj.setSrcImage(this.selected)\n        obj._initObject(this)\n      }\n    },\n    mounted() {\n      obj.init(this)\n      obj._initObject(this)\n    },\n    template: `\n    <div>\n      <div style=\"width=100%;text-align:right\">\n        <select v-model=\"selected\" v-on:change=\"setImage()\">\n          <option v-for=\"option in srcImages\" v-bind:value=\"option.src\" >\n            {{ option.label }}\n          </option>\n        </select>\n      </div>\n      <div style=\"width=100%;text-align:center\">\n        ${obj.getTemplate()}\n      </div>\n    </div>`,\n  })\n}\n\nexport default (() => {\n  let exportComponents = {};\n  for (let i = 1; i <= 100; i++) {\n    let key = `ans${i}`\n    let obj = componentMap[key]\n    if (!componentMap[key]) {\n      exportComponents[key] = Vue.component(key, {\n        template: `\n        <div style=\"width=100%;text-align:center\">\n          ${BlankTemplate}\n        </div>`,\n      })\n    } else {\n      exportComponents[key] = makeComponent(key, obj)\n    }\n  }\n  return exportComponents\n})()","export default {\n  ans1: {\n    title: \"チャンネル入れ替え\",\n    desc: `画像を読み込み、RGBをBGRの順に入れ替える。左の画像が入力画像。右の画像が処理後の画像。`\n  },\n  ans2: {\n    title: \"グレースケール\",\n    desc: `画像の輝度表現方法の一種であり次の式で計算される。\n    <code>Y = 0.2126 R + 0.7152 G + 0.0722 B</code>`\n  },\n  ans3: {\n    title: \"二値化\",\n    desc: \"グレースケールに変換された画像の各画素の値が閾値未満であれば0、閾値以上であれば255に変換する。ここで閾値は128としている。\",\n  },\n  ans4: {\n    title: \"大津の二値化\",\n    desc: \"\",\n  },\n  ans5: {\n    title: \"HSV変換\",\n    desc: \"出力画像は色相Hを反転(180を加算)し、RGB画像に変換したものである。\",\n  },\n  ans6: {\n    title: \"減色処理\",\n    desc: \"出力画像は[32, 96, 160, 224]の4色に減色したものである。\",\n  },\n  ans7: {\n    title: \"平均プーリング\",\n    desc: \"出力画像は8x8にグリッド分割された平均プーリングである\",\n  },\n  ans8: {\n    title: \"Maxプーリング\",\n    desc: \"\",\n  },\n  ans9: {\n    title: \"ガウシアンフィルタ\",\n    desc: \"出力画像は、3x3かつ標準偏差1.3のカーネルを用いて平滑化されたものである。\",\n  },\n  ans10: {\n    title: \"メディアンフィルタ\",\n    desc: \"入力画像の注目画素の3x3の中央値を利用している。\",\n  },\n  ans11: {\n    title: \"平滑化フィルタ\",\n    desc: `フィルタは次式を用いている。\n<pre><code>[[1/3, 0, 0],\n[0, 1/3, 0],\n[0, 0, 1/3]]</code></pre>`,\n  },\n  ans12: {\n    title: \"モーションフィルタ\",\n    desc: \"\",\n  },\n  ans13: {\n    title: \"MAX-MINフィルタ\",\n    desc: \"\",\n  },\n  ans14: {\n    title: \"微分フィルタ\",\n    desc: \"\",\n  },\n  ans15: {\n    title: \"Sobelフィルタ\",\n    desc: \"\",\n  },\n  ans16: {\n    title: \"Prewittフィルタ\",\n    desc: \"\",\n  },\n  ans17: {\n    title: \"Laplacianフィルタ\",\n    desc: \"\",\n  },\n  ans18: {\n    title: \"Embossフィルタ\",\n    desc: \"\",\n  },\n  ans19: {\n    title: \"LoGフィルタ\",\n    desc: \"\",\n  },\n  ans20: {\n    title: \"ヒストグラム表示\",\n    desc: \"\",\n  },\n  ans21: {\n    title: \"ヒストグラム正規化\",\n    desc: \"\",\n  },\n  ans22: {\n    title: \"ヒストグラム操作\",\n    desc: \"\",\n  },\n  ans23: {\n    title: \"ヒストグラム平坦化\",\n    desc: \"\",\n  },\n  ans24: {\n    title: \"ガンマ補正\",\n    desc: \"\",\n  },\n  ans25: {\n    title: \"最近傍補間\",\n    desc: \"\",\n  },\n  ans26: {\n    title: \"Bi-linear補間\",\n    desc: \"\",\n  },\n  ans27: {\n    title: \"Bi-cubic補間\",\n    desc: \"\",\n  },\n  ans28: {\n    title: \"アフィン変換(平行移動)\",\n    desc: \"\",\n  },\n  ans29: {\n    title: \"アフィン変換(拡大縮小)\",\n    desc: \"\",\n  },\n  ans30: {\n    title: \"アフィン変換(回転)\",\n    desc: \"\",\n  },\n  ans31: {\n    title: \"アフィン変換(スキュー)\",\n    desc: \"\",\n  },\n  ans32: {\n    title: \"フーリエ変換\",\n    desc: \"※結果算出までの時間が環境によっては1分以上かかります\",\n  },\n  ans33: {\n    title: \"フーリエ変換 ローパスフィルタ\",\n    desc: \"※結果算出までの時間が環境によっては1分以上かかります\",\n  },\n  ans34: {\n    title: \"フーリエ変換 ハイパスフィルタ\",\n    desc: \"※結果算出までの時間が環境によっては1分以上かかります\",\n  },\n  ans35: {\n    title: \"フーリエ変換 バンドパスフィルタ\",\n    desc: \"※結果算出までの時間が環境によっては1分以上かかります\",\n  },\n  ans36: {\n    title: \"JPEG圧縮 (Step.1)離散コサイン変換\",\n    desc: \"\",\n  },\n  ans37: {\n    title: \"PSNR\",\n    desc: \"\",\n  },\n  ans38: {\n    title: \"JPEG圧縮 (Step.2)DCT+量子化\",\n    desc: \"\",\n  },\n  ans39: {\n    title: \"JPEG圧縮 (Step.3)YCbCr表色系\",\n    desc: \"\",\n  },\n  ans40: {\n    title: \"JPEG圧縮 (Step.4)YCbCr+DCT+量子化\",\n    desc: \"\",\n  },\n  ans41: {\n    title: \"Cannyエッジ検出 (Step.1) エッジ強度\",\n    desc: \"\",\n  },\n  ans42: {\n    title: \"Cannyエッジ検出 (Step.2) 細線化\",\n    desc: \"\",\n  },\n  ans43: {\n    title: \"Cannyエッジ検出 (Step.3) ヒステリシス閾処理\",\n    desc: \"\",\n  },\n  ans44: {\n    title: \"Hough変換・直線検出 (Step.1) Hough変換\",\n    desc: \"\",\n  },\n  ans45: {\n    title: \"Hough変換・直線検出 (Step.2) NMS\",\n    desc: \"\",\n  },\n  ans46: {\n    title: \"Hough変換・直線検出 (Step.3) Hough逆変換\",\n    desc: \"\",\n  },\n  ans47: {\n    title: \"モルフォロジー処理(膨張)\",\n    desc: \"\",\n  },\n  ans48: {\n    title: \"モルフォロジー処理(収縮)\",\n    desc: \"\",\n  },\n  ans49: {\n    title: \"オープニング処理\",\n    desc: \"\",\n  },\n  ans50: {\n    title: \"クロージング処理\",\n    desc: \"\",\n  },\n  ans51: {\n    title: \"モルフォロジー勾配\",\n    desc: \"\",\n  },\n  ans52: {\n    title: \"トップハット変換\",\n    desc: \"\",\n  },\n  ans53: {\n    title: \"ブラックハット変換\",\n    desc: \"\",\n  },\n  ans54: {\n    title: \"テンプレートマッチング SSD\",\n    desc: \"\",\n  },\n  ans55: {\n    title: \"テンプレートマッチング SAD\",\n    desc: \"\",\n  },\n  ans56: {\n    title: \"テンプレートマッチング NCC\",\n    desc: \"\",\n  },\n  ans57: {\n    title: \"テンプレートマッチング ZNCC\",\n    desc: \"\",\n  },\n  ans58: {\n    title: \"ラベリング 4近傍\",\n    desc: \"\",\n  },\n  ans59: {\n    title: \"ラベリング 8近傍\",\n    desc: \"\",\n  },\n  ans60: {\n    title: \"アルファブレンド\",\n    desc: \"\",\n  },\n  ans61: {\n    title: \"4-連結数\",\n    desc: \"\",\n  },\n  ans62: {\n    title: \"8-連結数\",\n    desc: \"\",\n  },\n  ans63: {\n    title: \"細線化処理\",\n    desc: \"\",\n  },\n  ans64: {\n    title: \"ヒルディッチの細線化\",\n    desc: \"\",\n  },\n  ans65: {\n    title: \"Zhang-Suenの細線化\",\n    desc: \"\",\n  },\n  ans70: {\n    title: \"カラートラッキング\",\n    desc: \"\",\n  },\n  ans71: {\n    title: \"マスキング\",\n    desc: \"\",\n  },\n  ans72: {\n    title: \"マスキング(カラートラッキング＋モルフォロジー)\",\n    desc: \"\",\n  },\n  ans73: {\n    title: \"縮小と拡大\",\n    desc: \"\",\n  },\n  ans74: {\n    title: \"ピラミッド差分による高周波成分の抽出\",\n    desc: \"\",\n  },\n  ans75: {\n    title: \"ガウシアンピラミッド\",\n    desc: \"\",\n  },\n  ans76: {\n    title: \"顕著性マップ\",\n    desc: \"\",\n  },\n  ans77: {\n    title: \"ガボールフィルタ\",\n    desc: \"\",\n  },\n  ans78: {\n    title: \"ガボールフィルタの回転\",\n    desc: \"\",\n  },\n  ans79: {\n    title: \"ガボールフィルタによるエッジ抽出\",\n    desc: \"\",\n  },\n  ans80: {\n    title: \"ガボールフィルタによる特徴抽出\",\n    desc: \"\",\n  },\n  ans81: {\n    title: \"Hessianのコーナー検出\",\n    desc: \"\",\n  },\n  ans82: {\n    title: \"Harrisのコーナー検出 (Step.1) Sobel + Gauusian\",\n    desc: \"\",\n  },\n  ans83: {\n    title: \"Harrisのコーナー検出 (Step.2) コーナー検出\",\n    desc: \"\",\n  },\n  ans84: {\n    title: \"簡単な画像認識 (Step.1) 減色化 + ヒストグラム\",\n    desc: \"\",\n  },\n  ans85: {\n    title: \"簡単な画像認識 (Step.2) クラス判別\",\n    desc: \"\",\n  },\n  ans86: {\n    title: \"簡単な画像認識 (Step.3) 評価(Accuracy)\",\n    desc: \"\",\n  },\n}","import ItemComponent from '@/components/questions/component.js'\nimport description from '@/components/questions/description.js'\n\nconst branch = \"/questions/\"\nlet exportRoutes = []\n\nfor (let key in ItemComponent) {\n  exportRoutes.push(\n    {\n      path: branch + key,\n      name: key,\n      title: description[key] ? description[key].title : '',\n      desc: description[key] ? description[key].desc : '',\n      component: ItemComponent[key]\n    }\n  )\n}\nexport default exportRoutes","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.questionLinks)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n<div v-html=\"questionLinks\"></div>\n</div>\n</template>\n<script>\nimport ItemComponent from \"@/router/questions.js\";\nexport default {\n  name: \"Question\",\n  beforeRouteUpdate(to, from, next) {\n    // URLが変わった時モデルを更新する\n    window.scrollTo(0, 0);\n    next();\n  },\n  data() {\n    return {\n      questionLinks:'',\n    };\n  },\n  methods: {\n    makeLinkList() {\n      const getLinkObj = (obj) => {\n        let seq = obj.name.split(\"ans\").join(\"\")\n        return {\n          seq,\n          title : obj.title,\n          link:\"#\" + obj.path\n        }\n      }\n      let item = ItemComponent\n      let result = ''\n      for (let i = 0; i < item.length; i+= 20) {\n        let tmp = ''\n        for (let j = i; j < i + 10; j++) {\n          let item1 = getLinkObj(item[j])\n          let item2 = getLinkObj(item[j + 10])\n          tmp += `<tr>\n            <td>Q.${item1.seq} <a href=\"${item1.link}\"> ${item1.title}</a></td>\n            <td>Q.${item2.seq} <a href=\"${item2.link}\"> ${item2.title}</a></td>\n          </tr>`\n        }\n        tmp = `<table class=\"question-table\">${tmp}</table>`\n        result += `<h3>Q.${i + 1} 〜 Q.${i + 20}</h3>`\n        result += tmp\n      }\n      this.questionLinks = result\n    }\n  },\n  created() {\n    this.makeLinkList();\n  }\n};\n</script>\n<style>\n.question-table {\n  width:100%;\n  font-size: 12px;\n}\ntr,td{\n  width:500px;\n  min-width:49%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuestionList.vue?vue&type=template&id=3acba9c3&\"\nimport script from \"./QuestionList.vue?vue&type=script&lang=js&\"\nexport * from \"./QuestionList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QuestionList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <h2>問題一覧</h2>\n    <QuestionList></QuestionList>\n  </div>\n</template>\n\n<script>\nimport ItemComponent from '@/router/questions.js'\nimport QuestionList from \"./QuestionList.vue\";\nexport default {\n  name: 'List',\n  components: {\n    QuestionList,\n  },\n  data () {\n    return {\n      questionLinks : ItemComponent\n    }\n  },\n}\n</script>\n\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=1ffb23fc&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=1ffb23fc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ffb23fc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('h2',[_vm._v(\"概要\")]),_c('a',{attrs:{\"href\":\"https://github.com/yoyoyo-yo/Gasyori100knock\"}},[_vm._v(\"画像処理100本ノック\")]),_vm._v(\"\\n  を\\n  JavaScriptで解いてみました。\\n  \"),_c('h2',[_vm._v(\"問題一覧\")]),_c('router-link',{staticClass:\"questions-link\",attrs:{\"to\":\"/list\"}},[_vm._v(\"\\n    問題一覧ページへ\\n  \")]),_c('h2',[_vm._v(\"GitHub\")]),_vm._m(0),_c('h2',[_vm._v(\"参考\")]),_vm._m(1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/s-yoshiki/Gasyori100knockJS\"}},[_vm._v(\"\\n        Gasyori100knockJS - 画像処理100本ノックJS\\n      \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('blockquote',[_vm._v(\"\\n    yoyoyo-yo. Gasyori100knock(画像処理100本ノック) \\n    \"),_c('br'),_c('a',{attrs:{\"href\":\"https://github.com/yoyoyo-yo/Gasyori100knock\"}},[_vm._v(\"https://github.com/yoyoyo-yo/Gasyori100knock\")]),_c('br'),_vm._v(\"\\n    2019\\n  \")])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <h2>概要</h2>\n    <a\n      href=\"https://github.com/yoyoyo-yo/Gasyori100knock\"\n    >画像処理100本ノック</a>\n    を\n    JavaScriptで解いてみました。\n    <h2>問題一覧</h2>\n    <router-link to=\"/list\" class=\"questions-link\">\n      問題一覧ページへ\n    </router-link>\n    <h2>GitHub</h2>\n    <ul>\n      <li>\n        <a href=\"https://github.com/s-yoshiki/Gasyori100knockJS\">\n          Gasyori100knockJS - 画像処理100本ノックJS\n        </a>\n      </li>\n    </ul>\n    <h2>参考</h2>\n    <blockquote>\n      yoyoyo-yo. Gasyori100knock(画像処理100本ノック) \n      <br>\n      <a href=\"https://github.com/yoyoyo-yo/Gasyori100knock\">https://github.com/yoyoyo-yo/Gasyori100knock</a>\n      <br>\n      2019\n    </blockquote>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"Root\"\n};\n</script>\n<style>\n.questions-link {\n  font: 1.5em sans-serif;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Root.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Root.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Root.vue?vue&type=template&id=6ed4994b&\"\nimport script from \"./Root.vue?vue&type=script&lang=js&\"\nexport * from \"./Root.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Root.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('br'),_c('h3',[_vm._v(_vm._s(\"Q\" + _vm.screenSeq + \".\" + _vm.title))]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.description)}}),_c('br'),_c('div',{ref:\"main\",staticClass:\"main\"},[_c('router-view')],1),_c('br'),_c('div',{staticClass:\"boxContainer\"},[_c('div',{staticClass:\"box\"},[_c('a',{attrs:{\"href\":_vm.pageNation.last},on:{\"click\":function($event){return _vm.movePage()}}},[_vm._v(_vm._s(_vm.pageNation.lastLabel)+\" \")])]),_c('div',{staticClass:\"box\"},[_c('a',{attrs:{\"href\":_vm.pageNation.next},on:{\"click\":function($event){return _vm.movePage()}}},[_vm._v(_vm._s(_vm.pageNation.nextLabel)+\" \")])])]),_c('br'),_c('hr'),_c('div',{staticClass:\"blog-area\"},[_c('p',[_c('button',{ref:\"blog-button\",on:{\"click\":function($event){_vm.blogFrame = !_vm.blogFrame}}},[_vm._v(\"\\n        埋め込みコード取得\\n        \"),(_vm.blogFrame)?_c('span',[_vm._v(\"▲\")]):_c('span',[_vm._v(\"▼\")])])]),(_vm.blogFrame)?_c('div',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.blogFrameUrl),expression:\"blogFrameUrl\"}],staticClass:\"inline-code\",domProps:{\"value\":(_vm.blogFrameUrl)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.blogFrameUrl=$event.target.value}}})]):_c('div')]),_c('QuestionList')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <br>\n    <h3>{{\"Q\" + screenSeq + \".\" + title}}</h3>\n    <div v-html=\"description\"></div>\n    <br>\n    <div ref=\"main\" class=\"main\">\n      <router-view/>\n    </div>\n    <br>\n    <div class=\"boxContainer\">\n      <div class=\"box\">\n        <a v-bind:href=\"pageNation.last\" v-on:click=\"movePage()\">{{pageNation.lastLabel}}&nbsp;</a>\n      </div>\n      <div class=\"box\">\n        <a v-bind:href=\"pageNation.next\" v-on:click=\"movePage()\">{{pageNation.nextLabel}}&nbsp;</a>\n      </div>\n    </div>\n    <br>\n    <hr>\n    <div class=\"blog-area\">\n      <p>\n        <button ref=\"blog-button\" v-on:click=\"blogFrame = !blogFrame\">\n          埋め込みコード取得\n          <span v-if=\"blogFrame\">▲</span>\n          <span v-else>▼</span>\n        </button>\n      </p>\n      <div v-if=\"blogFrame\">\n        <textarea class=\"inline-code\" v-model=\"blogFrameUrl\"></textarea>\n      </div>\n      <div v-else></div>\n    </div>\n    <QuestionList></QuestionList>\n  </div>\n</template>\n\n<script>\nimport description from \"./questions/description.js\";\nimport QuestionList from \"./QuestionList.vue\";\nexport default {\n  name: \"Question\",\n  components: {\n    QuestionList\n  },\n  beforeRouteUpdate(to, from, next) {\n    // URLが変わった時モデルを更新する\n    this.init();\n    window.scrollTo(0, 0);\n    next();\n  },\n  data() {\n    return {\n      title: \"\",\n      description: \"\",\n      screenId: \"\",\n      screenSeq: \"\",\n      pageNation: {\n        next: \"\",\n        nextLabel: \"\",\n        last: \"\",\n        lastLabel: \"\"\n      },\n      blogFrame: false,\n      blogFrameUrl: \"\"\n    };\n  },\n  methods: {\n    init: function(seq) {\n      if (!seq) {\n        let parser = new URL(location.href);\n        this.screenId = parser.hash.split(\"/\").pop();\n        this.screenSeq = Number(this.screenId.split(\"ans\").join(\"\"));\n      } else {\n        this.screenId = \"ans\" + seq;\n        this.screenSeq = seq;\n      }\n      if (!(1 <= this.screenSeq && this.screenSeq <= 100)) {\n        location.href = \"#/list\";\n      }\n      this.makeDescription();\n      this.makePage();\n    },\n    movePage: function() {\n      this.init();\n    },\n    makePage: function() {\n      if (this.screenSeq > 1) {\n        let seq = this.screenSeq - 1;\n        let title = \"\";\n        let key = \"ans\" + Number(seq);\n        if (description[key]) {\n          title = description[key].title;\n        }\n        this.pageNation.last = `#/questions/ans${seq}`;\n        this.pageNation.lastLabel = `Q.${seq} ` + title;\n      } else {\n        this.pageNation.lastLabel = \"\";\n      }\n      if (this.screenSeq < 100) {\n        let seq = this.screenSeq + 1;\n        let title = \"\";\n        let key = \"ans\" + Number(seq);\n        if (description[key]) {\n          title = description[key].title;\n        }\n        this.pageNation.next = `#/questions/ans${seq}`;\n        this.pageNation.nextLabel = `Q.${seq} ` + title;\n      } else {\n        this.pageNation.nextLabel = \"\";\n      }\n      this.blogFrameUrl = `<iframe src=\"${\n        location.href\n      }/iframe\" style=\"width:100%;height:300px;\"></iframe>`;\n    },\n    makeDescription() {\n      if (!description[this.screenId]) {\n        this.title = \"\";\n        this.description = \"\";\n        return;\n      }\n      this.title = description[this.screenId].title;\n      this.description = description[this.screenId].desc;\n    }\n  },\n  created() {\n    this.init();\n  }\n};\n</script>\n\n<style>\n.box {\n  float: left;\n  width: 50%;\n}\n\n.boxContainer {\n  width: 100%;\n  overflow: hidden;\n  text-align: center;\n}\n\n.msg {\n  text-align: left;\n}\n\n.blog-area {\n  text-align: right;\n}\n\n.inline-code {\n  width: 100%;\n}\n\ncanvas {\n  min-width: 80px;\n  margin:10px;\n  max-height:400px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Question.vue?vue&type=template&id=4eaf43f9&\"\nimport script from \"./Question.vue?vue&type=script&lang=js&\"\nexport * from \"./Question.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Question.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_vm._v(_vm._s(\"Q\" + _vm.screenSeq + \".\" + _vm.title))]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.description)}}),_c('br'),_c('div',{ref:\"main\",staticClass:\"main\"},[_c('router-view')],1),_c('div',[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"画像処理100本ノック\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h3>{{\"Q\" + screenSeq + \".\" + title}}</h3>\n    <div v-html=\"description\"></div>\n    <br>\n    <div ref=\"main\" class=\"main\">\n      <router-view/>\n    </div>\n    <div>\n      <router-link to=\"/\">画像処理100本ノック</router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport description from \"./questions/description.js\";\nexport default {\n  name: \"Question\",\n  data() {\n    return {\n      title: \"\",\n      description: \"\",\n      screenId: \"\",\n      screenSeq: \"\",\n    };\n  },\n  methods: {\n    init: function(seq) {\n      if (!seq) {\n        let parser = new URL(location.href);\n        let tmp = parser.hash.split(\"/\")\n        tmp.pop()\n        this.screenId = tmp.pop();\n        this.screenSeq = Number(this.screenId.split(\"ans\").join(\"\"));\n      } else {\n        this.screenId = \"ans\" + seq;\n        this.screenSeq = seq;\n      }\n      if (!(1 <= this.screenSeq && this.screenSeq <= 100)) {\n        location.href = \"#/list\";\n      }\n      this.makeDescription();\n    },\n    makeDescription() {\n      if (!description[this.screenId]) {\n        this.title = \"\";\n        this.description = \"\";\n        return;\n      }\n      this.title = description[this.screenId].title;\n      this.description = description[this.screenId].desc;\n    }\n  },\n  created() {\n    this.init();\n  }\n}\n</script>\n\n<style>\nh1 {\n  color:#ff0000;\n  font-size:0px;\n}\n.box {\n  float: left;\n  width: 50%;\n}\n\n.boxContainer {\n  width: 100%;\n  overflow: hidden;\n  text-align: center;\n}\n\n.msg {\n  text-align: left;\n}\n\ncanvas {\n  min-width :80px;\n  margin:10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionIframe.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionIframe.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuestionIframe.vue?vue&type=template&id=54d78e28&\"\nimport script from \"./QuestionIframe.vue?vue&type=script&lang=js&\"\nexport * from \"./QuestionIframe.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QuestionIframe.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import ItemComponent from '@/components/questions/component.js'\nimport description from '@/components/questions/description.js'\n\nconst branch = \"/questions/\"\nlet exportRoutes = []\n\nfor (let key in ItemComponent) {\n  exportRoutes.push(\n    {\n      path: branch + key + \"/iframe\",\n      name: key + \"_iframe\",\n      title: description[key] ? description[key].title : '',\n      desc: description[key] ? description[key].desc : '',\n      component: ItemComponent[key]\n    }\n  )\n}\nexport default exportRoutes","import Vue from 'vue'\nimport Router from 'vue-router'\nimport List from '@/components/List'\nimport Root from '@/components/Root'\nimport Question from '@/components/Question'\nimport QuestionIframe from '@/components/QuestionIframe'\nimport Questions from './questions'\nimport QuestionsIframe from './questionsIframe'\n\nlet routes = [\n  {\n    path: '/',\n    name: 'root',\n    component: Root\n  },\n  {\n    path: '/list',\n    name: 'List',\n    component: List\n  },\n  {\n    path: '/questions/:id',\n    name: 'Question',\n    component: Question,\n    children: []\n  },\n  {\n    path: '/questions/:id/:iframe',\n    name: 'Questioniframe',\n    component: QuestionIframe,\n    children: []\n  },\n]\n\nQuestions.forEach(e => {\n  routes[2].children.push(e)\n  \n})\n\nQuestionsIframe.forEach(e => {\n  routes[3].children.push(e)\n})\n\nVue.use(Router)\n\nexport default new Router({\n  routes: routes\n})\n","/* eslint-disable no-new */\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router/index.js'\nimport VueAnalytics from 'vue-analytics'\n\nVue.config.productionTip = false\n\n// google analyticsのSPA対応\nVue.use(VueAnalytics, {\n  id: 'UA-103231688-4',\n  router\n})\n\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Root.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Root.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=1ffb23fc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=1ffb23fc&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionList.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionList.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}