{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4241","webpack:///./src/components/List.vue?7599","webpack:///./src/components/Question.vue?19f2","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?3994","webpack:///./src/App.vue?bff9","webpack:///./src/components/List.vue?e3ed","webpack:///./src/components/questions/configure.js","webpack:///./src/components/questions/templates.js","webpack:///./src/lib/CanvasTools.js","webpack:///./src/components/questions/answers/BaseComponents.js","webpack:///./src/components/questions/answers/Ans1.js","webpack:///./src/components/questions/answers/Ans2.js","webpack:///./src/components/questions/answers/Ans3.js","webpack:///./src/components/questions/answers/Ans4.js","webpack:///./src/components/questions/answers/Ans5.js","webpack:///./src/components/questions/answers/Ans6.js","webpack:///./src/components/questions/answers/Ans7.js","webpack:///./src/components/questions/answers/Ans8.js","webpack:///./src/components/questions/answers/Ans9.js","webpack:///./src/components/questions/answers/Ans10.js","webpack:///./src/components/questions/answers/Ans11.js","webpack:///./src/components/questions/answers/Ans12.js","webpack:///./src/components/questions/answers/Ans13.js","webpack:///./src/components/questions/answers/Ans14.js","webpack:///./src/components/questions/answers/Ans15.js","webpack:///./src/components/questions/answers/Ans16.js","webpack:///./src/components/questions/answers/Ans17.js","webpack:///./src/components/questions/answers/Ans18.js","webpack:///./src/components/questions/answers/Ans20.js","webpack:///./src/components/questions/answers/Ans21.js","webpack:///./src/components/questions/answers/Ans22.js","webpack:///./src/components/questions/answers/Ans23.js","webpack:///./src/components/questions/answers/Ans24.js","webpack:///./src/components/questions/answers/Ans25.js","webpack:///./src/components/questions/answers/Ans26.js","webpack:///./src/components/questions/answers/Ans27.js","webpack:///./src/components/questions/answers/Ans28.js","webpack:///./src/components/questions/answers/Ans29.js","webpack:///./src/components/questions/answers/Ans30.js","webpack:///./src/components/questions/answers/Ans31.js","webpack:///./src/components/questions/answers/Ans32.js","webpack:///./src/components/questions/answers/Ans33.js","webpack:///./src/components/questions/answers/Ans34.js","webpack:///./src/components/questions/answers/Ans35.js","webpack:///./src/components/questions/answers/Ans36.js","webpack:///./src/components/questions/answers/Ans37.js","webpack:///./src/components/questions/answers/Ans38.js","webpack:///./src/components/questions/answers/Ans39.js","webpack:///./src/components/questions/answers/Ans40.js","webpack:///./src/components/questions/answers/Ans41.js","webpack:///./src/components/questions/answers/Ans42.js","webpack:///./src/components/questions/answers/Ans43.js","webpack:///./src/components/questions/answers/Ans44.js","webpack:///./src/components/questions/answers/Ans47.js","webpack:///./src/components/questions/answers/Ans48.js","webpack:///./src/components/questions/answers/Ans49.js","webpack:///./src/components/questions/answers/Ans50.js","webpack:///./src/components/questions/answers/Ans51.js","webpack:///./src/components/questions/answers/Ans52.js","webpack:///./src/components/questions/answers/Ans53.js","webpack:///./src/components/questions/answers/Ans60.js","webpack:///./src/components/questions/answers/Ans71.js","webpack:///./src/components/questions/answers/Ans73.js","webpack:///./src/components/questions/component.js","webpack:///./src/components/questions/description.js","webpack:///./src/router/questions.js","webpack:///src/components/List.vue","webpack:///./src/components/List.vue?1f13","webpack:///./src/components/List.vue?1f88","webpack:///./src/components/Root.vue?862f","webpack:///src/components/Root.vue","webpack:///./src/components/Root.vue?ed7d","webpack:///./src/components/Root.vue","webpack:///./src/components/Question.vue?d8c3","webpack:///src/components/Question.vue","webpack:///./src/components/Question.vue?caa4","webpack:///./src/components/Question.vue?044b","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_List_vue_vue_type_style_index_0_id_3cf06ee1_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_List_vue_vue_type_style_index_0_id_3cf06ee1_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Question_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Question_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","map","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-SG","./en-SG.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it-ch","./it-ch.js","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","render","_vm","this","_h","$createElement","_c","_self","attrs","_m","to","_v","staticRenderFns","staticClass","href","script","component","componentNormalizer","App","Listvue_type_template_id_3cf06ee1_scoped_true_render","_l","item","path","_s","split","join","title","Number","_e","Listvue_type_template_id_3cf06ee1_scoped_true_staticRenderFns","branch","srcImage","default","noise","dark","gamma","thorino","lenna","configure","srcImageOption","label","src","BlankTemplate","DefaultTemplate","ThreeCanvasTemplate","FourCanvasTemplate","canvas","image","addEventListener","width","height","getContext","drawImage","labels","Array","fill","Chart","type","datasets","backgroundColor","options","display","text","scales","yAxes","ticks","suggestedMin","BasePagesComponent","classCallCheck","self","dom","template","msg","$refs","innerHTML","BaseTwoCanvasComponent","_BasePagesComponent","_this","possibleConstructorReturn","getPrototypeOf","assertThisInitialized","setSrcImage","config","inherits","createClass","_this2","canvas1","canvas2","button","Image","imageUrl","CanvasUtility","main","url","set","BaseThreeCanvasComponent","_BasePagesComponent2","_this3","_this4","canvas3","BaseFourCanvasComponent","_BasePagesComponent3","_this5","_this6","canvas4","HistogramComponent","_BaseTwoCanvasCompone","_this7","_this8","canvasSrc","graph","renderChart","renderHistogram","ThreeCanvasHistogramComponent","_HistogramComponent","_this9","_this10","Ans1","ctx","getImageData","dst","createImageData","putImageData","Ans2","y","parse_int_default","Ans3","THRESHOLD","Ans4","grayscale","g","b","threshold","v","histgram","max","w1","w2","sum1","sum2","m1","m2","tmp","Ans5","rgb","Math","min","diff","h","hsv","hp","x","abs","_ref","floor","rgb2hsv","hsv2rgb","Ans6","thresholds","neer","max_safe_integer_default","a","_j","Ans7","w","dx","dy","blurColor","ceil","Ans8","Ans9","getIndex","channel","gaussian","sigma","exp","pow","kernelSize","kernel","from_default","_x","_y","sqrt","PI","k","_i","Ans10","sort","Ans11","sum","reduce","prev","current","Ans12","Ans13","Ans14","verticalKernel","sideKernel","diffFilter","toInt8","Ans15","sovelFilter","Ans16","prewittFilter","Ans17","laplacianFilter","Ans18","logFilter","Ans20","pixelValues","Ans21","dMax","dMin","vMin","vMax","trans","Ans22","m0","s0","std","array","average","previous","difference","grayScaleArr","Ans23","zMax","S","hSum","Ans24","Ans25","getDstIndex","getSrcIndex","scale","Ans26","getWeight","t1","t2","range","_loop","rangeX","rangeY","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","ry","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","rx","weight","err","return","Ans27","Ans28","tx","ty","H","Ans29","scaleX","scaleY","H1","H2","_H","math","inv","Ans30","calcHomography","deg","rad","cos","sin","_calcHomography$map","_calcHomography$map2","slicedToArray","cx","cy","Ans31","H3","Hx","Ans32","ctx1","ctx2","ctx3","src1","dst1","dst2","dst3","color","_this$dft2d","dft2d","_this$dft2d2","Re","Im","idft2d","imgWidth","imgHeight","W","wx0","wy0","u","uvIdx","xyIdx","Ans33","lpf","arr","idx","Ans34","hpf","Ans35","bpf","rMin","rMax","condition1","condition2","Ans36","T","K","freq","dct2d","idct2d","theta","yi","xi","cu","cv","Ans37","psnr","showMessage","stringify_default","bitrate","mse","ans","log10","Ans38","Q","getQuantum","yj","xj","dotDivide","row","round","dotMultiply","Ans39","rgb2ycc","ycc2rgb","cr","cb","_rgb2ycc","_rgb2ycc2","Ans40","srcY","srcCr","srcCb","dctY","getQuantum1","dstY","dctCr","getQuantum2","dstCr","dctCb","dstCb","forEach","Ans41","gaussianKernel","getGaussianKernel","KSV","KSH","gray","fx","fy","edge","angle","adaptKernel","atan","srcIdx","dstIdx","Ans42","nonMaximumSuppression","getIdx","dx1","dy1","dx2","dy2","Ans43","HT","LT","out","histeresisThreshold","_idx","Ans44","_this$hough","hough","_this$hough2","dstWidth","dstHeight","dtheta","radMax","rhoMax","rho","Ans47","bin","mor1","mor2","callback","Ans48","Ans49","mor","Ans50","cannyEdge","arguments","Ans51","erode","dilate","Ans52","morphologyTime","Ans53","Ans60","imori","image1","image2","src2","Ans71","Ans73","bilinear","srcWidth","srcHeight","componentMap","ans1","ans2","ans3","ans4","ans5","ans6","ans7","ans8","ans9","ans10","ans11","ans12","ans13","ans14","ans15","ans16","ans17","ans18","ans20","ans21","ans22","ans23","ans24","ans25","ans26","ans27","ans28","ans29","ans30","ans31","ans32","ans33","ans34","ans35","ans36","ans37","ans38","ans39","ans40","ans41","ans42","ans43","ans44","ans47","ans48","ans49","ans50","ans51","ans52","ans53","ans60","ans71","ans73","makeComponent","obj","Vue","srcImages","selected","methods","setImage","_initObject","mounted","init","concat","getTemplate","questions_component","exportComponents","description","desc","ans19","ans45","ans46","exportRoutes","ItemComponent","Listvue_type_script_lang_js_","questionLinks","questions","components_Listvue_type_script_lang_js_","List_component","List","Rootvue_type_template_id_d8e2a5d4_render","Rootvue_type_template_id_d8e2a5d4_staticRenderFns","Rootvue_type_script_lang_js_","components_Rootvue_type_script_lang_js_","Root_component","Root","Questionvue_type_template_id_a434e51c_render","screenSeq","domProps","ref","pageNation","last","on","click","$event","movePage","lastLabel","nextLabel","screenId","Questionvue_type_template_id_a434e51c_staticRenderFns","Questionvue_type_script_lang_js_","seq","parser","URL","location","hash","pop","makeDescription","makePage","_title","_key","created","components_Questionvue_type_script_lang_js_","Question_component","Question","routes","children","redirect","Questions","use","Router","router","productionTip","VueAnalytics","el","components"],"mappings":"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,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,gBAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,YAAA,OACAC,eAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OACAC,WAAA,OACAC,QAAA,OACAC,aAAA,OACAC,gBAAA,OACAC,WAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA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","file":"js/app.b815f1a4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=3cf06ee1&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=3cf06ee1&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=style&index=0&lang=css&\"","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-SG\": \"cdab\",\n\t\"./en-SG.js\": \"cdab\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_vm._m(0),_c('router-view'),_c('footer',[_c('br'),_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"ホーム\")])],1),_c('li',[_c('router-link',{attrs:{\"to\":\"/list\"}},[_vm._v(\"問題一覧\")])],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',[_c('div',{staticClass:\"header-container\"},[_c('h1',[_c('a',{staticClass:\"title\",attrs:{\"href\":\"#/\"}},[_vm._v(\"画像処理100本ノックJS\")])])])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=074b5228&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"問題一覧\")]),_vm._l((_vm.questionLinks),function(item){return _c('ul',{key:item.name},[_c('li',[_c('router-link',{attrs:{\"to\":{path:item.path}}},[_vm._v(\"\\n        Q.\"+_vm._s(item.name.split(\"ans\").join(\"\"))+\" \"+_vm._s(item.title)+\"\\n        \"),(Number(item.name.split('ans').join('')) % 10 === 0)?_c('div',[_c('hr')]):_vm._e()])],1)])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const branch = \"./images/\";\n\nconst srcImage = {\n    default: branch + \"imori.jpg\",\n    noise: branch + \"imori_noise.jpg\",\n    dark: branch + \"imori_dark.jpg\",\n    gamma: branch + \"imori_gamma.jpg\",\n    thorino: branch + \"thorino.jpg\",\n    lenna: branch + \"lenna.png\",\n}\n\nexport default {\n    srcImage,\n    srcImageOption: {\n        default: {\n            label: 'imori',\n            src: srcImage.default\n        },\n        noise: {\n            label: 'imori noise',\n            src: srcImage.noise\n        },\n        dark: {\n            label: 'imori dark',\n            src: srcImage.dark\n        },\n        gamma: {\n            label: 'gamma',\n            src: srcImage.gamma\n        },\n        thorino: {\n            label: 'thorino',\n            src: srcImage.thorino\n        },\n        lenna: {\n            label: 'lenna',\n            src: srcImage.lenna\n        },\n    }\n}","/**\n * Templateが見つからなかった時に表示\n */\nexport const BlankTemplate = `<h3>Comming soon.</h3>`\n/**\n * 通常 && 2つのcanvasテンプレート\n */\nexport const DefaultTemplate = `\n<div>\n<canvas ref=\"canvas1\"></canvas>\n&nbsp;\n<canvas ref=\"canvas2\"></canvas>\n<br>\n<button ref=\"button-run\" class=\"bt\">run</button>\n<br>\n<div ref=\"msg\" class=\"msg\"></div>\n</div>\n`\n/**\n * canvasが3つ\n */\nexport const ThreeCanvasTemplate = `\n<div>\n<canvas ref=\"canvas1\"></canvas>\n&nbsp;\n<canvas ref=\"canvas2\"></canvas>\n&nbsp;\n<canvas ref=\"canvas3\"></canvas>\n<br>\n<button ref=\"button-run\" class=\"bt\">run</button>\n<br>\n<div ref=\"msg\" class=\"msg\"></div>\n</div>\n`\n/**\n * canvasが4つ\n */\nexport const FourCanvasTemplate = `\n<div>\n<canvas ref=\"canvas1\"></canvas>\n&nbsp;\n<canvas ref=\"canvas2\"></canvas>\n<br>\n<canvas ref=\"canvas3\"></canvas>\n&nbsp;\n<canvas ref=\"canvas4\"></canvas>\n<br>\n<button ref=\"button-run\" class=\"bt\">run</button>\n<br>\n<div ref=\"msg\" class=\"msg\"></div>\n</div>\n`\n/**\n * ヒストグラム用\n */\nexport const HistogramTemplate = `\n<div>\n<canvas ref=\"canvas\"></canvas>\n<br>\n<canvas ref=\"graph\"></canvas>\n<br>\n<button ref=\"button-run\" class=\"bt\">run</button>\n<br>\n<div ref=\"msg\" class=\"msg\"></div>\n</div>\n`\n\nexport default DefaultTemplate","import Chart from \"chart.js\"\n\nexport default class {\n  /**\n   * canvasに画像を描画する\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  static drawImage(canvas, image) {\n    image.addEventListener(\"load\", () => {\n      canvas.width = image.width\n      canvas.height = image.height\n      canvas.getContext(\"2d\").drawImage(image, 0, 0, image.width, image.height)\n    });\n  }\n\n  /**\n   * ヒストグラムを描画する\n   * @param {Object} canvas \n   * @param {Object} data \n   */\n  static renderHistogram(canvas, data) {\n    let labels = new Array(255).fill('')\n    new Chart(canvas, {\n      type: 'bar',\n      data:{\n        labels,\n        datasets: [\n          {\n            label: '画素値',\n            // data: [1, 2, 3, 4, 50, 6],\n            data,\n            backgroundColor: \"rgba(80,80,80,0.5)\"\n          }\n        ],\n      },\n      options: {\n        title: {\n          display: true,\n          text: 'Histogram'\n        },\n        scales: {\n          yAxes: [{\n            ticks: {\n              // suggestedMax: 100,\n              suggestedMin: 0,\n              // stepSize: 10,\n            }\n          }]\n        },\n      }\n    })\n    //\n  }\n}","import config from '../configure.js'\nimport { \n  ThreeCanvasTemplate, DefaultTemplate, FourCanvasTemplate\n} from \"../templates.js\"\nimport CanvasUtility from '@/lib/CanvasTools'\n\n\n/**\n * ページ処理基底\n */\nexport default class BasePagesComponent {\n  /**\n   * コンストラクタ\n   */\n  constructor() {\n    return;\n  }\n  /**\n   * Vueでマウントされたdomを受け取る\n   * mainの初期処理\n   * \n   * @param {Document} self \n   */\n  _initObject() { }\n  /**\n   * 子クラスでのオブジェクト操作\n   * \n   * @param {Document} self \n   */\n  init(self) {\n    this.dom = self\n  }\n  /**\n   * init内で呼ぶ\n   */\n  main() { }\n  /**\n   * テンプレートをセット\n   * @param {String} template \n   */\n  setTemplate(template) {\n    this.template = template\n  }\n  /**\n   * テンプレートをゲット\n   * @return {String} template\n   */\n  getTemplate() {\n    return this.template\n  }\n  /**\n   * メッセージ出力\n   * @param {string} msg \n   */\n  showMessage(msg) {\n    let dom = this.dom.$refs[\"msg\"]\n    dom.innerHTML = \"<pre>\" + msg + \"</pre>\"\n  }\n}\n\n/**\n * 2canvas用オブジェクト\n */\nexport class BaseTwoCanvasComponent extends BasePagesComponent {\n\n  constructor() {\n    super()\n    super.setTemplate(DefaultTemplate)\n    this.setSrcImage(config.srcImage.default)\n  }\n\n  /**\n   * DOMの初期処理\n   * @access private\n   * @param {Document} self \n   */\n  _initObject(self) {\n    let canvas1 = self.$refs[\"canvas1\"]\n    let canvas2 = self.$refs[\"canvas2\"]\n    let button = self.$refs[\"button-run\"]\n\n    let image = new Image()\n    image.src = this.imageUrl\n\n    image.addEventListener(\"load\", () => {\n      canvas2.width = image.width\n      canvas2.height = image.height\n    })\n\n    CanvasUtility.drawImage(canvas1, image)\n\n    button.addEventListener(\"click\", () => {\n      this.main(canvas2, image)\n    })\n  }\n\n  /**\n   * 画像を処理してcanvasに描画\n   * \n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main() { }\n\n  /**\n   * src画像のセット\n   * \n   * @param {String} url \n   */\n  setSrcImage(url) {\n    super.imageUrl = url\n  }\n}\n\n/**\n * 3canvas用オブジェクト\n */\nexport class BaseThreeCanvasComponent extends BasePagesComponent {\n\n  constructor() {\n    super()\n    super.setTemplate(ThreeCanvasTemplate)\n    this.setSrcImage(config.srcImage.default)\n  }\n  /**\n   * DOMの初期処理\n   * \n   * @access private\n   * @param {Document} self \n   */\n  _initObject(self) {\n    let canvas1 = self.$refs[\"canvas1\"]\n    let canvas2 = self.$refs[\"canvas2\"]\n    let canvas3 = self.$refs[\"canvas3\"]\n    let button = self.$refs[\"button-run\"]\n\n    let image = new Image()\n    image.src = this.imageUrl\n\n    image.addEventListener(\"load\", () => {\n      canvas3.width = canvas2.width = image.width\n      canvas3.height = canvas2.height = image.height\n    })\n\n    CanvasUtility.drawImage(canvas1, image)\n\n    button.addEventListener(\"click\", () => {\n      this.main(canvas2, canvas3, image)\n    })\n  }\n\n  /**\n   * 画像を処理してcanvasに描画\n   */\n  main() { }\n\n  /**\n   * src画像のセット\n   * \n   * @param {String} url \n   */\n  setSrcImage(url) {\n    super.imageUrl = url\n  }\n}\n/**\n * 4canvas用オブジェクト\n */\nexport class BaseFourCanvasComponent extends BasePagesComponent {\n\n  constructor() {\n    super()\n    super.setTemplate(FourCanvasTemplate)\n    this.setSrcImage(config.srcImage.default)\n  }\n  /**\n   * DOMの初期処理\n   * \n   * @access private\n   * @param {Document} self \n   */\n  _initObject(self) {\n    let canvas1 = self.$refs[\"canvas1\"]\n    let canvas2 = self.$refs[\"canvas2\"]\n    let canvas3 = self.$refs[\"canvas3\"]\n    let canvas4 = self.$refs[\"canvas4\"]\n    let button = self.$refs[\"button-run\"]\n\n    let image = new Image()\n    image.src = this.imageUrl\n\n    image.addEventListener(\"load\", () => {\n      canvas4.width = canvas3.width = canvas2.width = image.width\n      canvas4.height = canvas3.height = canvas2.height = image.height\n    })\n\n    CanvasUtility.drawImage(canvas1, image)\n\n    button.addEventListener(\"click\", () => {\n      this.main(canvas2, canvas3, canvas4, image)\n    })\n  }\n\n  /**\n   * 画像を処理してcanvasに描画\n   */\n  main() { }\n\n  /**\n   * src画像のセット\n   * \n   * @param {String} url \n   */\n  setSrcImage(url) {\n    super.imageUrl = url\n  }\n}\n\n/**\n * ヒストグラム表示オブジェクト\n */\nexport class HistogramComponent extends BaseTwoCanvasComponent {\n  /**\n   * コンストラクタ\n   */\n  constructor() {\n    super()\n    this.setSrcImage(config.srcImage.dark)\n  }\n  /**\n   * DOMの初期処理\n   * \n   * @access private\n   * @param {Document} self \n   */\n  _initObject(self) {\n    let canvasSrc = self.$refs[\"canvas1\"]\n    this.graph = self.$refs[\"canvas2\"]\n    let button = self.$refs[\"button-run\"]\n\n    // ダミーデータを表示\n    this.renderChart(new Array(255).fill(0))\n\n    let image = new Image()\n    image.src = this.imageUrl\n\n    image.addEventListener(\"load\", () => {\n      canvasSrc.width = image.width\n      canvasSrc.height = image.height\n    })\n\n    CanvasUtility.drawImage(canvasSrc, image)\n\n    button.addEventListener(\"click\", () => {\n      this.main(canvasSrc, image)\n    })\n  }\n\n  /**\n   * ヒストグラム表示\n   * \n   * @param {Array} data\n   */\n  renderChart(data) {\n    CanvasUtility.renderHistogram(this.graph, data)\n  }\n}\n\n/**\n * \n */\nexport class ThreeCanvasHistogramComponent extends HistogramComponent {\n  /**\n   * コンストラクタ\n   */\n  constructor() {\n    super()\n    super.setTemplate(ThreeCanvasTemplate)\n  }\n  /**\n   * DOMの初期処理\n   * \n   * @access private\n   * @param {Document} self \n   */\n  _initObject(self) {\n    let canvas1 = self.$refs[\"canvas1\"]\n    let canvas2 = self.$refs[\"canvas2\"]\n    this.graph = self.$refs[\"canvas3\"]\n    let button = self.$refs[\"button-run\"]\n\n    // ダミーデータを表示\n    this.renderChart(new Array(255).fill(0))\n\n    let image = new Image()\n    image.src = this.imageUrl\n\n    image.addEventListener(\"load\", () => {\n      canvas1.width = canvas2.width = image.width\n      canvas1.height = canvas2.height = image.height\n    })\n\n    CanvasUtility.drawImage(canvas1, image)\n\n    button.addEventListener(\"click\", () => {\n      this.main(canvas2, image)\n    })\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.1\n * チャンネル入れ替え\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans1 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      dst.data[i] = src.data[i + 2]\n      dst.data[i + 1] = src.data[i + 1]\n      dst.data[i + 2] = src.data[i]\n      dst.data[i + 3] = src.data[i + 3]\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}\n\n\n\n\n\n\n\n\n\n","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.2\n * グレースケール\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans2 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      let y = 0.2126 * src.data[i] + 0.7152 * src.data[i + 1] + 0.0722 * src.data[i + 2]\n      y = parseInt(y, 10)\n      dst.data[i] = y\n      dst.data[i + 1] = y\n      dst.data[i + 2] = y\n      dst.data[i + 3] = src.data[i + 3]\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.3\n * 二値化\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans3 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    const THRESHOLD = 128\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      let y = 0.2126 * src.data[i] + 0.7152 * src.data[i + 1] + 0.0722 * src.data[i + 2]\n      y = parseInt(y, 10)\n      if (y > THRESHOLD) {\n        y = 255\n      } else {\n        y = 0\n      }\n      dst.data[i] = y\n      dst.data[i + 1] = y\n      dst.data[i + 2] = y\n      dst.data[i + 3] = src.data[i + 3]\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}\n\n\n","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.4\n * 大津の2化\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans4 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    let t = this.threshold(src)\n\n    for (let i = 0; i < dst.data.length; i += 4) {\n      let v = grayscale(src.data[i], src.data[i + 1], src.data[i + 2])\n      if (v < t) {\n        dst.data[i] = dst.data[i + 1] = dst.data[i + 2] = 0\n      } else {\n        dst.data[i] = dst.data[i + 1] = dst.data[i + 2] = 255\n      }\n      dst.data[i + 3] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n  /**\n   * 大津の2値化\n   * @param {ImageData} src\n   */\n  threshold(src) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let histgram = Array(256).fill(0)\n    let t = 0\n    let max = 0\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      let g = ~~grayscale(src.data[i], src.data[i + 1], src.data[i + 2])\n      histgram[g]++\n    }\n\n    for (let i = 0; i < 256; i++) {\n      let w1 = 0\n      let w2 = 0\n      let sum1 = 0\n      let sum2 = 0\n      let m1 = 0\n      let m2 = 0\n      for (let j = 0; j <= i; ++j) {\n        w1 += histgram[j]\n        sum1 += j * histgram[j]\n      }\n      for (let j = i + 1; j < 256; ++j) {\n        w2 += histgram[j]\n        sum2 += j * histgram[j]\n      }\n      if (w1) {\n        m1 = sum1 / w1\n      }\n      if (w2) {\n        m2 = sum2 / w2\n      }\n      let tmp = (w1 * w2 * (m1 - m2) * (m1 - m2))\n      if (tmp > max) {\n        max = tmp\n        t = i\n      }\n    }\n    return t\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.5\n * HSV変換\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans5 extends BaseTwoCanvasComponent {\n  /**\n   * rgb to hsv\n   * @param {Array} rgb \n   */\n  rgb2hsv(rgb) {\n    let r = rgb[0] / 255;\n    let g = rgb[1] / 255;\n    let b = rgb[2] / 255;\n\n    let max = Math.max(r, g, b);\n    let min = Math.min(r, g, b);\n    let diff = max - min;\n\n    let h = 0;\n\n    switch (min) {\n      case max: h = 0; break;\n      case r: h = (60 * ((b - g) / diff)) + 180; break;\n      case g: h = (60 * ((r - b) / diff)) + 300; break;\n      case b: h = (60 * ((g - r) / diff)) + 60; break;\n    }\n\n    let s = max == 0 ? 0 : diff / max;\n    let v = max;\n\n    return [h, s, v];\n  }\n  /**\n   * hsv to rgb\n   * @param {Array} hsv \n   */\n  hsv2rgb(hsv) {\n    let h = hsv[0]\n    let s = hsv[1]\n    let v = hsv[2]\n    let c = v * s;\n    let hp = h / 60;\n    let x = c * (1 - Math.abs(hp % 2 - 1));\n\n    let r, g, b;\n    if (0 <= hp && hp < 1) { [r, g, b] = [c, x, 0] }\n    if (1 <= hp && hp < 2) { [r, g, b] = [x, c, 0] }\n    if (2 <= hp && hp < 3) { [r, g, b] = [0, c, x] }\n    if (3 <= hp && hp < 4) { [r, g, b] = [0, x, c] }\n    if (4 <= hp && hp < 5) { [r, g, b] = [x, 0, c] }\n    if (5 <= hp && hp < 6) { [r, g, b] = [c, 0, x] }\n\n    let m = v - c;\n    [r, g, b] = [r + m, g + m, b + m];\n\n    r = Math.floor(r * 255);\n    g = Math.floor(g * 255);\n    b = Math.floor(b * 255);\n\n    return [r, g, b];\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      let r = src.data[i]\n      let g = src.data[i + 1]\n      let b = src.data[i + 2]\n\n      let hsv = this.rgb2hsv([r, g, b])\n      hsv[0] = (hsv[0] + 180) % 360\n      let rgb = this.hsv2rgb(hsv)\n\n      dst.data[i] = rgb[0]\n      dst.data[i + 1] = rgb[1]\n      dst.data[i + 2] = rgb[2]\n      dst.data[i + 3] = src.data[i + 3]\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.6\n * 減色処理\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans6 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    let thresholds = [32, 96, 160, 224]\n\n    for (let i = 0; i < src.data.length; i++) {\n      if (i % 4 === 3) {\n        dst.data[i] = src.data[i]\n        continue\n      }\n\n      let neer = Number.MAX_SAFE_INTEGER\n      let _j = 0\n\n      for (let j in thresholds) {\n        let d = Math.abs(src.data[i] - thresholds[j])\n        if (d < neer) {\n          neer = d\n          _j = j\n        }\n      }\n\n      dst.data[i] = thresholds[_j]\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.7\n * 平均プーリング\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans7 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let w = image.width\n    let h = image.height\n    let dx = w / 16\n    let dy = h / 16\n\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    const blurColor = (x, y, w, h) => {\n      let ctx = canvas.getContext('2d')\n      let r, g, b\n      r = g = b = 0\n\n      let src = ctx.getImageData(x, y, w, h);\n      let dst = ctx.createImageData(w, h)\n\n      for (let i = 0; i < src.data.length; i += 4) {\n        r += src.data[i]\n        g += src.data[i + 1]\n        b += src.data[i + 2]\n      }\n\n      r /= src.data.length / 4\n      g /= src.data.length / 4\n      b /= src.data.length / 4\n\n      r = Math.ceil(r)\n      g = Math.ceil(g)\n      b = Math.ceil(b)\n\n      for (let i = 0; i < src.data.length; i += 4) {\n        dst.data[i] = r\n        dst.data[i + 1] = g\n        dst.data[i + 2] = b\n        dst.data[i + 3] = 255\n      }\n\n      ctx.putImageData(dst, x, y)\n    }\n\n    for (let i = 0; i < canvas.width; i += dx) {\n      for (let j = 0; j < canvas.height; j += dy) {\n        blurColor(i, j, dx, dy)\n      }\n    }\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.8\n * Maxプーリング\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans8 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let w = image.width\n    let h = image.height\n    let dx = w / 16\n    let dy = h / 16\n\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    const blurColor = (x, y, w, h) => {\n      let ctx = canvas.getContext('2d')\n      let r, g, b\n      r = g = b = 0\n\n      let src = ctx.getImageData(x, y, w, h);\n      let dst = ctx.createImageData(w, h)\n\n      for (let i = 0; i < src.data.length; i += 4) {\n        r = src.data[i] > r ? src.data[i] : r\n        g = src.data[i + 1] > g ? src.data[i + 1] : g\n        b = src.data[i + 2] > b ? src.data[i + 2] : b\n      }\n\n      for (let i = 0; i < src.data.length; i += 4) {\n        dst.data[i] = r\n        dst.data[i + 1] = g\n        dst.data[i + 2] = b\n        dst.data[i + 3] = 255\n      }\n\n      ctx.putImageData(dst, x, y)\n    }\n\n    for (let i = 0; i < canvas.width; i += dx) {\n      for (let j = 0; j < canvas.height; j += dy) {\n        blurColor(i, j, dx, dy)\n      }\n    }\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure.js\"\n/**\n * Q.9\n * ガウシアンフィルタ\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans9 extends BaseTwoCanvasComponent {\n  /**\n   * 初期処理\n   * @param {Document} self \n   */\n  init() {\n    // ノイズ画像セット\n    this.setSrcImage(config.srcImage.noise)\n  }\n  /**\n   * メイン処理\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n    const gaussian = (x, y, sigma) => Math.exp(-(x ** 2 + y ** 2) / (2 * sigma ** 2))\n\n    const kernelSize = 3\n    const sigma = 1.3\n    let w = 0\n    let kernel = Array.from(new Array(kernelSize), () => new Array(kernelSize).fill(0));\n\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      let _x = x - Math.floor(kernelSize / 2)\n      let _y = y - Math.floor(kernelSize / 2)\n      let g = gaussian(_x, _y, sigma)\n      kernel[y][x] = g\n      kernel[y][x] /= sigma * (Math.sqrt(2 * Math.PI))\n      w += kernel[y][x]\n    }\n\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      kernel[y][x] /= w\n    }\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      for (let c = 0; c < 3; c++) {\n        let k = 0\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k += kernel[i][j] * src.data[getIndex(x + _j, y + _i, c)]\n        }\n        dst.data[getIndex(x, y, c)] = k\n      }\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure.js\"\n/**\n * Q.10\n * メディアンフィルタ\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans10 extends BaseTwoCanvasComponent {\n  /**\n   * 初期処理\n   * @param {Document} self \n   */\n  init() {\n    // ノイズ画像セット\n    this.setSrcImage(config.srcImage.noise)\n  }\n  /**\n   * メイン処理\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const kernelSize = 3\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      for (let c = 0; c < 3; c++) {\n        let k = []\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k.push(src.data[getIndex(x + _j, y + _i, c)])\n        }\n        k.sort((a, b) => a - b)\n        dst.data[getIndex(x, y, c)] = k[Math.floor(k.length / 2)]\n      }\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n\n/**\n * Q.11\n * 平滑化フィルタ\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans11 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const kernelSize = 3\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      for (let c = 0; c < 3; c++) {\n        let k = []\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k.push(src.data[getIndex(x + _j, y + _i, c)])\n        }\n        let sum = k.reduce((prev, current) => {\n          return prev + current;\n        });\n        dst.data[getIndex(x, y, c)] = sum / k.length\n      }\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.12\n * モーションフィルタ\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans12 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n    const kernelSize = 3\n    let kernel = [\n      [1 / 3, 0, 0],\n      [0, 1 / 3, 0],\n      [0, 0, 1 / 3],\n    ]\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      for (let c = 0; c < 3; c++) {\n        let k = 0\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k += kernel[i][j] * src.data[getIndex(x + _j, y + _i, c)]\n        }\n        dst.data[getIndex(x, y, c)] = k\n      }\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.13\n * MAX-MINフィルタ\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans13 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const kernelSize = 3\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let k = []\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - Math.floor(kernelSize / 2)\n        let _j = j - Math.floor(kernelSize / 2)\n        let r = src.data[getIndex(x + _j, y + _i, 0)]\n        let g = src.data[getIndex(x + _j, y + _i, 1)]\n        let b = src.data[getIndex(x + _j, y + _i, 2)]\n        k.push(parseInt(grayscale(r, g, b), 10))\n      }\n\n      k.sort((a, b) => a - b)\n      let c = Math.abs(k[0] - k[k.length - 1])\n\n      dst.data[getIndex(x, y, 0)] = c\n      dst.data[getIndex(x, y, 1)] = c\n      dst.data[getIndex(x, y, 2)] = c\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.14\n * 微分フィルタ\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans14 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas1 \n   * @param {Object} canvas2 \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n\n    const verticalKernel = [\n      [0, -1, 0],\n      [0, 1, 0],\n      [0, 0, 0],\n    ]\n\n    const sideKernel = [\n      [0, 0, 0],\n      [-1, 1, 0],\n      [0, 0, 0],\n    ]\n\n    this.diffFilter(canvas1, image, verticalKernel)\n\n    this.diffFilter(canvas2, image, sideKernel)\n  }\n\n  diffFilter(canvas, image, kernel) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n    const toInt8 = (p) => {\n      if (p > 255) return 255\n      if (p < 0) return 0\n      return p\n    }\n    const kernelSize = kernel.length\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let k = 0\n      for (let c = 0; c < 3; c++) {\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k += kernel[i][j] * src.data[getIndex(x + _j, y + _i, c)]\n        }\n      }\n      k = toInt8(k)\n      dst.data[getIndex(x, y, 0)] = k\n      dst.data[getIndex(x, y, 1)] = k\n      dst.data[getIndex(x, y, 2)] = k\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.15\n * Sobelフィルタ\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans15 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas1 \n   * @param {Object} canvas2\n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const verticalKernel = [\n      [1, 0, -1],\n      [2, 0, -2],\n      [1, 0, -1],\n    ]\n    const sideKernel = [\n      [1, 2, 1],\n      [0, 0, 0],\n      [-1, -2, -1],\n    ]\n    this.sovelFilter(canvas1, image, verticalKernel)\n    this.sovelFilter(canvas2, image, sideKernel)\n  }\n  /**\n   * ソーベルフィルタ\n   * @param {Object} canvas \n   * @param {Object} image \n   * @param {Array} kernel \n   */\n  sovelFilter(canvas, image, kernel) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n    const kernelSize = kernel.length\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let k = 0\n      for (let c = 0; c < 3; c++) {\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k += kernel[i][j] * src.data[getIndex(x + _j, y + _i, c)]\n        }\n      }\n      dst.data[getIndex(x, y, 0)] = k\n      dst.data[getIndex(x, y, 1)] = k\n      dst.data[getIndex(x, y, 2)] = k\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.16\n * Prewittフィルタ\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans16 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const verticalKernel = [\n      [-1, -1, -1],\n      [0, 0, 0],\n      [1, 1, 1],\n    ]\n    const sideKernel = [\n      [-1, 0, 1],\n      [-1, 0, 1],\n      [-1, 0, 1],\n    ]\n    this.prewittFilter(canvas1, image, verticalKernel)\n    this.prewittFilter(canvas2, image, sideKernel)\n  }\n  /**\n   * Prewittフィルタ\n   * @param {Object} canvas \n   * @param {Object} image \n   * @param {Array} kernel \n   */\n  prewittFilter(canvas, image, kernel) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n    const toInt8 = (p) => {\n      if (p > 255) return 255\n      if (p < 0) return 0\n      return p\n    }\n    const kernelSize = kernel.length\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let k = 0\n      for (let c = 0; c < 3; c++) {\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k += kernel[i][j] * src.data[getIndex(x + _j, y + _i, c)]\n        }\n      }\n      k = toInt8(k)\n      dst.data[getIndex(x, y, 0)] = k\n      dst.data[getIndex(x, y, 1)] = k\n      dst.data[getIndex(x, y, 2)] = k\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.17\n * Laplacianフィルタ\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans17 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    const kernel = [\n      [0, 1, 0],\n      [1, -4, 1],\n      [0, 1, 0],\n    ]\n    this.laplacianFilter(canvas, image, kernel)\n  }\n\n  /**\n   * Prewittフィルタ\n   * @param {Object} canvas \n   * @param {Object} image \n   * @param {Array} kernel \n   */\n  laplacianFilter(canvas, image, kernel) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n    const toInt8 = (p) => {\n      if (p > 255) return 255\n      if (p < 0) return 0\n      return p\n    }\n    const kernelSize = kernel.length\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let k = 0\n      for (let c = 0; c < 3; c++) {\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k += kernel[i][j] * src.data[getIndex(x + _j, y + _i, c)]\n        }\n      }\n      k = toInt8(k)\n      dst.data[getIndex(x, y, 0)] = k\n      dst.data[getIndex(x, y, 1)] = k\n      dst.data[getIndex(x, y, 2)] = k\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.18\n * Embossフィルタ\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans18 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let kernel = [\n      [-2, -1, 0],\n      [-1, 1, 1],\n      [0, 1, 2],\n    ]\n    this.logFilter(canvas, image, kernel)\n  }\n  /**\n   * embossフィルタ\n   * @param {Object} canvas \n   * @param {Object} image \n   * @param {Array} kernel \n   */\n  logFilter(canvas, image, kernel) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n    const toInt8 = (p) => {\n      if (p > 255) return 255\n      if (p < 0) return 0\n      return p\n    }\n    const kernelSize = kernel.length\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let k = 0\n      for (let c = 0; c < 3; c++) {\n        for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n          let _i = i - Math.floor(kernelSize / 2)\n          let _j = j - Math.floor(kernelSize / 2)\n          k += kernel[i][j] * src.data[getIndex(x + _j, y + _i, c)]\n        }\n      }\n      k = toInt8(k)\n      dst.data[getIndex(x, y, 0)] = k\n      dst.data[getIndex(x, y, 1)] = k\n      dst.data[getIndex(x, y, 2)] = k\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { HistogramComponent } from \"./BaseComponents.js\"\n/**\n * Q.20\n * ヒストグラム表示\n * @extends HistogramComponent\n */\nexport default class Ans20 extends HistogramComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas) {\n    let pixelValues = new Array(255).fill(0)\n    let ctx = canvas.getContext(\"2d\");\n    let src = ctx.getImageData(0, 0, canvas.width, canvas.height)\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      for (let c = 0; c < 3; c++) {\n        pixelValues[src.data[i] + c]++\n      }\n    }\n    this.renderChart(pixelValues)\n  }\n}","import { ThreeCanvasHistogramComponent } from \"./BaseComponents.js\"\n/**\n * Q.21\n * 画像正規化 + ヒストグラム\n * @extends ThreeCanvasHistogramComponent\n */\nexport default class Ans21 extends ThreeCanvasHistogramComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let pixelValues = new Array(255).fill(0)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    let dMax = 255\n    let dMin = 0\n    let vMin = 255\n    let vMax = 0\n\n    const trans = (p) => (dMax - dMin) / (vMax - vMin) * (p - vMin) + dMin\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      for (let c = 0; c < 3; c++) {\n        let p = src.data[i + c]\n        if (p > vMax) {\n          vMax = p\n        }\n        if (p < vMin) {\n          vMin = p\n        }\n      }\n    }\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      for (let c = 0; c < 3; c++) {\n        dst.data[i + c] = parseInt(trans(src.data[i + c]), 10)\n        pixelValues[dst.data[i + c]]++\n      }\n      dst.data[i + 3] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n    this.renderChart(pixelValues)\n  }\n}","import { ThreeCanvasHistogramComponent } from \"./BaseComponents.js\"\n/**\n * Q.22\n * ヒストグラム操作\n * @extends ThreeCanvasHistogramComponent\n */\nexport default class Ans22 extends ThreeCanvasHistogramComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let pixelValues = new Array(255).fill(0)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    let m0 = 128\n    let s0 = 52\n    let m = 97\n    let s = 12\n\n    const trans = (p) => s0 / s * (p - m) + m0\n\n    // 標準偏差\n    const std = (array) => {\n      let average = array.reduce((previous, current) =>\n        previous + current\n      ) / array.length\n      return Math.sqrt(\n        array.map((current) => {\n          let difference = current - average\n          return difference ** 2\n        }).reduce((previous, current) =>\n          previous + current\n        ) / array.length\n      )\n    }\n\n    let grayScaleArr = []\n    for (let i = 0; i < src.data.length; i += 4) {\n      for (let c = 0; c < 3; c++) {\n        grayScaleArr.push(src.data[i + c])\n      }\n    }\n\n    s = std(grayScaleArr)\n    m = grayScaleArr.reduce((previous, current) =>\n      previous + current\n    ) / grayScaleArr.length\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      for (let c = 0; c < 3; c++) {\n        dst.data[i + c] = parseInt(trans(src.data[i + c]), 10)\n        pixelValues[dst.data[i + c]]++\n      }\n      dst.data[i + 3] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n    this.renderChart(pixelValues)\n  }\n}","import { ThreeCanvasHistogramComponent } from \"./BaseComponents.js\"\nimport config from \"../configure.js\"\n/**\n * Q.23\n * ヒストグラム平坦化\n * @extends ThreeCanvasHistogramComponent\n */\nexport default class Ans23 extends ThreeCanvasHistogramComponent {\n  /**\n   * 初期処理\n   * \n   * @param {Document} self \n   */\n  init() {\n    // ノイズ画像セット\n    this.setSrcImage(config.srcImage.default)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let pixelValues = new Array(255).fill(0)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    const zMax = 255\n    const S = canvas.width * canvas.height * 3\n\n    let h = new Array(255).fill(0)\n    let hSum = new Array(255).fill(0)\n\n    for (let n = 0; n < 3; n++) {\n      for (let i = 0; i < src.data.length; i += 4) {\n        h[src.data[i + n]]++\n      }\n    }\n\n    for (let i = 0; i < hSum.length; i++) {\n      for (let j = 0; j < i; j++) {\n        hSum[i] += h[j]\n      }\n    }\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      for (let n = 0; n < 3; n++) {\n        let p = src.data[i + n]\n        let v = parseInt(zMax / S * hSum[p])\n        if (v > 255) {\n          v = 255\n        } else if (v < 0) {\n          v = 0\n        }\n        dst.data[i + n] = v\n        pixelValues[v]++\n      }\n      dst.data[i + 3] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n    this.renderChart(pixelValues)\n  }\n}\n","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure.js\"\n/**\n * Q.24\n * ガンマ補正\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans24 extends BaseTwoCanvasComponent {\n  /**\n   * 初期処理\n   * \n   * @param {Document} self \n   */\n  init() {\n    // ノイズ画像セット\n    this.setSrcImage(config.srcImage.gamma)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(image.width, image.height)\n\n    let c = 1.0\n    let g = 2.2\n\n    for (let i = 0; i < src.data.length; i += 4) {\n      for (let n = 0; n < 3; n++) {\n        let p = src.data[i + n]\n        p /= 255\n        p = (1 / c * p) ** (1 / g)\n        p *= 255\n        dst.data[i + n] = p\n      }\n      dst.data[i + 3] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.25\n * 最近傍補間\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans25 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    const getDstIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const getSrcIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), image.width - 1)\n      y = Math.min(Math.max(y, 0), image.height - 1)\n      return y * image.width * 4 + x * 4 + channel\n    }\n\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n\n    let scale = 1.5\n    canvas.width = image.width * scale\n    canvas.height = image.height * scale\n\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let _x = parseInt(x / scale, 10)\n      let _y = parseInt(y / scale, 10)\n      dst.data[getDstIndex(x, y, 0)] = src.data[getSrcIndex(_x, _y, 0)]\n      dst.data[getDstIndex(x, y, 1)] = src.data[getSrcIndex(_x, _y, 1)]\n      dst.data[getDstIndex(x, y, 2)] = src.data[getSrcIndex(_x, _y, 2)]\n      dst.data[getDstIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}\n","import {BaseTwoCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.26\n * Bi-linear補間\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans26 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    const getDstIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const getSrcIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), image.width - 1)\n      y = Math.min(Math.max(y, 0), image.height - 1)\n      return y * image.width * 4 + x * 4 + channel\n    }\n\n    const getWeight = (t1, t2) => {\n      const d = Math.abs(t1 - t2);\n      if (d > 1) {\n        return 0;\n      }\n      return 1 - d;\n    }\n\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n\n    const scale = 1.5\n    canvas.width = image.width * scale\n    canvas.height = image.height * scale\n\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n    const range = [0, 1]\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let _x = x / scale\n      let _y = y / scale\n      let rangeX = range.map(i => i + Math.floor(_x));\n      let rangeY = range.map(i => i + Math.floor(_y));\n      let r, g, b\n      r = g = b = 0\n\n      for (let ry of rangeY) for (let rx of rangeX) {\n        let weight = getWeight(ry, _y) * getWeight(rx, _x)\n        r += src.data[getSrcIndex(~~rx, ~~ry, 0)] * weight\n        g += src.data[getSrcIndex(~~rx, ~~ry, 1)] * weight\n        b += src.data[getSrcIndex(~~rx, ~~ry, 2)] * weight\n      }\n      dst.data[getDstIndex(x, y, 0)] = ~~r\n      dst.data[getDstIndex(x, y, 1)] = ~~g\n      dst.data[getDstIndex(x, y, 2)] = ~~b\n      dst.data[getDstIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import {BaseTwoCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.27\n * Bi-cubic補間\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans27 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    const getDstIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const getSrcIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), image.width - 1)\n      y = Math.min(Math.max(y, 0), image.height - 1)\n      return y * image.width * 4 + x * 4 + channel\n    }\n\n    const getWeight = (t1, t2) => {\n      const d = Math.abs(t1 - t2);\n      if (d > 1) {\n        return 0;\n      }\n      return 1 - d;\n    }\n\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n\n    const scale = 1.5\n    canvas.width = image.width * scale\n    canvas.height = image.height * scale\n\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n    const range = [-1, 0, 1, 2]\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let _x = x / scale\n      let _y = y / scale\n      let rangeX = range.map(i => i + Math.floor(_x));\n      let rangeY = range.map(i => i + Math.floor(_y));\n      let r, g, b\n      r = g = b = 0\n\n      for (let ry of rangeY) for (let rx of rangeX) {\n        let weight = getWeight(ry, _y) * getWeight(rx, _x)\n        r += src.data[getSrcIndex(~~rx, ~~ry, 0)] * weight\n        g += src.data[getSrcIndex(~~rx, ~~ry, 1)] * weight\n        b += src.data[getSrcIndex(~~rx, ~~ry, 2)] * weight\n      }\n      dst.data[getDstIndex(x, y, 0)] = ~~r\n      dst.data[getDstIndex(x, y, 1)] = ~~g\n      dst.data[getDstIndex(x, y, 2)] = ~~b\n      dst.data[getDstIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import {BaseTwoCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.28\n * アフィン変換(平行移動)\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans28 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image) {\n    const getIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n    let tx = 30\n    let ty = -30\n\n    const H = [\n      [1, 0, tx],\n      [0, 1, ty],\n      [0, 0, 1],\n    ]\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let p = [x, y, 1]\n      let a = [0, 0, 0]\n      for (let i = 0; i < H.length; i++) {\n        let tmp = 0\n        for (let j = 0; j < p.length; j++) {\n          tmp += p[j] * H[i][j]\n        }\n        a[i] = ~~tmp\n      }\n      for (let c = 0; c < 3; c++) {\n        dst.data[getIndex(a[0], a[1], c)] = src.data[getIndex(x, y, c)]\n      }\n      dst.data[getIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\nimport math from \"mathjs\"\n/**\n * Q.29\n * アフィン変換(平行移動)\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans29 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const scaleX = 1.3\n    const scaleY = 0.8\n    let tx = 30\n    let ty = -30\n    const H1 = [\n      [scaleX, 0, 0],\n      [0, scaleY, 0],\n      [0, 0, 1],\n    ]\n    const H2 = [\n      [scaleX, 0, tx],\n      [0, scaleY, ty],\n      [0, 0, 1],\n    ]\n\n    this.trans(canvas1, image, H1)\n    this.trans(canvas2, image, H2)\n  }\n  /**\n   * Homography Translation\n   * @param {Object} canvas \n   * @param {Object} image \n   * @param {Array} H 3x3 - Homography\n   */\n  trans(canvas, image, H) {\n    const getDstIndex = (x, y, channel) => {\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const getSrcIndex = (x, y, channel) => {\n      return y * image.width * 4 + x * 4 + channel\n    }\n\n    let scaleX = H[0][0]\n    let scaleY = H[1][1]\n\n    let ctx = canvas.getContext(\"2d\");\n\n    canvas.width = image.width\n    canvas.height = image.height\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n\n    canvas.width = ~~(image.width * scaleX)\n    canvas.height = ~~(image.height * scaleY)\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n    let _H = math.inv(H)\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let p = [x, y, 1]\n      let a = [0, 0, 0]\n      for (let i = 0; i < _H.length; i++) {\n        let tmp = 0\n        for (let j = 0; j < p.length; j++) {\n          tmp += p[j] * _H[i][j]\n        }\n        a[i] = ~~tmp\n      }\n      for (let c = 0; c < 3; c++) {\n        if ((0 < a[0] && a[0] < canvas.width)) {\n          dst.data[getDstIndex(x, y, c)] = src.data[getSrcIndex(a[0], a[1], c)]\n        }\n      }\n      dst.data[getDstIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\nimport math from \"mathjs\"\n/**\n * Q.30\n * アフィン変換(回転)\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans30 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const calcHomography = (H, x, y) => {\n      let p = [x, y, 1]\n      let a = [0, 0, 0]\n      for (let i = 0; i < H.length; i++) {\n        let tmp = 0\n        for (let j = 0; j < p.length; j++) {\n          tmp += p[j] * H[i][j]\n        }\n        a[i] = ~~tmp\n      }\n      return a\n    }\n\n    const deg = -30\n    const rad = deg * Math.PI / 180\n\n    const H1 = [\n      [Math.cos(rad), -Math.sin(rad), 0],\n      [Math.sin(rad), Math.cos(rad), 0],\n      [0, 0, 1],\n    ]\n\n    let [cx, cy] = calcHomography(\n      H1,\n      canvas1.width / 2,\n      canvas1.height / 2\n    ).map(e => ~~e)\n\n    const H2 = [\n      [Math.cos(rad), -Math.sin(rad), -cx + ~~(canvas1.width / 2)],\n      [Math.sin(rad), Math.cos(rad), -cy + ~~(canvas1.height / 2)],\n      [0, 0, 1],\n    ]\n    this.trans(canvas1, image, H1)\n    this.trans(canvas2, image, H2)\n  }\n  /**\n   * Homography Translation\n   * @param {Object} canvas \n   * @param {Object} image \n   * @param {Array} H 3x3 - Homography\n   */\n  trans(canvas, image, H) {\n    const getDstIndex = (x, y, channel) => {\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const getSrcIndex = (x, y, channel) => {\n      return y * image.width * 4 + x * 4 + channel\n    }\n\n    let ctx = canvas.getContext(\"2d\");\n\n    canvas.width = image.width\n    canvas.height = image.height\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n\n    canvas.width = image.width\n    canvas.height = image.height\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n    let _H = math.inv(H)\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let p = [x, y, 1]\n      let a = [0, 0, 0]\n      for (let i = 0; i < _H.length; i++) {\n        let tmp = 0\n        for (let j = 0; j < p.length; j++) {\n          tmp += p[j] * _H[i][j]\n        }\n        a[i] = ~~tmp\n      }\n      for (let c = 0; c < 3; c++) {\n        if ((0 < a[0] && a[0] < canvas.width)) {\n          dst.data[getDstIndex(x, y, c)] = src.data[getSrcIndex(a[0], a[1], c)]\n        }\n      }\n      dst.data[getDstIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import {BaseFourCanvasComponent} from \"./BaseComponents.js\"\nimport math from \"mathjs\"\n/**\n * Q.31\n * アフィン変換(スキュー)\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans31 extends BaseFourCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, canvas3, image) {\n    let dx = 30\n    let a = dx / image.height\n    let tx = 0\n    let ty = 0\n    const H1 = [\n      [1, a, tx],\n      [0, 1, ty],\n      [0, 0, 1],\n    ]\n    const H2 = [\n      [1, 0, tx],\n      [a, 1, ty],\n      [0, 0, 1],\n    ]\n    const H3 = [\n      [1, a, tx],\n      [a, 1, ty],\n      [0, 0, 1],\n    ]\n    this.trans(canvas1, image, H1)\n    this.trans(canvas2, image, H2)\n    this.trans(canvas3, image, H3)\n  }\n  /**\n   * Homography Translation\n   * @param {Object} canvas \n   * @param {Object} image \n   * @param {Array} H 3x3 - Homography\n   */\n  trans(canvas, image, H) {\n    const getDstIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), canvas.width - 1)\n      y = Math.min(Math.max(y, 0), canvas.height - 1)\n      return y * canvas.width * 4 + x * 4 + channel\n    }\n\n    const getSrcIndex = (x, y, channel) => {\n      x = Math.min(Math.max(x, 0), image.width - 1)\n      y = Math.min(Math.max(y, 0), image.height - 1)\n      return y * image.width * 4 + x * 4 + channel\n    }\n\n    const calcHomography = (Hx, x, y) => {\n      let p = [x, y, 1]\n      let a = [0, 0, 0]\n      for (let i = 0; i < Hx.length; i++) {\n        let tmp = 0\n        for (let j = 0; j < p.length; j++) {\n          tmp += p[j] * Hx[i][j]\n        }\n        a[i] = ~~tmp\n      }\n      return a\n    }\n\n    let ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height)\n    let src = ctx.getImageData(0, 0, image.width, image.height)\n\n    let [width, height] = calcHomography(H, image.width, image.height).map(e => ~~e)\n    canvas.width = width\n    canvas.height = height\n\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n    let _H = math.inv(H)\n\n    for (let x = 0; x < canvas.width; x++) for (let y = 0; y < canvas.height; y++) {\n      let p = [x, y, 1]\n      let a = [0, 0, 0]\n      for (let i = 0; i < _H.length; i++) {\n        let tmp = 0\n        for (let j = 0; j < p.length; j++) {\n          tmp += p[j] * _H[i][j]\n        }\n        a[i] = ~~tmp\n      }\n      for (let c = 0; c < 3; c++) {\n        if ((0 < a[0] && a[0] < image.width) && (0 < a[1] && a[1] < image.height)) {\n          dst.data[getDstIndex(x, y, c)] = src.data[getSrcIndex(a[0], a[1], c)]\n        }\n      }\n      dst.data[getDstIndex(x, y, 3)] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import {BaseFourCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.32\n * フーリエ変換\n * @extends BaseFourCanvasComponent\n */\nexport default class Ans32 extends BaseFourCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, canvas3, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    let ctx3 = canvas3.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src = [] //グレースケール成分を格納する\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    let dst2 = ctx2.createImageData(canvas2.width, canvas3.height)\n    let dst3 = ctx3.createImageData(canvas3.width, canvas3.height)\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = ~~grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      src.push(color)\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = color\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let [Re, Im] = this.dft2d(src, canvas1.width, canvas1.height)\n    let dst = this.idft2d(Re, Im, canvas1.width, canvas1.height)\n\n    for (let i = 0, j = 0; i < dst2.data.length; i += 4, j++) {\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = ~~dst[j]\n      dst2.data[i + 3] = 255\n    }\n    ctx2.putImageData(dst2, 0, 0)\n\n    // パワースペクトル画像\n    let max = Math.max.apply(null, Re.map(Math.abs));\n    for (let i = 0, j = 0; i < dst3.data.length; i += 4, j++) {\n      dst3.data[i] = dst3.data[i + 1] = dst3.data[i + 2] = ~~(Math.abs(Re[j]) / max * 255)\n      dst3.data[i + 3] = 255\n    }\n    for (let i = 0, j = 0; i < dst3.data.length; i += 4, j++) {\n      dst3.data[i] = dst3.data[i + 1] = dst3.data[i + 2] = ~~(Math.abs(Re[j]) / max * 255)\n      dst3.data[i + 3] = 255\n    }\n    ctx3.putImageData(dst3, 0, 0)\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src \n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   */\n  dft2d(src, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W\n    const wy0 = 2 * Math.PI / H\n    let Re = new Array(src.length)\n    let Im = new Array(src.length)\n    for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n      let uvIdx = W * v + u;\n      Re[uvIdx] = 0;\n      Im[uvIdx] = 0;\n      for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n        let xyIdx = W * y + x;\n        Re[uvIdx] += src[xyIdx] * Math.cos(- wx0 * x * u - wy0 * y * v)\n        Im[uvIdx] += src[xyIdx] * Math.sin(- wx0 * x * u - wy0 * y * v)\n      }\n      Re[uvIdx] /= W * H;\n      Im[uvIdx] /= W * H;\n    }\n    return [Re, Im]\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} Re \n   * @param {Array} Im \n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   */\n  idft2d(Re, Im, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W;\n    const wy0 = 2 * Math.PI / H;\n    let dst = new Array(W * H)\n    for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n      let xyIdx = W * y + x;\n      dst[xyIdx] = 0;\n      for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n        dst[xyIdx] += Re[W * v + u] * Math.cos(wx0 * x * u + wy0 * y * v) - Im[W * v + u] * Math.sin(wx0 * x * u + wy0 * y * v);\n      }\n    }\n    return dst\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.33\n * フーリエ変換 ローパスフィルタ\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans33 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src = [] //グレースケール成分を格納する\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    let dst2 = ctx1.createImageData(canvas1.width, canvas1.height)\n\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = ~~grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      src.push(color)\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = color\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let [Re, Im] = this.dft2d(src, canvas1.width, canvas1.height)\n\n    //todo:\n    this.lpf(Re, Im, canvas1.width, canvas1.height, canvas1.width / 2 * 0.5)\n\n    let arr = this.idft2d(Re, Im, canvas1.width, canvas1.height)\n\n    for (let i = 0, j = 0; i < dst2.data.length; i += 4, j++) {\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = ~~arr[j]\n      dst2.data[i + 3] = 255\n    }\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src \n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   */\n  dft2d(src, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W\n    const wy0 = 2 * Math.PI / H\n    let Re = new Array(src.length)\n    let Im = new Array(src.length)\n    for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n      let uvIdx = W * v + u;\n      Re[uvIdx] = 0;\n      Im[uvIdx] = 0;\n      for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n        let xyIdx = W * y + x;\n        Re[uvIdx] += src[xyIdx] * Math.cos(- wx0 * x * u - wy0 * y * v)\n        Im[uvIdx] += src[xyIdx] * Math.sin(- wx0 * x * u - wy0 * y * v)\n      }\n      Re[uvIdx] /= W * H;\n      Im[uvIdx] /= W * H;\n    }\n    return [Re, Im]\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} Re \n   * @param {Array} Im \n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   */\n  idft2d(Re, Im, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W;\n    const wy0 = 2 * Math.PI / H;\n    let dst = new Array(W * H)\n    for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n      let xyIdx = W * y + x;\n      dst[xyIdx] = 0;\n      for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n        dst[xyIdx] += Re[W * v + u] * Math.cos(wx0 * x * u + wy0 * y * v) - Im[W * v + u] * Math.sin(wx0 * x * u + wy0 * y * v);\n      }\n    }\n    return dst\n  }\n  /**\n   * ローパスフィルタ\n   * @param {Array} Re \n   * @param {Array} Im \n   * @param {Number} imgWidth image width \n   * @param {Number} imgHeight image height\n   */\n  lpf(Re, Im, imgWidth, imgHeight, r) {\n    let cx = imgWidth / 2\n    let cy = imgHeight / 2\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = y * imgWidth + x\n      // let d = Math.sqrt(Math.pow(cx - x , 2) + Math.pow(cy - y , 2))\n      // if (d > r) {\n      //   Re[idx] = 0\n      //   Im[idx] = 0\n      // }\n      if (Math.abs(cx - x) < r || Math.abs(cy - y) < r) {\n        Re[idx] = 0\n        Im[idx] = 0\n      }\n    }\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.34\n * フーリエ変換 ハイパスフィルタ\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans34 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src = [] //グレースケール成分を格納する\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    let dst2 = ctx1.createImageData(canvas1.width, canvas1.height)\n\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = ~~grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      src.push(color)\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = color\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let [Re, Im] = this.dft2d(src, canvas1.width, canvas1.height)\n\n    //todo:\n    this.hpf(Re, Im, canvas1.width, canvas1.height, canvas1.width / 2 * 0.9)\n\n    let arr = this.idft2d(Re, Im, canvas1.width, canvas1.height)\n\n    for (let i = 0, j = 0; i < dst2.data.length; i += 4, j++) {\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = ~~arr[j]\n      dst2.data[i + 3] = 255\n    }\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src \n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   */\n  dft2d(src, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W\n    const wy0 = 2 * Math.PI / H\n    let Re = new Array(src.length)\n    let Im = new Array(src.length)\n    for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n      let uvIdx = W * v + u;\n      Re[uvIdx] = 0;\n      Im[uvIdx] = 0;\n      for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n        let xyIdx = W * y + x;\n        Re[uvIdx] += src[xyIdx] * Math.cos(- wx0 * x * u - wy0 * y * v)\n        Im[uvIdx] += src[xyIdx] * Math.sin(- wx0 * x * u - wy0 * y * v)\n      }\n      Re[uvIdx] /= W * H;\n      Im[uvIdx] /= W * H;\n    }\n    return [Re, Im]\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} Re \n   * @param {Array} Im \n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   */\n  idft2d(Re, Im, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W;\n    const wy0 = 2 * Math.PI / H;\n    let dst = new Array(W * H)\n    for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n      let xyIdx = W * y + x;\n      dst[xyIdx] = 0;\n      for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n        dst[xyIdx] += Re[W * v + u] * Math.cos(wx0 * x * u + wy0 * y * v) - Im[W * v + u] * Math.sin(wx0 * x * u + wy0 * y * v);\n      }\n    }\n    return dst\n  }\n  /**\n   * ハイパスフィルタ\n   * @param {Array} Re \n   * @param {Array} Im \n   * @param {Number} imgWidth image width \n   * @param {Number} imgHeight image height\n   */\n  hpf(Re, Im, imgWidth, imgHeight, r) {\n    let cx = imgWidth / 2\n    let cy = imgHeight / 2\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = y * imgWidth + x\n      // let d = Math.sqrt(Math.pow(cx - x , 2) + Math.pow(cy - y , 2))\n      // if (d > r) {\n      //   Re[idx] = 0\n      //   Im[idx] = 0\n      // }\n      if (Math.abs(cx - x) > r || Math.abs(cy - y) > r) {\n        Re[idx] = 0\n        Im[idx] = 0\n      }\n    }\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.35\n * フーリエ変換 バンドパスフィルタ\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans35 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src = [] //グレースケール成分を格納する\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    let dst2 = ctx1.createImageData(canvas1.width, canvas1.height)\n\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = ~~grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      src.push(color)\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = color\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let [Re, Im] = this.dft2d(src, canvas1.width, canvas1.height)\n\n    //todo:\n    let r = canvas1.width / 2\n    this.bpf(Re, Im, canvas1.width, canvas1.height, r * 0.1, r * 0.9)\n\n    let arr = this.idft2d(Re, Im, canvas1.width, canvas1.height)\n\n    for (let i = 0, j = 0; i < dst2.data.length; i += 4, j++) {\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = ~~Math.abs(arr[j])\n      dst2.data[i + 3] = 255\n    }\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src \n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   */\n  dft2d(src, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W\n    const wy0 = 2 * Math.PI / H\n    let Re = new Array(src.length)\n    let Im = new Array(src.length)\n    for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n      let uvIdx = W * v + u;\n      Re[uvIdx] = 0;\n      Im[uvIdx] = 0;\n      for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n        let xyIdx = W * y + x;\n        Re[uvIdx] += src[xyIdx] * Math.cos(- wx0 * x * u - wy0 * y * v)\n        Im[uvIdx] += src[xyIdx] * Math.sin(- wx0 * x * u - wy0 * y * v)\n      }\n      Re[uvIdx] /= W * H;\n      Im[uvIdx] /= W * H;\n    }\n    return [Re, Im]\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} Re \n   * @param {Array} Im \n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   */\n  idft2d(Re, Im, imgWidth, imgHeight) {\n    const W = imgWidth\n    const H = imgHeight\n    const wx0 = 2 * Math.PI / W;\n    const wy0 = 2 * Math.PI / H;\n    let dst = new Array(W * H)\n    for (let y = 0; y < H; y++) for (let x = 0; x < W; x++) {\n      let xyIdx = W * y + x;\n      dst[xyIdx] = 0;\n      for (let v = 0; v < H; v++) for (let u = 0; u < W; u++) {\n        dst[xyIdx] += Re[W * v + u] * Math.cos(wx0 * x * u + wy0 * y * v) - Im[W * v + u] * Math.sin(wx0 * x * u + wy0 * y * v);\n      }\n    }\n    return dst\n  }\n  /**\n   * バンドパスフィルタ\n   * @param {Array} Re \n   * @param {Array} Im \n   * @param {Number} imgWidth image width \n   * @param {Number} imgHeight image height\n   */\n  bpf(Re, Im, imgWidth, imgHeight, rMin, rMax) {\n    let cx = imgWidth / 2\n    let cy = imgHeight / 2\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = y * imgWidth + x\n      // let d = Math.sqrt(Math.pow(cx - x , 2) + Math.pow(cy - y , 2))\n      let condition1 = Math.abs(cx - x) > rMin || Math.abs(cy - y) > rMin\n      let condition2 = Math.abs(cx - x) < rMax && Math.abs(cy - y) < rMax\n      if (!(condition1 && condition2)) {\n        Re[idx] = 0\n        Im[idx] = 0\n      }\n    }\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.36\n * JPEG圧縮 (Step.1)離散コサイン変換\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans36 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src = [] //グレースケール成分を格納する\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    let dst2 = ctx1.createImageData(canvas1.width, canvas1.height)\n    const T = 8\n    const K = 8\n\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      let color = ~~grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      src.push(color)\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = color\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let freq = this.dct2d(src, canvas1.width, canvas1.height, T)\n    let arr = this.idct2d(freq, canvas1.width, canvas1.height, T, K)\n\n    for (let i = 0, j = 0; i < dst2.data.length; i += 4, j++) {\n      let value = Math.abs(arr[j]) > 255 ? 255 : Math.abs(arr[j])\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = value\n      dst2.data[i + 3] = 255\n    }\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src 2次元配列\n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   */\n  dct2d(src, imgWidth, imgHeight, T) {\n    const W = imgWidth\n    const H = imgHeight\n    let dst = new Array(W * H).fill(0)\n    let theta = Math.PI / (2 * T)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let v = 0; v < T; v++) for (let u = 0; u < T; u++) {\n        let uvIdx = W * (v + yi) + (u + xi);\n        for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n          let xyIdx = W * (y + yi) + (x + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) * \n          Math.cos((2 * x + 1) * u * theta) * \n          Math.cos((2 * y + 1) * v * theta)\n          dst[uvIdx] += src[xyIdx] * w\n        }\n      }\n    }\n    return dst\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} src\n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   * @param {Number} K DCT係数\n   */\n  idct2d(src, imgWidth, imgHeight, T, K) {\n    const W = imgWidth\n    const H = imgHeight\n    let theta = Math.PI / (2 * T)\n    let dst = new Array(W * H).fill(0)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n        let xyIdx = W * (y + yi) + (x + xi);\n        for (let v = 0; v < K; v++) for (let u = 0; u < K; u++) {\n          let uvIdx = W * (v + yi) + (u + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) * Math.cos((2 * x + 1) * u * theta) * Math.cos((2 * y + 1) * v * theta)\n          dst[xyIdx] += src[uvIdx] * w\n        }\n      }\n    }\n    return dst\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.37\n * PSNR\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans37 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src = [] //グレースケール成分を格納する\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    let dst2 = ctx1.createImageData(canvas1.width, canvas1.height)\n    const T = 8\n    const K = 4\n\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      let color = ~~grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      src.push(color)\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = color\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let freq = this.dct2d(src, canvas1.width, canvas1.height, T)\n    let dst = this.idct2d(freq, canvas1.width, canvas1.height, T, K)\n\n    for (let i = 0, j = 0; i < dst2.data.length; i += 4, j++) {\n      let value = Math.abs(dst[j]) > 255 ? 255 : Math.abs(dst[j])\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = value\n      dst2.data[i + 3] = 255\n    }\n    ctx2.putImageData(dst2, 0, 0)\n\n    let psnr = this.psnr(src, dst, image.width, image.height)\n\n    this.showMessage(\n      JSON.stringify({\n        psnr,\n        bitrate: 1 * T * K ** 2 / (T ** 2)\n      }, null, '\\t')\n    )\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src 2次元配列\n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   */\n  dct2d(src, imgWidth, imgHeight, T) {\n    const W = imgWidth\n    const H = imgHeight\n    let dst = new Array(W * H).fill(0)\n    let theta = Math.PI / (2 * T)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let v = 0; v < T; v++) for (let u = 0; u < T; u++) {\n        let uvIdx = W * (v + yi) + (u + xi);\n        for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n          let xyIdx = W * (y + yi) + (x + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) * \n          Math.cos((2 * x + 1) * u * theta) * \n          Math.cos((2 * y + 1) * v * theta)\n          dst[uvIdx] += src[xyIdx] * w\n        }\n      }\n    }\n    return dst\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} src\n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   * @param {Number} K DCT係数\n   */\n  idct2d(src, imgWidth, imgHeight, T, K) {\n    const W = imgWidth\n    const H = imgHeight\n    let theta = Math.PI / (2 * T)\n    let dst = new Array(W * H).fill(0)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n        let xyIdx = W * (y + yi) + (x + xi);\n        for (let v = 0; v < K; v++) for (let u = 0; u < K; u++) {\n          let uvIdx = W * (v + yi) + (u + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) * Math.cos((2 * x + 1) * u * theta) * Math.cos((2 * y + 1) * v * theta)\n          dst[xyIdx] += src[uvIdx] * w\n        }\n      }\n    }\n    return dst\n  }\n  /**\n   * psnr算出\n   * @param {Array} src 入力画像\n   * @param {Array} dst 出力画像\n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   */\n  psnr(src, dst, imgWidth, imgHeight) {\n    let sum = 0\n    for (let i = 0; i < src.length; i++) {\n      let d = Math.abs(src[i] - dst[i])\n      sum += d ** d\n    }\n    let mse = sum / (imgWidth * imgHeight)\n    let ans = Math.log10(255 ** 2 / mse)\n    return ans\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\nimport math from \"mathjs\"\n/**\n * Q.38\n * JPEG圧縮 (Step.2)DCT+量子化\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans38 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src = [] //グレースケール成分を格納する\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    let dst2 = ctx1.createImageData(canvas1.width, canvas1.height)\n    const T = 8\n    const K = 8\n\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      let color = ~~grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      src.push(color)\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = color\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let freq = this.dct2d(src, canvas1.width, canvas1.height, T)\n    let dst = this.idct2d(freq, canvas1.width, canvas1.height, T, K)\n\n    for (let i = 0, j = 0; i < dst2.data.length; i += 4, j++) {\n      let value = Math.abs(dst[j]) > 255 ? 255 : Math.abs(dst[j])\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = value\n      dst2.data[i + 3] = 255\n    }\n    ctx2.putImageData(dst2, 0, 0)\n\n    let psnr = this.psnr(src, dst, image.width, image.height)\n\n    this.showMessage(\n      JSON.stringify({\n        psnr,\n        bitrate: 1 * T * K ** 2 / (T ** 2)\n      }, null, '\\t')\n    )\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src 2次元配列\n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   */\n  dct2d(src, imgWidth, imgHeight, T) {\n    const W = imgWidth\n    const H = imgHeight\n    const Q = this.getQuantum()\n    let dst = new Array(W * H).fill(0)\n    let theta = Math.PI / (2 * T)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let v = 0; v < T; v++) for (let u = 0; u < T; u++) {\n        let uvIdx = W * (v + yi) + (u + xi);\n        for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n          let xyIdx = W * (y + yi) + (x + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) * \n          Math.cos((2 * x + 1) * u * theta) * \n          Math.cos((2 * y + 1) * v * theta)\n          dst[uvIdx] += src[xyIdx] * w\n        }\n      }\n      // 量子化\n      let b = Array.from(new Array(T), () => new Array(T).fill(0))\n      for (let yj = yi, _y = 0; yj < yi + T; yj++, _y++) for (let xj = xi, _x = 0; xj < xi + T; xj++, _x++) {\n        b[_y][_x] = dst[W * yj + xj]\n      }\n      let m = math.dotDivide(b, Q).map(row => row.map(v => Math.round(v)))\n      m = math.dotMultiply(m, Q)\n      for (let yj = yi, _y = 0; yj < yi + T; yj++, _y++) for (let xj = xi, _x = 0; xj < xi + T; xj++, _x++) {\n        dst[W * yj + xj] = b[_y][_x]\n      }\n    }\n    return dst\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} src\n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   * @param {Number} K DCT係数\n   */\n  idct2d(src, imgWidth, imgHeight, T, K) {\n    const W = imgWidth\n    const H = imgHeight\n    let theta = Math.PI / (2 * T)\n    let dst = new Array(W * H).fill(0)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n        let xyIdx = W * (y + yi) + (x + xi);\n        for (let v = 0; v < K; v++) for (let u = 0; u < K; u++) {\n          let uvIdx = W * (v + yi) + (u + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) * Math.cos((2 * x + 1) * u * theta) * Math.cos((2 * y + 1) * v * theta)\n          dst[xyIdx] += src[uvIdx] * w\n        }\n      }\n    }\n    return dst\n  }\n  /**\n   * @return {Array} quantum\n   */\n  getQuantum() {\n    return [\n      [16, 11, 10, 16, 24, 40, 51, 61],\n      [12, 12, 14, 19, 26, 58, 60, 55],\n      [14, 13, 16, 24, 40, 57, 69, 56],\n      [14, 17, 22, 29, 51, 87, 80, 62],\n      [18, 22, 37, 56, 68, 109, 103, 77],\n      [24, 35, 55, 64, 81, 104, 113, 92],\n      [49, 64, 78, 87, 103, 121, 120, 101],\n      [72, 92, 95, 98, 112, 100, 103, 99]\n    ]\n  }\n  /**\n   * psnr算出\n   * @param {Array} src 入力画像\n   * @param {Array} dst 出力画像\n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   */\n  psnr(src, dst, imgWidth, imgHeight) {\n    let sum = 0\n    for (let i = 0; i < src.length; i++) {\n      let d = Math.abs(src[i] - dst[i])\n      sum += d ** d\n    }\n    let mse = sum / (imgWidth * imgHeight)\n    let ans = Math.log10(255 ** 2 / mse)\n    return ans\n  }\n}","import {BaseTwoCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.39\n * JPEG圧縮 (Step.3)YCbCr表色系\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans39 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const rgb2ycc = (r, g, b) => [\n      0.299 * r + 0.5870 * g + 0.114 * b,\n      -0.1687 * r - 0.3313 * g + 0.5 * b + 128,\n      0.5 * r - 0.4187 * g - 0.0813 * b + 128\n    ]\n    const ycc2rgb = (y, cr, cb) => [\n      y + (cb - 128) * 1.7718,\n      y - (cb - 128) * 0.3441 - (cr - 128) * 0.7139,\n      y + (cr - 128) * 1.402,\n    ]\n\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      let [y, cr, cb] = rgb2ycc(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n      y *= 0.7\n      let rgb = ycc2rgb(y, cr, cb)\n      dst1.data[i + 0] = rgb[0]\n      dst1.data[i + 1] = rgb[1]\n      dst1.data[i + 2] = rgb[2]\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n  }\n}","import {BaseTwoCanvasComponent} from \"./BaseComponents.js\"\nimport math from \"mathjs\"\n/**\n * Q.40\n * JPEG圧縮 (Step.2)DCT+量子化\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans40 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const rgb2ycc = (r, g, b) => [\n      0.299 * r + 0.5870 * g + 0.114 * b,\n      -0.1687 * r - 0.3313 * g + 0.5 * b + 128,\n      0.5 * r - 0.4187 * g - 0.0813 * b + 128\n    ]\n    const ycc2rgb = (y, cr, cb) => [\n      y + (cb - 128) * 1.7718,\n      y - (cb - 128) * 0.3441 - (cr - 128) * 0.7139,\n      y + (cr - 128) * 1.402,\n    ]\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let srcY = []\n    let srcCr = []\n    let srcCb = []\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n    const T = 8\n    const K = 8\n\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      let [y, cr, cb] = rgb2ycc(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n      srcY.push(y)\n      srcCr.push(cr)\n      srcCb.push(cb)\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let dctY = this.dct2d(srcY, canvas1.width, canvas1.height, T, this.getQuantum1())\n    let dstY = this.idct2d(dctY, canvas1.width, canvas1.height, T, K)\n    let dctCr = this.dct2d(srcCr, canvas1.width, canvas1.height, T, this.getQuantum2())\n    let dstCr = this.idct2d(dctCr, canvas1.width, canvas1.height, T, K)\n    let dctCb = this.dct2d(srcCb, canvas1.width, canvas1.height, T, this.getQuantum2())\n    let dstCb = this.idct2d(dctCb, canvas1.width, canvas1.height, T, K)\n\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let rgb = ycc2rgb(dstY[j], dstCr[j], dstCb[j]).map(e => {\n        if (e > 255) {\n          return 255\n        }\n        return e\n      })\n      dst1.data[i + 0] = rgb[0]\n      dst1.data[i + 1] = rgb[1]\n      dst1.data[i + 2] = rgb[2]\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n\n    let psnr = this.psnr(srcY, dstY, srcCr, dstCr, srcCb, dstCb, image.width, image.height)\n    this.showMessage(\n      JSON.stringify({\n        psnr,\n        bitrate: 1 * T * K ** 2 / (T ** 2)\n      }, null, '\\t')\n    )\n  }\n  /**\n   * 2次元離散フーリエ変換\n   * @param {Array} src 2次元配列\n   * @param {Number} imgWidth canvas width \n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   */\n  dct2d(src, imgWidth, imgHeight, T, Q) {\n    const W = imgWidth\n    const H = imgHeight\n    // const Q = this.getQuantum()\n    let dst = new Array(W * H).fill(0)\n    let theta = Math.PI / (2 * T)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let v = 0; v < T; v++) for (let u = 0; u < T; u++) {\n        let uvIdx = W * (v + yi) + (u + xi);\n        for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n          let xyIdx = W * (y + yi) + (x + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) *\n            Math.cos((2 * x + 1) * u * theta) *\n            Math.cos((2 * y + 1) * v * theta)\n          dst[uvIdx] += src[xyIdx] * w\n        }\n      }\n      // 量子化\n      let b = Array.from(new Array(T), () => new Array(T).fill(0))\n      for (let yj = yi, _y = 0; yj < yi + T; yj++ , _y++) for (let xj = xi, _x = 0; xj < xi + T; xj++ , _x++) {\n        b[_y][_x] = dst[W * yj + xj]\n      }\n      let m = math.dotDivide(b, Q).map(row => row.map(v => Math.round(v)))\n      m = math.dotMultiply(m, Q)\n      for (let yj = yi, _y = 0; yj < yi + T; yj++ , _y++) for (let xj = xi, _x = 0; xj < xi + T; xj++ , _x++) {\n        dst[W * yj + xj] = b[_y][_x]\n      }\n    }\n    return dst\n  }\n  /**\n   * 2次元離散逆フーリエ変換\n   * @param {Array} src\n   * @param {Number} imgWidth canvas width\n   * @param {Number} imgHeight canvas height\n   * @param {Number} T DCT係数\n   * @param {Number} K DCT係数\n   */\n  idct2d(src, imgWidth, imgHeight, T, K) {\n    const W = imgWidth\n    const H = imgHeight\n    let theta = Math.PI / (2 * T)\n    let dst = new Array(W * H).fill(0)\n    let k = 1 / Math.sqrt(2)\n    for (let yi = 0; yi < imgHeight; yi += T) for (let xi = 0; xi < imgWidth; xi += T) {\n      for (let y = 0; y < T; y++) for (let x = 0; x < T; x++) {\n        let xyIdx = W * (y + yi) + (x + xi);\n        for (let v = 0; v < K; v++) for (let u = 0; u < K; u++) {\n          let uvIdx = W * (v + yi) + (u + xi);\n          let cu = u === 0 ? k : 1\n          let cv = v === 0 ? k : 1\n          let w = (2 * cu * cv / T) * Math.cos((2 * x + 1) * u * theta) * Math.cos((2 * y + 1) * v * theta)\n          dst[xyIdx] += src[uvIdx] * w\n        }\n      }\n    }\n    return dst\n  }\n  /**\n   * @return {Array} quantum\n   */\n  /**\n   * @return {Array} quantum\n   */\n  getQuantum1() {\n    return [\n      [16, 11, 10, 16, 24, 40, 51, 61],\n      [12, 12, 14, 19, 26, 58, 60, 55],\n      [14, 13, 16, 24, 40, 57, 69, 56],\n      [14, 17, 22, 29, 51, 87, 80, 62],\n      [18, 22, 37, 56, 68, 109, 103, 77],\n      [24, 35, 55, 64, 81, 104, 113, 92],\n      [49, 64, 78, 87, 103, 121, 120, 101],\n      [72, 92, 95, 98, 112, 100, 103, 99]\n    ]\n  }\n  /**\n   * @return {Array} quantum\n   */\n  getQuantum2() {\n    return [\n      [17, 18, 24, 47, 99, 99, 99, 99],\n      [18, 21, 26, 66, 99, 99, 99, 99],\n      [24, 26, 56, 99, 99, 99, 99, 99],\n      [47, 66, 99, 99, 99, 99, 99, 99],\n      [99, 99, 99, 99, 99, 99, 99, 99],\n      [99, 99, 99, 99, 99, 99, 99, 99],\n      [99, 99, 99, 99, 99, 99, 99, 99],\n      [99, 99, 99, 99, 99, 99, 99, 99]\n    ]\n  }\n  /**\n   * psnr算出\n   * @param {Array} src 入力画像\n   * @param {Array} dst 出力画像\n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   */\n  psnr(srcY, dstY, srcCr, dstCr, srcCb, dstCb, imgWidth, imgHeight) {\n    let sum = 0\n    let data = [\n      [srcY, dstY],\n      [srcCr, dstCr],\n      [srcCb, dstCb],\n    ]\n    data.forEach(e => {\n      let src = e[0]\n      let dst = e[1]\n      for (let i = 0; i < src.length; i++) {\n        let d = Math.abs(src[i] - dst[i])\n        sum += d ** d\n      }\n    })\n    let mse = sum / (imgWidth * imgHeight)\n    let ans = Math.log10(255 ** 2 / mse)\n    return ans\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.41\n * Cannyエッジ検出 (Step.1) エッジ強度\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans41 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const gaussianKernel = this.getGaussianKernel(5, 1.4)\n    const KSV = [\n      [-1, -2, -1],\n      [0, 0, 0],\n      [1, 2, 1],\n    ]\n    const KSH = [\n      [-1, 0, 1],\n      [-2, 0, 2],\n      [-1, 0, 1],\n    ]\n    let ctx1 = canvas1.getContext(\"2d\");\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let dst2 = ctx2.createImageData(image.width, image.height)\n    let gray = []\n\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      gray.push(color)\n    }\n    let gaussian = new Array(image.width * image.height).fill(0)\n    let fx = new Array(image.width * image.height).fill(0)\n    let fy = new Array(image.width * image.height).fill(0)\n    let edge = new Array(image.width * image.height).fill(0)\n    let angle = new Array(image.width * image.height).fill(0)\n    this.adaptKernel(gray, gaussian, image.width, image.height, gaussianKernel)\n    this.adaptKernel(gaussian, fx, image.width, image.height, KSH)\n    this.adaptKernel(gaussian, fy, image.width, image.height, KSV)\n\n    for (let i = 0; i < fx.length; i++) {\n      edge[i] = Math.sqrt(Math.pow(fx[i], 2) + Math.pow(fy[i], 2))\n      if (edge[i] == 0) {\n        edge[i] = 1e-5\n      }\n      let t = Math.atan(fy[i] / fx[i])\n      if (-0.4142 < t && t <= 0.4142) angle[i] = 0\n      else if (0.4142 < t && t <= 2.4142) angle[i] = 45\n      else if (Math.abs(t) >= 2.4142) angle[i] = 90\n      else if (-2.4142 < t && t <= -0.4142) angle[i] = 135\n    }\n\n    for (let i = 0, j = 0; i < src1.data.length; i+= 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = edge[j]\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = angle[j]\n      dst1.data[i + 3] = dst2.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * ガウシアンカーネル生成\n   * @param {Number} kernelSize \n   * @param {Number} sigma \n   */\n  getGaussianKernel(kernelSize, sigma) {\n    const gaussian = (x, y, sigma) => Math.exp(-(x ** 2 + y ** 2) / (2 * sigma ** 2))\n    let w = 0\n    let kernel = Array.from(new Array(kernelSize), () => new Array(kernelSize).fill(0))\n\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      let _x = x - ~~(kernelSize / 2)\n      let _y = y - ~~(kernelSize / 2)\n      let g = gaussian(_x, _y, sigma)\n      kernel[y][x] = g\n      kernel[y][x] /= sigma * (Math.sqrt(2 * Math.PI))\n      w += kernel[y][x]\n    }\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      kernel[y][x] /= w\n    }\n    return kernel\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - ~~(kernelSize / 2)\n        let _j = j - ~~(kernelSize / 2)\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      dst[dstIdx] = k\n    }\n  }\n}\n","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.42\n * Cannyエッジ検出 (Step.2) 細線化\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans42 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const gaussianKernel = this.getGaussianKernel(5, 1.4)\n    const KSV = [\n      [-1, -2, -1],\n      [0, 0, 0],\n      [1, 2, 1],\n    ]\n    const KSH = [\n      [-1, 0, 1],\n      [-2, 0, 2],\n      [-1, 0, 1],\n    ]\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let gray = []\n\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      gray.push(color)\n    }\n    let gaussian = new Array(image.width * image.height).fill(0)\n    let fx = new Array(image.width * image.height).fill(0)\n    let fy = new Array(image.width * image.height).fill(0)\n    let edge = new Array(image.width * image.height).fill(0)\n    let angle = new Array(image.width * image.height).fill(0)\n    this.adaptKernel(gray, gaussian, image.width, image.height, gaussianKernel)\n    this.adaptKernel(gaussian, fx, image.width, image.height, KSH)\n    this.adaptKernel(gaussian, fy, image.width, image.height, KSV)\n\n    for (let i = 0; i < fx.length; i++) {\n      edge[i] = Math.sqrt(Math.pow(fx[i], 2) + Math.pow(fy[i], 2))\n      if (edge[i] == 0) {\n        edge[i] = 1e-5\n      }\n      let t = Math.atan(fy[i] / fx[i])\n      if (-0.4142 < t && t <= 0.4142) angle[i] = 0\n      else if (0.4142 < t && t <= 2.4142) angle[i] = 45\n      else if (Math.abs(t) >= 2.4142) angle[i] = 90\n      else if (-2.4142 < t && t <= -0.4142) angle[i] = 135\n    }\n\n    this.nonMaximumSuppression(edge, angle, image.width, image.height)\n\n    for (let i = 0, j = 0; i < src1.data.length; i+= 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = edge[j]\n      dst1.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * ガウシアンカーネル生成\n   * @param {Number} kernelSize \n   * @param {Number} sigma \n   */\n  getGaussianKernel(kernelSize, sigma) {\n    const gaussian = (x, y, sigma) => Math.exp(-(x ** 2 + y ** 2) / (2 * sigma ** 2))\n    let w = 0\n    let kernel = Array.from(new Array(kernelSize), () => new Array(kernelSize).fill(0))\n\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      let _x = x - ~~(kernelSize / 2)\n      let _y = y - ~~(kernelSize / 2)\n      let g = gaussian(_x, _y, sigma)\n      kernel[y][x] = g\n      kernel[y][x] /= sigma * (Math.sqrt(2 * Math.PI))\n      w += kernel[y][x]\n    }\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      kernel[y][x] /= w\n    }\n    return kernel\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - ~~(kernelSize / 2)\n        let _j = j - ~~(kernelSize / 2)\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      dst[dstIdx] = k\n    }\n  }\n  /**\n   * Non-maximum suppression(NMS)\n   * @param {Array} edge edge image\n   * @param {Array} angle angle array\n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   */\n  nonMaximumSuppression(edge, angle, imgWidth, imgHeight) {\n    const getIdx = (x, y) => x + y * imgWidth\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = getIdx(x, y)\n      let dx1, dy1, dx2, dy2\n      if (angle[idx] == 0 ) {\n        [dx1, dy1, dx2, dy2] = [-1, 0, 1, 0]\n      } else if (angle[idx] == 45) {\n        [dx1, dy1, dx2, dy2] = [-1, 1, 1, -1]\n      } else if (angle[idx] == 90) {\n        [dx1, dy1, dx2, dy2] = [0, -1, 0, 1]\n      } else if (angle[idx] == 135) {\n        [dx1, dy1, dx2, dy2] = [-1, -1, 1, 1]\n      }\n      if (x === 0 ){\n        dx1 = Math.max(dx1, 0)\n        dx2 = Math.max(dx2, 0)\n      }\n      if (x === imgWidth - 1) {\n        dx1 = Math.min(dx1, 0)\n        dx2 = Math.min(dx2, 0)\n      }\n      if (y === 0) {\n        dy1 = Math.max(dy1, 0)\n        dy2 = Math.max(dy2, 0)\n      }\n      if (y === imgHeight - 1) {\n        dy1 = Math.min(dy1, 0)\n        dy2 = Math.min(dy2, 0)\n      }\n      if (Math.max(edge[idx], edge[getIdx(x + dx1, y + dy1)], edge[getIdx(x + dx2, y + dy2)]) !== edge[idx]) {\n        edge[idx] = 0\n      }\n    }\n  }\n}\n","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.42\n * Cannyエッジ検出 (Step.2) 細線化\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans43 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const gaussianKernel = this.getGaussianKernel(5, 1.4)\n    const KSV = [\n      [-1, -2, -1],\n      [0, 0, 0],\n      [1, 2, 1],\n    ]\n    const KSH = [\n      [-1, 0, 1],\n      [-2, 0, 2],\n      [-1, 0, 1],\n    ]\n    const HT = 100\n    const LT = 30\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let gray = []\n\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      gray.push(color)\n    }\n    let gaussian = new Array(image.width * image.height).fill(0)\n    let fx = new Array(image.width * image.height).fill(0)\n    let fy = new Array(image.width * image.height).fill(0)\n    let edge = new Array(image.width * image.height).fill(0)\n    let angle = new Array(image.width * image.height).fill(0)\n    let out = new Array(image.width * image.height).fill(0)\n    this.adaptKernel(gray, gaussian, image.width, image.height, gaussianKernel)\n    this.adaptKernel(gaussian, fx, image.width, image.height, KSH)\n    this.adaptKernel(gaussian, fy, image.width, image.height, KSV)\n\n    for (let i = 0; i < fx.length; i++) {\n      edge[i] = Math.sqrt(Math.pow(fx[i], 2) + Math.pow(fy[i], 2))\n      if (edge[i] == 0) {\n        edge[i] = 1e-5\n      }\n      let t = Math.atan(fy[i] / fx[i])\n      if (-0.4142 < t && t <= 0.4142) angle[i] = 0\n      else if (0.4142 < t && t <= 2.4142) angle[i] = 45\n      else if (Math.abs(t) >= 2.4142) angle[i] = 90\n      else if (-2.4142 < t && t <= -0.4142) angle[i] = 135\n    }\n    this.nonMaximumSuppression(edge, angle, image.width, image.height)\n    this.histeresisThreshold(edge, out, image.width, image.height, HT, LT)\n\n    for (let i = 0, j = 0; i < src1.data.length; i += 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = out[j]\n      dst1.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * ガウシアンカーネル生成\n   * @param {Number} kernelSize \n   * @param {Number} sigma \n   */\n  getGaussianKernel(kernelSize, sigma) {\n    const gaussian = (x, y, sigma) => Math.exp(-(x ** 2 + y ** 2) / (2 * sigma ** 2))\n    let w = 0\n    let kernel = Array.from(new Array(kernelSize), () => new Array(kernelSize).fill(0))\n\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      let _x = x - ~~(kernelSize / 2)\n      let _y = y - ~~(kernelSize / 2)\n      let g = gaussian(_x, _y, sigma)\n      kernel[y][x] = g\n      kernel[y][x] /= sigma * (Math.sqrt(2 * Math.PI))\n      w += kernel[y][x]\n    }\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      kernel[y][x] /= w\n    }\n    return kernel\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - ~~(kernelSize / 2)\n        let _j = j - ~~(kernelSize / 2)\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      dst[dstIdx] = k\n    }\n  }\n  /**\n   * Non-maximum suppression(NMS)\n   * @param {Array} edge edge image\n   * @param {Array} angle angle array\n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   */\n  nonMaximumSuppression(edge, angle, imgWidth, imgHeight) {\n    const getIdx = (x, y) => x + y * imgWidth\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = getIdx(x, y)\n      let dx1, dy1, dx2, dy2\n      if (angle[idx] == 0) {\n        [dx1, dy1, dx2, dy2] = [-1, 0, 1, 0]\n      } else if (angle[idx] == 45) {\n        [dx1, dy1, dx2, dy2] = [-1, 1, 1, -1]\n      } else if (angle[idx] == 90) {\n        [dx1, dy1, dx2, dy2] = [0, -1, 0, 1]\n      } else if (angle[idx] == 135) {\n        [dx1, dy1, dx2, dy2] = [-1, -1, 1, 1]\n      }\n      if (x === 0) {\n        dx1 = Math.max(dx1, 0)\n        dx2 = Math.max(dx2, 0)\n      }\n      if (x === imgWidth - 1) {\n        dx1 = Math.min(dx1, 0)\n        dx2 = Math.min(dx2, 0)\n      }\n      if (y === 0) {\n        dy1 = Math.max(dy1, 0)\n        dy2 = Math.max(dy2, 0)\n      }\n      if (y === imgHeight - 1) {\n        dy1 = Math.min(dy1, 0)\n        dy2 = Math.min(dy2, 0)\n      }\n      if (Math.max(edge[idx], edge[getIdx(x + dx1, y + dy1)], edge[getIdx(x + dx2, y + dy2)]) !== edge[idx]) {\n        edge[idx] = 0\n      }\n    }\n  }\n  /**\n   * ヒステリシス閾処理\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Number} HT \n   * @param {Number} LT \n   */\n  histeresisThreshold(src, dst, imgWidth, imgHeight, HT, LT) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernel = [\n      [1, 1, 1],\n      [1, 0, 1],\n      [1, 1, 1],\n    ]\n    for (let i = 0; i < src.length; i++) {\n        if (src[i] >= HT) {\n          dst[i] = 255\n        } else if (src[i] <= LT) {\n          dst[i] = 0\n        } else {\n          dst[i] = src[i]\n        }\n    }\n    let kernelSize = kernel.length\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let idx = getIndex(x, y)\n      if ( HT < src[idx] || src[idx] < LT){\n        continue\n      }\n      let k = []\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - ~~(kernelSize / 2)\n        let _j = j - ~~(kernelSize / 2)\n        let _idx = getIndex((x + _j), (y + _i))\n        k.push(kernel[i][j] * src[_idx])\n      }\n      let max = Math.max(...k)\n      if (max >= HT) {\n        dst[idx] = 255\n      } else {\n        dst[idx] = 0\n      }\n    }\n  }\n}\n","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\nimport config from \"../configure\"\n/**\n * Q.44\n * Hough変換・直線検出 (Step.1) Hough変換\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans44 extends BaseTwoCanvasComponent {\n  /**\n   * 初期処理\n   */\n  init() {\n    this.setSrcImage(config.srcImage.thorino)\n  }\n  /**\n   * メイン\n   * @param {Object} canvas canvas object\n   * @param {Object} image image object \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const gaussianKernel = this.getGaussianKernel(5, 1.4)\n    const KSV = [\n      [-1, -2, -1],\n      [0, 0, 0],\n      [1, 2, 1],\n    ]\n    const KSH = [\n      [-1, 0, 1],\n      [-2, 0, 2],\n      [-1, 0, 1],\n    ]\n    const HT = 100\n    const LT = 30\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    // let dst1 = ctx1.createImageData(image.width, image.height)\n    let gray = []\n\n    for (let i = 0; i < src1.data.length; i += 4) {\n      let color = grayscale(\n        src1.data[i], src1.data[i + 1], src1.data[i + 2]\n      )\n      gray.push(color)\n    }\n    let gaussian = new Array(image.width * image.height).fill(0)\n    let fx = new Array(image.width * image.height).fill(0)\n    let fy = new Array(image.width * image.height).fill(0)\n    let edge = new Array(image.width * image.height).fill(0)\n    let angle = new Array(image.width * image.height).fill(0)\n    let out = new Array(image.width * image.height).fill(0)\n    this.adaptKernel(gray, gaussian, image.width, image.height, gaussianKernel)\n    this.adaptKernel(gaussian, fx, image.width, image.height, KSH)\n    this.adaptKernel(gaussian, fy, image.width, image.height, KSV)\n\n    for (let i = 0; i < fx.length; i++) {\n      edge[i] = Math.sqrt(Math.pow(fx[i], 2) + Math.pow(fy[i], 2))\n      if (edge[i] == 0) {\n        edge[i] = 1e-5\n      }\n      let t = Math.atan(fy[i] / fx[i])\n      if (-0.4142 < t && t <= 0.4142) angle[i] = 0\n      else if (0.4142 < t && t <= 2.4142) angle[i] = 45\n      else if (Math.abs(t) >= 2.4142) angle[i] = 90\n      else if (-2.4142 < t && t <= -0.4142) angle[i] = 135\n    }\n    this.nonMaximumSuppression(edge, angle, image.width, image.height)\n    this.histeresisThreshold(edge, out, image.width, image.height, HT, LT)\n    let [hough, dstWidth, dstHeight] = this.hough(out, image.width, image.height)\n\n    canvas1.width = dstWidth\n    canvas1.height = dstHeight\n    let dst1 = ctx1.createImageData(dstWidth, dstHeight)\n\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = hough[j]\n      dst1.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * ガウシアンカーネル生成\n   * @param {Number} kernelSize \n   * @param {Number} sigma \n   */\n  getGaussianKernel(kernelSize, sigma) {\n    const gaussian = (x, y, sigma) => Math.exp(-(x ** 2 + y ** 2) / (2 * sigma ** 2))\n    let w = 0\n    let kernel = Array.from(new Array(kernelSize), () => new Array(kernelSize).fill(0))\n\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      let _x = x - ~~(kernelSize / 2)\n      let _y = y - ~~(kernelSize / 2)\n      let g = gaussian(_x, _y, sigma)\n      kernel[y][x] = g\n      kernel[y][x] /= sigma * (Math.sqrt(2 * Math.PI))\n      w += kernel[y][x]\n    }\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      kernel[y][x] /= w\n    }\n    return kernel\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - ~~(kernelSize / 2)\n        let _j = j - ~~(kernelSize / 2)\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      dst[dstIdx] = k\n    }\n  }\n  /**\n   * Non-maximum suppression(NMS)\n   * @param {Array} edge edge image\n   * @param {Array} angle angle array\n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   */\n  nonMaximumSuppression(edge, angle, imgWidth, imgHeight) {\n    const getIdx = (x, y) => x + y * imgWidth\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = getIdx(x, y)\n      let dx1, dy1, dx2, dy2\n      if (angle[idx] == 0) {\n        [dx1, dy1, dx2, dy2] = [-1, 0, 1, 0]\n      } else if (angle[idx] == 45) {\n        [dx1, dy1, dx2, dy2] = [-1, 1, 1, -1]\n      } else if (angle[idx] == 90) {\n        [dx1, dy1, dx2, dy2] = [0, -1, 0, 1]\n      } else if (angle[idx] == 135) {\n        [dx1, dy1, dx2, dy2] = [-1, -1, 1, 1]\n      }\n      if (x === 0) {\n        dx1 = Math.max(dx1, 0)\n        dx2 = Math.max(dx2, 0)\n      }\n      if (x === imgWidth - 1) {\n        dx1 = Math.min(dx1, 0)\n        dx2 = Math.min(dx2, 0)\n      }\n      if (y === 0) {\n        dy1 = Math.max(dy1, 0)\n        dy2 = Math.max(dy2, 0)\n      }\n      if (y === imgHeight - 1) {\n        dy1 = Math.min(dy1, 0)\n        dy2 = Math.min(dy2, 0)\n      }\n      if (Math.max(edge[idx], edge[getIdx(x + dx1, y + dy1)], edge[getIdx(x + dx2, y + dy2)]) !== edge[idx]) {\n        edge[idx] = 0\n      }\n    }\n  }\n  /**\n   * ヒステリシス閾処理\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Number} HT \n   * @param {Number} LT \n   */\n  histeresisThreshold(src, dst, imgWidth, imgHeight, HT, LT) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernel = [\n      [1, 1, 1],\n      [1, 0, 1],\n      [1, 1, 1],\n    ]\n    for (let i = 0; i < src.length; i++) {\n        if (src[i] >= HT) {\n          dst[i] = 255\n        } else if (src[i] <= LT) {\n          dst[i] = 0\n        } else {\n          dst[i] = src[i]\n        }\n    }\n    let kernelSize = kernel.length\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let idx = getIndex(x, y)\n      if ( HT < src[idx] || src[idx] < LT){\n        continue\n      }\n      let k = []\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - ~~(kernelSize / 2)\n        let _j = j - ~~(kernelSize / 2)\n        let _idx = getIndex((x + _j), (y + _i))\n        k.push(kernel[i][j] * src[_idx])\n      }\n      let max = Math.max(...k)\n      if (max >= HT) {\n        dst[idx] = 255\n      } else {\n        dst[idx] = 0\n      }\n    }\n  }\n  /**\n   * \n   * @param {Array} src \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @return {Array} [hough, imgWidth, imgHeight]\n   */\n  hough(src, imgWidth, imgHeight) {\n    // let drho = 1\n    const dtheta = 1\n    const radMax = 180\n    const rhoMax = Math.ceil(Math.sqrt(imgHeight ** 2 + imgWidth ** 2))\n    let hough = new Array(rhoMax * radMax).fill(0)\n\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = y * imgHeight + x\n      if (src[idx] === 0) {\n        continue\n      }\n      for (let theta = 0; theta < radMax; theta += dtheta) {\n        let t = Math.PI / radMax * theta\n        let rho = ~~(x * Math.cos(t) + y * Math.sin(t))\n        hough[theta + rho * radMax] += 1\n      }\n    }\n    return [hough, radMax, rhoMax]\n  }\n}\n","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.47\n * モルフォロジー処理(膨張)\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans47 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx2.drawImage(image, 0, 0, image.width, image.height)\n    let dst2 = ctx2.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    // let mor1 = new Array(image.width * image.height).fill(0)\n    // let mor2 = new Array(image.width * image.height).fill(0)\n    let t = this.threshold(src1.data)\n    const kernel = [\n      [0, 1, 0],\n      [1, 0, 1],\n      [0, 1, 0],\n    ]\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let c = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n      bin[j] = c >= t ? 255 : 0\n    }\n    let mor1 = bin.slice()\n    this.adaptKernel(bin, mor1, image.width, image.height, kernel, (e) => {\n      if (e >= 255) return 255\n    })\n    let mor2 = mor1.slice()\n    this.adaptKernel(mor1, mor2, image.width, image.height, kernel, (e) => {\n      if (e >= 255) return 255\n    })\n\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = bin[j]\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = mor2[j]\n      dst1.data[i + 3] = 255\n      dst2.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 大津の2値化\n   * @param {ImageData} src\n   */\n  threshold(src) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let histgram = Array(256).fill(0)\n    let t = 0\n    let max = 0\n\n    for (let i = 0; i < src.length; i += 4) {\n      let g = ~~grayscale(src[i], src[i + 1], src[i + 2])\n      histgram[g]++\n    }\n\n    for (let i = 0; i < 256; i++) {\n      let w1 = 0\n      let w2 = 0\n      let sum1 = 0\n      let sum2 = 0\n      let m1 = 0\n      let m2 = 0\n      for (let j = 0; j <= i; ++j) {\n        w1 += histgram[j]\n        sum1 += j * histgram[j]\n      }\n      for (let j = i + 1; j < 256; ++j) {\n        w2 += histgram[j]\n        sum2 += j * histgram[j]\n      }\n      if (w1) {\n        m1 = sum1 / w1\n      }\n      if (w2) {\n        m2 = sum2 / w2\n      }\n      let tmp = (w1 * w2 * (m1 - m2) * (m1 - m2))\n      if (tmp > max) {\n        max = tmp\n        t = i\n      }\n    }\n    return t\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 1; x < imgWidth + 1; x++) for (let y = 1; y < imgHeight + 1; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let srcIdx = getIndex((x + i - d), (y + j - d))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      }\n    }\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n// import math from \"mathjs\"\n/**\n * Q.48\n * モルフォロジー処理(収縮)\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans48 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx2.drawImage(image, 0, 0, image.width, image.height)\n    let dst2 = ctx2.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    let t = this.threshold(src1.data)\n    const kernel = [\n      [0, 1, 0],\n      [1, 0, 1],\n      [0, 1, 0],\n    ]\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let c = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n      bin[j] = c >= t ? 255 : 0\n    }\n    let mor1 = bin.slice()\n    this.adaptKernel(bin, mor1, image.width, image.height, kernel, (e) => {\n      if (e < 255 * 4) return 0\n    })\n    let mor2 =  mor1.slice()\n    this.adaptKernel(mor1, mor2, image.width, image.height, kernel, (e) => {\n      if (e < 255 * 4) return 0\n    })\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = bin[j]\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = mor2[j]\n      dst1.data[i + 3] = 255\n      dst2.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 大津の2値化\n   * @param {ImageData} src\n   */\n  threshold(src) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let histgram = Array(256).fill(0)\n    let t = 0\n    let max = 0\n\n    for (let i = 0; i < src.length; i += 4) {\n      let g = ~~grayscale(src[i], src[i + 1], src[i + 2])\n      histgram[g]++\n    }\n\n    for (let i = 0; i < 256; i++) {\n      let w1 = 0\n      let w2 = 0\n      let sum1 = 0\n      let sum2 = 0\n      let m1 = 0\n      let m2 = 0\n      for (let j = 0; j <= i; ++j) {\n        w1 += histgram[j]\n        sum1 += j * histgram[j]\n      }\n      for (let j = i + 1; j < 256; ++j) {\n        w2 += histgram[j]\n        sum2 += j * histgram[j]\n      }\n      if (w1) {\n        m1 = sum1 / w1\n      }\n      if (w2) {\n        m2 = sum2 / w2\n      }\n      let tmp = (w1 * w2 * (m1 - m2) * (m1 - m2))\n      if (tmp > max) {\n        max = tmp\n        t = i\n      }\n    }\n    return t\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let srcIdx = getIndex((x + i - d), (y + j - d))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      // let tmp = [\n      //   [src[getIndex(x - 1, y - 1)], src[getIndex(x, y - 1,)], src[getIndex(x + 1, y - 1)]],\n      //   [src[getIndex(x - 1, y)], src[getIndex(x, y)], src[getIndex(x + 1, y)]],\n      //   [src[getIndex(x - 1, y + 1)], src[getIndex(x, y + 1)], src[getIndex(x + 1, y + 1)]],\n      // ]\n      // k = math.dotMultiply(tmp, kernel).reduce((pre,current) => {\n      //   pre.push(...current)\n      //   return pre\n      // },[]).reduce((prev, current) => {\n      //   return prev + current;\n      // })\n      let dstIdx = getIndex(x - 1, y - 1)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      }\n    }\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.49\n * オープニング処理\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans49 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx2.drawImage(image, 0, 0, image.width, image.height)\n    let dst2 = ctx2.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    let t = this.threshold(src1.data)\n    const kernel = [\n      [0, 1, 0],\n      [1, 0, 1],\n      [0, 1, 0],\n    ]\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      bin[j] = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2]) > t ? 255 : 0\n    }\n    let mor = bin.slice()\n    this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n      if (e < 255 * 4) return 0\n    })\n    this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n      if (e >= 255) return 255\n    })\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = bin[j]\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = mor[j]\n      dst1.data[i + 3] = 255\n      dst2.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * 大津の2値化\n   * @param {ImageData} src\n   */\n  threshold(src) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let histgram = Array(256).fill(0)\n    let t = 0\n    let max = 0\n\n    for (let i = 0; i < src.length; i += 4) {\n      let g = ~~grayscale(src[i], src[i + 1], src[i + 2])\n      histgram[g]++\n    }\n\n    for (let i = 0; i < 256; i++) {\n      let w1 = 0\n      let w2 = 0\n      let sum1 = 0\n      let sum2 = 0\n      let m1 = 0\n      let m2 = 0\n      for (let j = 0; j <= i; ++j) {\n        w1 += histgram[j]\n        sum1 += j * histgram[j]\n      }\n      for (let j = i + 1; j < 256; ++j) {\n        w2 += histgram[j]\n        sum2 += j * histgram[j]\n      }\n      if (w1) {\n        m1 = sum1 / w1\n      }\n      if (w2) {\n        m2 = sum2 / w2\n      }\n      let tmp = (w1 * w2 * (m1 - m2) * (m1 - m2))\n      if (tmp > max) {\n        max = tmp\n        t = i\n      }\n    }\n    return t\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    // dst = new Array(src.length).fill(0)\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let srcIdx = getIndex((x + i - d), (y + j - d))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      }\n    }\n  }\n}","import { BaseThreeCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.50\n * クロージング処理\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans50 extends BaseThreeCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, canvas2, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let ctx2 = canvas2.getContext(\"2d\");\n    ctx2.drawImage(image, 0, 0, image.width, image.height)\n    let dst2 = ctx2.createImageData(image.width, image.height)\n    let gray = new Array(image.width * image.height).fill(0)\n    const kernel = [\n      [0, 1, 0],\n      [1, 0, 1],\n      [0, 1, 0],\n    ]\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      gray[j] = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n    }\n    let bin = this.cannyEdge(gray, image.width, image.height)\n    let mor = bin.slice()\n    this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n      if (e >= 255) return 255\n    })\n    this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n      if (e < 255 * 4) return 0\n    })\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = bin[j]\n      dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = mor[j]\n      dst1.data[i + 3] = 255\n      dst2.data[i + 3] = 255\n    }\n\n    ctx1.putImageData(dst1, 0, 0)\n    ctx2.putImageData(dst2, 0, 0)\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback = null) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - d\n        let _j = j - d\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      } else{\n        dst[dstIdx] = k\n      }\n    }\n  }\n  /**\n   * ガウシアンカーネル生成\n   * @param {Number} kernelSize \n   * @param {Number} sigma \n   */\n  getGaussianKernel(kernelSize, sigma) {\n    const gaussian = (x, y, sigma) => Math.exp(-(x ** 2 + y ** 2) / (2 * sigma ** 2))\n    let w = 0\n    let kernel = Array.from(new Array(kernelSize), () => new Array(kernelSize).fill(0))\n    let d = Math.floor(kernelSize / 2)\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      let _x = x - d\n      let _y = y - d\n      let g = gaussian(_x, _y, sigma)\n      kernel[y][x] = g\n      kernel[y][x] /= sigma * (Math.sqrt(2 * Math.PI))\n      w += kernel[y][x]\n    }\n    for (let y = 0; y < kernelSize; y++) for (let x = 0; x < kernelSize; x++) {\n      kernel[y][x] /= w\n    }\n    return kernel\n  }\n  /**\n   * canny\n   */\n  cannyEdge(src, imgWidth, imgHeight,) {\n    const gaussianKernel = this.getGaussianKernel(5, 1.4)\n    const KSV = [\n      [-1, -2, -1],\n      [0, 0, 0],\n      [1, 2, 1],\n    ]\n    const KSH = [\n      [-1, 0, 1],\n      [-2, 0, 2],\n      [-1, 0, 1],\n    ]\n    const HT = 100\n    const LT = 30\n    let gaussian = new Array(imgWidth * imgHeight).fill(0)\n    let fx = new Array(imgWidth * imgHeight).fill(0)\n    let fy = new Array(imgWidth * imgHeight).fill(0)\n    let edge = new Array(imgWidth * imgHeight).fill(0)\n    let angle = new Array(imgWidth * imgHeight).fill(0)\n    let out = new Array(imgWidth * imgHeight).fill(0)\n    this.adaptKernel(src, gaussian, imgWidth, imgHeight, gaussianKernel)\n    this.adaptKernel(gaussian, fx, imgWidth, imgHeight, KSH)\n    this.adaptKernel(gaussian, fy, imgWidth, imgHeight, KSV)\n    for (let i = 0; i < fx.length; i++) {\n      edge[i] = Math.sqrt(Math.pow(fx[i], 2) + Math.pow(fy[i], 2))\n      if (edge[i] == 0) {\n        edge[i] = 1e-5\n      }\n      let t = Math.atan(fy[i] / fx[i])\n      if (-0.4142 < t && t <= 0.4142) angle[i] = 0\n      else if (0.4142 < t && t <= 2.4142) angle[i] = 45\n      else if (Math.abs(t) >= 2.4142) angle[i] = 90\n      else if (-2.4142 < t && t <= -0.4142) angle[i] = 135\n    }\n    this.nonMaximumSuppression(edge, angle, imgWidth, imgHeight)\n    this.histeresisThreshold(edge, out, imgWidth, imgHeight, HT, LT)\n    return out\n  }\n    /**\n   * Non-maximum suppression(NMS)\n   * @param {Array} edge edge image\n   * @param {Array} angle angle array\n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   */\n  nonMaximumSuppression(edge, angle, imgWidth, imgHeight) {\n    const getIdx = (x, y) => x + y * imgWidth\n    for (let y = 0; y < imgHeight; y++) for (let x = 0; x < imgWidth; x++) {\n      let idx = getIdx(x, y)\n      let dx1, dy1, dx2, dy2\n      if (angle[idx] == 0) {\n        [dx1, dy1, dx2, dy2] = [-1, 0, 1, 0]\n      } else if (angle[idx] == 45) {\n        [dx1, dy1, dx2, dy2] = [-1, 1, 1, -1]\n      } else if (angle[idx] == 90) {\n        [dx1, dy1, dx2, dy2] = [0, -1, 0, 1]\n      } else if (angle[idx] == 135) {\n        [dx1, dy1, dx2, dy2] = [-1, -1, 1, 1]\n      }\n      if (x === 0) {\n        dx1 = Math.max(dx1, 0)\n        dx2 = Math.max(dx2, 0)\n      }\n      if (x === imgWidth - 1) {\n        dx1 = Math.min(dx1, 0)\n        dx2 = Math.min(dx2, 0)\n      }\n      if (y === 0) {\n        dy1 = Math.max(dy1, 0)\n        dy2 = Math.max(dy2, 0)\n      }\n      if (y === imgHeight - 1) {\n        dy1 = Math.min(dy1, 0)\n        dy2 = Math.min(dy2, 0)\n      }\n      if (Math.max(edge[idx], edge[getIdx(x + dx1, y + dy1)], edge[getIdx(x + dx2, y + dy2)]) !== edge[idx]) {\n        edge[idx] = 0\n      }\n    }\n  }\n  /**\n   * ヒステリシス閾処理\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Number} HT \n   * @param {Number} LT \n   */\n  histeresisThreshold(src, dst, imgWidth, imgHeight, HT, LT) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernel = [\n      [1, 1, 1],\n      [1, 0, 1],\n      [1, 1, 1],\n    ]\n    for (let i = 0; i < src.length; i++) {\n        if (src[i] >= HT) {\n          dst[i] = 255\n        } else if (src[i] <= LT) {\n          dst[i] = 0\n        } else {\n          dst[i] = src[i]\n        }\n    }\n    let kernelSize = kernel.length\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let idx = getIndex(x, y)\n      if ( HT < src[idx] || src[idx] < LT){\n        continue\n      }\n      let k = []\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - ~~(kernelSize / 2)\n        let _j = j - ~~(kernelSize / 2)\n        let _idx = getIndex((x + _j), (y + _i))\n        k.push(kernel[i][j] * src[_idx])\n      }\n      let max = Math.max(...k)\n      if (max >= HT) {\n        dst[idx] = 255\n      } else {\n        dst[idx] = 0\n      }\n    }\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.51\n * モルフォロジー勾配\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans51 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    let erode = new Array(image.width * image.height).fill(0)\n    let dilate = new Array(image.width * image.height).fill(0)\n    let t = this.threshold(src1.data)\n    const kernel = [\n      [0, 1, 0],\n      [1, 0, 1],\n      [0, 1, 0],\n    ]\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      bin[j] = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2]) < t ? 0 : 255\n    }\n    this.adaptKernel(bin.slice(), erode, image.width, image.height, kernel, (e) => {\n      if (e < 255 * 4) return 0\n      else return 255\n    })\n    this.adaptKernel(bin.slice(), dilate, image.width, image.height, kernel, (e) => {\n      if (e >= 255) return 255\n    })\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let p = Math.abs(erode[j] - dilate[j])\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = p\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * 大津の2値化\n   * @param {ImageData} src\n   */\n  threshold(src) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let histgram = Array(256).fill(0)\n    let t = 0\n    let max = 0\n\n    for (let i = 0; i < src.length; i += 4) {\n      let g = ~~grayscale(src[i], src[i + 1], src[i + 2])\n      histgram[g]++\n    }\n\n    for (let i = 0; i < 256; i++) {\n      let w1 = 0\n      let w2 = 0\n      let sum1 = 0\n      let sum2 = 0\n      let m1 = 0\n      let m2 = 0\n      for (let j = 0; j <= i; ++j) {\n        w1 += histgram[j]\n        sum1 += j * histgram[j]\n      }\n      for (let j = i + 1; j < 256; ++j) {\n        w2 += histgram[j]\n        sum2 += j * histgram[j]\n      }\n      if (w1) {\n        m1 = sum1 / w1\n      }\n      if (w2) {\n        m2 = sum2 / w2\n      }\n      let tmp = (w1 * w2 * (m1 - m2) * (m1 - m2))\n      if (tmp > max) {\n        max = tmp\n        t = i\n      }\n    }\n    return t\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback = null) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - d\n        let _j = j - d\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      } else{\n        dst[dstIdx] = k\n      }\n    }\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.52\n * トップハット変換\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans52 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    const morphologyTime = 3\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    let bin = new Array(image.width * image.height).fill(0)\n    let t = this.threshold(src1.data)\n    const kernel = [\n      [0, 1, 0],\n      [1, 0, 1],\n      [0, 1, 0],\n    ]\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      bin[j] = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2]) < t ? 0 : 255\n    }\n    let mor = bin.slice()\n    for (let i = 0; i < morphologyTime; i++) {\n      this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n        if (e < 255 * 4) return 0\n      })\n    }\n    for (let i = 0; i < morphologyTime; i++) {\n      this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n        if (e >= 255) return 255\n      })\n    }\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let p = bin[j] - mor[j]\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = p\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * 大津の2値化\n   * @param {ImageData} src\n   */\n  threshold(src) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let histgram = Array(256).fill(0)\n    let t = 0\n    let max = 0\n\n    for (let i = 0; i < src.length; i += 4) {\n      let g = ~~grayscale(src[i], src[i + 1], src[i + 2])\n      histgram[g]++\n    }\n\n    for (let i = 0; i < 256; i++) {\n      let w1 = 0\n      let w2 = 0\n      let sum1 = 0\n      let sum2 = 0\n      let m1 = 0\n      let m2 = 0\n      for (let j = 0; j <= i; ++j) {\n        w1 += histgram[j]\n        sum1 += j * histgram[j]\n      }\n      for (let j = i + 1; j < 256; ++j) {\n        w2 += histgram[j]\n        sum2 += j * histgram[j]\n      }\n      if (w1) {\n        m1 = sum1 / w1\n      }\n      if (w2) {\n        m2 = sum2 / w2\n      }\n      let tmp = (w1 * w2 * (m1 - m2) * (m1 - m2))\n      if (tmp > max) {\n        max = tmp\n        t = i\n      }\n    }\n    return t\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback = null) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - d\n        let _j = j - d\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      } else{\n        dst[dstIdx] = k\n      }\n    }\n  }\n}","import { BaseTwoCanvasComponent } from \"./BaseComponents.js\"\n/**\n * Q.53\n * ブラックハット変換\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans53 extends BaseTwoCanvasComponent {\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas1, image) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let ctx1 = canvas1.getContext(\"2d\");\n    ctx1.drawImage(image, 0, 0, image.width, image.height)\n    let src1 = ctx1.getImageData(0, 0, image.width, image.height)\n    let dst1 = ctx1.createImageData(image.width, image.height)\n    const morphologyTime = 3\n    let bin = new Array(image.width * image.height).fill(0)\n    let t = this.threshold(src1.data)\n    const kernel = [\n      [0, 1, 0],\n      [1, 0, 1],\n      [0, 1, 0],\n    ]\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let g = grayscale(src1.data[i], src1.data[i + 1], src1.data[i + 2])\n      bin[j] = g < t ? 0 : 255\n    }\n    let mor = bin.slice()\n    for (let i = 0; i < morphologyTime; i++) {\n      this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n        if (e >= 255) return 255\n      })\n    }\n    for (let i = 0; i < morphologyTime; i++) {\n      this.adaptKernel(mor.slice(), mor, image.width, image.height, kernel, (e) => {\n        if (e < 255 * 4) return 0\n      })\n    }\n    for (let i = 0, j = 0; i < dst1.data.length; i += 4, j++) {\n      let p = mor[j] - bin[j]\n      dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = p\n      dst1.data[i + 3] = 255\n    }\n    ctx1.putImageData(dst1, 0, 0)\n  }\n  /**\n   * 大津の2値化\n   * @param {ImageData} src\n   */\n  threshold(src) {\n    const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n    let histgram = Array(256).fill(0)\n    let t = 0\n    let max = 0\n\n    for (let i = 0; i < src.length; i += 4) {\n      let g = ~~grayscale(src[i], src[i + 1], src[i + 2])\n      histgram[g]++\n    }\n\n    for (let i = 0; i < 256; i++) {\n      let w1 = 0\n      let w2 = 0\n      let sum1 = 0\n      let sum2 = 0\n      let m1 = 0\n      let m2 = 0\n      for (let j = 0; j <= i; ++j) {\n        w1 += histgram[j]\n        sum1 += j * histgram[j]\n      }\n      for (let j = i + 1; j < 256; ++j) {\n        w2 += histgram[j]\n        sum2 += j * histgram[j]\n      }\n      if (w1) {\n        m1 = sum1 / w1\n      }\n      if (w2) {\n        m2 = sum2 / w2\n      }\n      let tmp = (w1 * w2 * (m1 - m2) * (m1 - m2))\n      if (tmp > max) {\n        max = tmp\n        t = i\n      }\n    }\n    return t\n  }\n  /**\n   * フィルタを適用する\n   * @param {Array} src \n   * @param {Array} dst \n   * @param {Number} imgWidth \n   * @param {Number} imgHeight \n   * @param {Array} kernel \n   */\n  adaptKernel(src, dst, imgWidth, imgHeight, kernel, callback = null) {\n    const getIndex = (x, y) => {\n      x = Math.min(Math.max(x, 0), imgWidth - 1)\n      y = Math.min(Math.max(y, 0), imgHeight - 1)\n      return y * imgWidth + x\n    }\n    const kernelSize = kernel.length\n    let d = Math.floor(kernelSize / 2)\n    for (let x = 0; x < imgWidth; x++) for (let y = 0; y < imgHeight; y++) {\n      let k = 0\n      for (let i = 0; i < kernelSize; i++) for (let j = 0; j < kernelSize; j++) {\n        let _i = i - d\n        let _j = j - d\n        let srcIdx = getIndex((x + _j), (y + _i))\n        k += kernel[i][j] * src[srcIdx]\n      }\n      let dstIdx = getIndex(x, y)\n      if (callback != null) {\n        k = callback(k)\n        if (k !== undefined) {\n          dst[dstIdx] = k\n        }\n      } else{\n        dst[dstIdx] = k\n      }\n    }\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\nimport CanvasUtility from '@/lib/CanvasTools'\nimport config from \"../configure.js\"\n\n/**\n * Q.60\n * アルファブレンド\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans60 extends BaseThreeCanvasComponent {\n  /**\n   * DOMの初期処理\n   * \n   * @access private\n   * @param {Document} self \n   */\n  _initObject(self) {\n    let canvas1 = self.$refs[\"canvas1\"]\n    let canvas2 = self.$refs[\"canvas2\"]\n    let canvas3 = self.$refs[\"canvas3\"]\n    let button = self.$refs[\"button-run\"]\n\n    let imori = new Image()\n    imori.src = config.srcImage.default\n\n    let thorino = new Image()\n    thorino.src = config.srcImage.thorino\n\n    imori.addEventListener(\"load\", () => {\n      canvas1.width = canvas3.width = imori.width\n      canvas1.height = canvas3.height = imori.height\n    })\n\n    thorino.addEventListener(\"load\", () => {\n      canvas2.width = imori.width\n      canvas2.height = imori.height\n      canvas2.getContext(\"2d\").drawImage(thorino, 0, 0, imori.width, imori.height)\n    })\n\n    CanvasUtility.drawImage(canvas1, imori)\n\n    button.addEventListener(\"click\", () => {\n      this.main(canvas3, imori, thorino)\n    })\n  }\n  /**\n   * メイン\n   * @param {Object} canvas \n   * @param {Object} image \n   */\n  main(canvas, image1, image2) {\n    let ctx = canvas.getContext(\"2d\");\n    let width = image1.width\n    let height = image1.height\n    canvas.width = width\n    canvas.height = height\n    ctx.drawImage(image1, 0, 0, width, height)\n    let src1 = ctx.getImageData(0, 0, width, height)\n\n    ctx.drawImage(image2, 0, 0, width, height)\n    let src2 = ctx.getImageData(0, 0, width, height)\n\n    let dst = ctx.createImageData(canvas.width, canvas.height)\n\n    for (let i = 0; i < dst.data.length; i += 4) {\n      for (var j = 0; j < 3; j++) {\n        dst.data[i + j] = src1.data[i + j] / 2 + src2.data[i + j] / 2\n      }\n      dst.data[i + 3] = 255\n    }\n    ctx.putImageData(dst, 0, 0)\n  }\n}","import {BaseThreeCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.71\n * マスキング\n * @extends BaseThreeCanvasComponent\n */\nexport default class Ans71 extends BaseThreeCanvasComponent {\n    /**\n     * メイン\n     * @param {Object} canvas \n     * @param {Object} image \n     */\n    main(canvas1, canvas2, image) {\n      let ctx1 = canvas1.getContext(\"2d\");\n      let ctx2 = canvas2.getContext(\"2d\");\n      let width = image.width\n      let height = image.height\n  \n      canvas1.width = canvas2.width = width\n      canvas1.height = canvas2.height = height\n  \n      ctx1.drawImage(image, 0, 0, width, height)\n      ctx2.drawImage(image, 0, 0, width, height)\n      let src1 = ctx1.getImageData(0, 0, width, height)\n      let dst1 = ctx1.createImageData(canvas1.width, canvas1.height)\n      let src2 = ctx2.getImageData(0, 0, width, height)\n      let dst2 = ctx2.createImageData(canvas2.width, canvas2.height)\n  \n      for (let i = 0; i < src1.data.length; i += 4) {\n        let c = this.rgb2hsv([\n          src1.data[i],\n          src1.data[i + 1],\n          src1.data[i + 2],\n        ])\n        if (180 <= c[0] && c[0] <= 260) {\n          dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = 255\n        } else {\n          dst1.data[i] = dst1.data[i + 1] = dst1.data[i + 2] = 0\n        }\n        dst1.data[i + 3] = 255\n      }\n      ctx1.putImageData(dst1, 0, 0)\n  \n      for (let i = 0; i < src2.data.length; i += 4) {\n        if (dst1.data[i] === 0) {\n          dst2.data[i] = src2.data[i]\n          dst2.data[i + 1] = src2.data[i + 1]\n          dst2.data[i + 2] = src2.data[i + 2]\n        } else {\n          dst2.data[i] = dst2.data[i + 1] = dst2.data[i + 2] = 0\n        }\n        dst2.data[i + 3] = 255\n      }\n      ctx2.putImageData(dst2, 0, 0)\n    }\n    /**\n     * rgb -> hsv\n     * @param {Array} rgb\n     * @return {array} hsv\n     */\n    rgb2hsv(rgb) {\n      let r = rgb[0] / 255;\n      let g = rgb[1] / 255;\n      let b = rgb[2] / 255;\n  \n      let max = Math.max(r, g, b);\n      let min = Math.min(r, g, b);\n      let diff = max - min;\n  \n      let h = 0;\n  \n      switch (min) {\n        case max: h = 0; break;\n        case r: h = (60 * ((b - g) / diff)) + 180; break;\n        case g: h = (60 * ((r - b) / diff)) + 300; break;\n        case b: h = (60 * ((g - r) / diff)) + 60; break;\n      }\n  \n      let s = max == 0 ? 0 : diff / max;\n      let v = max;\n  \n      return [h, s, v];\n    }\n  }","import {BaseTwoCanvasComponent} from \"./BaseComponents.js\"\n/**\n * Q.73\n * マスキング\n * @extends BaseTwoCanvasComponent\n */\nexport default class Ans73 extends BaseTwoCanvasComponent {\n    /**\n     * メイン\n     * @param {Object} canvas \n     * @param {Object} image \n     */\n    main(canvas, image) {\n      const grayscale = (r, g, b) => 0.2126 * r + 0.7152 * g + 0.0722 * b\n      let ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(image, 0, 0, image.width, image.height)\n      let src = ctx.getImageData(0, 0, image.width, image.height)\n      let dst = ctx.createImageData(image.width, image.height)\n      for (let i = 0; i < src.data.length; i += 4) {\n        dst.data[i] = dst.data[i + 1] = dst.data[i + 2] = grayscale(\n          src.data[i], src.data[i + 1], src.data[i + 2]\n        )\n        dst.data[i + 3] = 255\n      }\n      ctx.putImageData(dst, 0, 0)\n      this.bilinear(canvas, 0.5)\n      this.bilinear(canvas, 2)\n    }\n    /**\n     * バイリニア補間\n     * @param {Object} canvas \n     * @param {scale} scale \n     */\n    bilinear(canvas, scale) {\n      const srcWidth = canvas.width\n      const srcHeight = canvas.height\n      const dstWidth = canvas.width * scale\n      const dstHeight = canvas.height * scale\n  \n      const getDstIndex = (x, y, channel) => {\n        x = Math.min(Math.max(x, 0), dstWidth - 1)\n        y = Math.min(Math.max(y, 0), dstHeight - 1)\n        return y * dstWidth * 4 + x * 4 + channel\n      }\n  \n      const getSrcIndex = (x, y, channel) => {\n        x = Math.min(Math.max(x, 0), srcWidth - 1)\n        y = Math.min(Math.max(y, 0), srcHeight - 1)\n        return y * srcHeight * 4 + x * 4 + channel\n      }\n  \n      const getWeight = (t1, t2) => {\n        const d = Math.abs(t1 - t2);\n        if (d > 1) {\n          return 0;\n        }\n        return 1 - d;\n      }\n  \n      let ctx = canvas.getContext(\"2d\");\n      let src = ctx.getImageData(0, 0, srcWidth, srcHeight)\n      let dst = ctx.createImageData(dstWidth, dstHeight)\n  \n      canvas.width = dstWidth\n      canvas.height = dstHeight\n  \n      const range = [0, 1]\n  \n      for (let x = 0; x < dstWidth; x++) for (let y = 0; y < dstHeight; y++) {\n        let _x = x / scale\n        let _y = y / scale\n        let rangeX = range.map(i => i + Math.floor(_x));\n        let rangeY = range.map(i => i + Math.floor(_y));\n        let r, g, b\n        r = g = b = 0\n  \n        for (let ry of rangeY) for (let rx of rangeX) {\n          let weight = getWeight(ry, _y) * getWeight(rx, _x)\n          r += src.data[getSrcIndex(~~rx, ~~ry, 0)] * weight\n          g += src.data[getSrcIndex(~~rx, ~~ry, 1)] * weight\n          b += src.data[getSrcIndex(~~rx, ~~ry, 2)] * weight\n        }\n        dst.data[getDstIndex(x, y, 0)] = ~~r\n        dst.data[getDstIndex(x, y, 1)] = ~~g\n        dst.data[getDstIndex(x, y, 2)] = ~~b\n        dst.data[getDstIndex(x, y, 3)] = 255\n      }\n      ctx.putImageData(dst, 0, 0)\n    }\n  }","\nimport Vue from 'vue'\nimport config from './configure'\nimport { BlankTemplate } from \"./templates\"\n\nimport Ans1 from './answers/Ans1.js'\nimport Ans2 from './answers/Ans2.js'\nimport Ans3 from './answers/Ans3.js'\nimport Ans4 from './answers/Ans4.js'\nimport Ans5 from './answers/Ans5.js'\nimport Ans6 from './answers/Ans6.js'\nimport Ans7 from './answers/Ans7.js'\nimport Ans8 from './answers/Ans8.js'\nimport Ans9 from './answers/Ans9.js'\nimport Ans10 from './answers/Ans10.js'\nimport Ans11 from './answers/Ans11.js'\nimport Ans12 from './answers/Ans12.js'\nimport Ans13 from './answers/Ans13.js'\nimport Ans14 from './answers/Ans14.js'\nimport Ans15 from './answers/Ans15.js'\nimport Ans16 from './answers/Ans16.js'\nimport Ans17 from './answers/Ans17.js'\nimport Ans18 from './answers/Ans18.js'\n// import Ans19 from './answers/Ans19.js'\nimport Ans20 from './answers/Ans20.js'\nimport Ans21 from './answers/Ans21.js'\nimport Ans22 from './answers/Ans22.js'\nimport Ans23 from './answers/Ans23.js'\nimport Ans24 from './answers/Ans24.js'\nimport Ans25 from './answers/Ans25.js'\nimport Ans26 from './answers/Ans26.js'\nimport Ans27 from './answers/Ans27.js'\nimport Ans28 from './answers/Ans28.js'\nimport Ans29 from './answers/Ans29.js'\nimport Ans30 from './answers/Ans30.js'\nimport Ans31 from './answers/Ans31.js'\nimport Ans32 from './answers/Ans32.js'\nimport Ans33 from './answers/Ans33.js'\nimport Ans34 from './answers/Ans34.js'\nimport Ans35 from './answers/Ans35.js'\nimport Ans36 from './answers/Ans36.js'\nimport Ans37 from './answers/Ans37.js'\nimport Ans38 from './answers/Ans38.js'\nimport Ans39 from './answers/Ans39.js'\nimport Ans40 from './answers/Ans40.js'\nimport Ans41 from './answers/Ans41.js'\nimport Ans42 from './answers/Ans42.js'\nimport Ans43 from './answers/Ans43.js'\nimport Ans44 from './answers/Ans44.js'\nimport Ans45 from './answers/Ans45.js'\n// import Ans46 from './answers/Ans46.js'\nimport Ans47 from './answers/Ans47.js'\nimport Ans48 from './answers/Ans48.js'\nimport Ans49 from './answers/Ans49.js'\nimport Ans50 from './answers/Ans50.js'\nimport Ans51 from './answers/Ans51.js'\nimport Ans52 from './answers/Ans52.js'\nimport Ans53 from './answers/Ans53.js'\n// import Ans54 from './answers/Ans54.js'\n// import Ans55 from './answers/Ans55.js'\n// import Ans56 from './answers/Ans56.js'\n// import Ans57 from './answers/Ans57.js'\n// import Ans58 from './answers/Ans58.js'\n// import Ans59 from './answers/Ans59.js'\nimport Ans60 from './answers/Ans60.js'\n// import Ans61 from './answers/Ans61.js'\n// import Ans62 from './answers/Ans62.js'\n// import Ans63 from './answers/Ans63.js'\n// import Ans64 from './answers/Ans64.js'\n// import Ans65 from './answers/Ans65.js'\n// import Ans66 from './answers/Ans66.js'\n// import Ans67 from './answers/Ans67.js'\n// import Ans68 from './answers/Ans68.js'\n// import Ans69 from './answers/Ans69.js'\n// import Ans70 from './answers/Ans70.js'\nimport Ans71 from './answers/Ans71.js'\n// import Ans72 from './answers/Ans72.js'\nimport Ans73 from './answers/Ans73.js'\n// import Ans74 from './answers/Ans74.js'\n// import Ans75 from './answers/Ans75.js'\n// import Ans76 from './answers/Ans76.js'\n// import Ans77 from './answers/Ans77.js'\n// import Ans78 from './answers/Ans78.js'\n// import Ans79 from './answers/Ans79.js'\n// import Ans80 from './answers/Ans80.js'\n// import Ans81 from './answers/Ans81.js'\n// import Ans82 from './answers/Ans82.js'\n// import Ans83 from './answers/Ans83.js'\n// import Ans84 from './answers/Ans84.js'\n// import Ans85 from './answers/Ans85.js'\n// import Ans86 from './answers/Ans86.js'\n// import Ans87 from './answers/Ans87.js'\n// import Ans88 from './answers/Ans88.js'\n// import Ans89 from './answers/Ans89.js'\n// import Ans90 from './answers/Ans90.js'\n// import Ans91 from './answers/Ans91.js'\n// import Ans92 from './answers/Ans92.js'\n// import Ans93 from './answers/Ans93.js'\n// import Ans94 from './answers/Ans94.js'\n// import Ans95 from './answers/Ans95.js'\n// import Ans96 from './answers/Ans96.js'\n// import Ans97 from './answers/Ans97.js'\n// import Ans98 from './answers/Ans98.js'\n// import Ans99 from './answers/Ans99.js'\n// import Ans100 from './answers/Ans100.js'\n\n\n\n\nconst componentMap = {\n  \"ans1\": new Ans1(),\n  \"ans2\": new Ans2(),\n  \"ans3\": new Ans3(),\n  \"ans4\": new Ans4(),\n  \"ans5\": new Ans5(),\n  \"ans6\": new Ans6(),\n  \"ans7\": new Ans7(),\n  \"ans8\": new Ans8(),\n  \"ans9\": new Ans9(),\n  \"ans10\": new Ans10(),\n  \"ans11\": new Ans11(),\n  \"ans12\": new Ans12(),\n  \"ans13\": new Ans13(),\n  \"ans14\": new Ans14(),\n  \"ans15\": new Ans15(),\n  \"ans16\": new Ans16(),\n  \"ans17\": new Ans17(),\n  \"ans18\": new Ans18(),\n  // \"ans19\": new Ans19(),\n  \"ans20\": new Ans20(),\n  \"ans21\": new Ans21(),\n  \"ans22\": new Ans22(),\n  \"ans23\": new Ans23(),\n  \"ans24\": new Ans24(),\n  \"ans25\": new Ans25(),\n  \"ans26\": new Ans26(),\n  \"ans27\": new Ans27(),\n  \"ans28\": new Ans28(),\n  \"ans29\": new Ans29(),\n  \"ans30\": new Ans30(),\n  \"ans31\": new Ans31(),\n  \"ans32\": new Ans32(),\n  \"ans33\": new Ans33(),\n  \"ans34\": new Ans34(),\n  \"ans35\": new Ans35(),\n  \"ans36\": new Ans36(),\n  \"ans37\": new Ans37(),\n  \"ans38\": new Ans38(),\n  \"ans39\": new Ans39(),\n  \"ans40\": new Ans40(),\n  \"ans41\": new Ans41(),\n  \"ans42\": new Ans42(),\n  \"ans43\": new Ans43(),\n  \"ans44\": new Ans44(),\n  // \"ans45\": new Ans45(),\n  // \"ans46\": new Ans46(),\n  \"ans47\": new Ans47(),\n  \"ans48\": new Ans48(),\n  \"ans49\": new Ans49(),\n  \"ans50\": new Ans50(),\n  \"ans51\": new Ans51(),\n  \"ans52\": new Ans52(),\n  \"ans53\": new Ans53(),\n  // \"ans54\": new Ans54(),\n  // \"ans55\": new Ans55(),\n  // \"ans56\": new Ans56(),\n  // \"ans57\": new Ans57(),\n  // \"ans58\": new Ans58(),\n  // \"ans59\": new Ans59(),\n  \"ans60\": new Ans60(),\n  // \"ans61\": new Ans61(),\n  // \"ans62\": new Ans62(),\n  // \"ans63\": new Ans63(),\n  // \"ans64\": new Ans64(),\n  // \"ans65\": new Ans65(),\n  // \"ans66\": new Ans66(),\n  // \"ans67\": new Ans67(),\n  // \"ans68\": new Ans68(),\n  // \"ans69\": new Ans69(),\n  // \"ans70\": new Ans70(),\n  \"ans71\": new Ans71(),\n  // \"ans72\": new Ans72(),\n  \"ans73\": new Ans73(),\n  // \"ans74\": new Ans74(),\n  // \"ans75\": new Ans75(),\n  // \"ans76\": new Ans76(),\n  // \"ans77\": new Ans77(),\n  // \"ans78\": new Ans78(),\n  // \"ans79\": new Ans79(),\n  // \"ans80\": new Ans80(),\n  // \"ans81\": new Ans81(),\n  // \"ans82\": new Ans82(),\n  // \"ans83\": new Ans83(),\n  // \"ans84\": new Ans84(),\n  // \"ans85\": new Ans85(),\n  // \"ans86\": new Ans86(),\n  // \"ans87\": new Ans87(),\n  // \"ans88\": new Ans88(),\n  // \"ans89\": new Ans89(),\n  // \"ans90\": new Ans90(),\n  // \"ans91\": new Ans91(),\n  // \"ans92\": new Ans92(),\n  // \"ans93\": new Ans93(),\n  // \"ans94\": new Ans94(),\n  // \"ans95\": new Ans95(),\n  // \"ans96\": new Ans96(),\n  // \"ans97\": new Ans97(),\n  // \"ans98\": new Ans98(),\n  // \"ans99\": new Ans99(),\n  // \"ans100\": new Ans100(),  \n}\n\n/**\n * 画像処理クラスからVueコンポーネントを作成\n * @param {String} name Component Name\n * @param {Object} obj Image processing class\n * @return {Object} Vue Component\n */\nconst makeComponent = (name, obj) => {\n  return Vue.component(name, {\n    name: name,\n    data() {\n      return {\n        srcImages:config.srcImageOption,\n        selected:'',\n      }\n    },\n    methods: {\n      setImage() {\n        obj.setSrcImage(this.selected)\n        obj._initObject(this)\n      }\n    },\n    mounted() {\n      obj.init(this)\n      obj._initObject(this)\n    },\n    template: `\n    <div>\n      <div style=\"width=100%;text-align:right\">\n        <select v-model=\"selected\" v-on:change=\"setImage()\">\n          <option v-for=\"option in srcImages\" v-bind:value=\"option.src\" >\n            {{ option.label }}\n          </option>\n        </select>\n      </div>\n      <div style=\"width=100%;text-align:center\">\n        ${obj.getTemplate()}\n      </div>\n    </div>`,\n  })\n}\n\nexport default (() => {\n  let exportComponents = {};\n  for (let i = 1; i <= 100; i++) {\n    let key = `ans${i}`\n    let obj = componentMap[key]\n    if (!componentMap[key]) {\n      exportComponents[key] = Vue.component(key, {\n        template: `\n        <div style=\"width=100%;text-align:center\">\n          ${BlankTemplate}\n        </div>`,\n      })\n    } else {\n      exportComponents[key] = makeComponent(key, obj)\n    }\n  }\n  return exportComponents\n})()","export default {\n  ans1: {\n    title: \"チャンネル入れ替え\",\n    desc: `画像を読み込み、RGBをBGRの順に入れ替える。左の画像が入力画像。右の画像が処理後の画像。`\n  },\n  ans2: {\n    title: \"グレースケール\",\n    desc: `画像の輝度表現方法の一種であり次の式で計算される。\n    <code>Y = 0.2126 R + 0.7152 G + 0.0722 B</code>`\n  },\n  ans3: {\n    title: \"二値化\",\n    desc: \"\",\n  },\n  ans4: {\n    title: \"大津の二値化\",\n    desc: \"\",\n  },\n  ans5: {\n    title: \"HSV変換\",\n    desc: \"\",\n  },\n  ans6: {\n    title: \"減色処理\",\n    desc: \"\",\n  },\n  ans7: {\n    title: \"平均プーリング\",\n    desc: \"\",\n  },\n  ans8: {\n    title: \"Maxプーリング\",\n    desc: \"\",\n  },\n  ans9: {\n    title: \"ガウシアンフィルタ\",\n    desc: \"\",\n  },\n  ans10: {\n    title: \"メディアンフィルタ\",\n    desc: \"\",\n  },\n  ans11: {\n    title: \"平滑化フィルタ\",\n    desc: \"\",\n  },\n  ans12: {\n    title: \"モーションフィルタ\",\n    desc: \"\",\n  },\n  ans13: {\n    title: \"MAX-MINフィルタ\",\n    desc: \"\",\n  },\n  ans14: {\n    title: \"微分フィルタ\",\n    desc: \"\",\n  },\n  ans15: {\n    title: \"Sobelフィルタ\",\n    desc: \"\",\n  },\n  ans16: {\n    title: \"Prewittフィルタ\",\n    desc: \"\",\n  },\n  ans17: {\n    title: \"Laplacianフィルタ\",\n    desc: \"\",\n  },\n  ans18: {\n    title: \"Embossフィルタ\",\n    desc: \"\",\n  },\n  ans19: {\n    title: \"LoGフィルタ\",\n    desc: \"\",\n  },\n  ans20: {\n    title: \"ヒストグラム表示\",\n    desc: \"\",\n  },\n  ans21: {\n    title: \"ヒストグラム正規化\",\n    desc: \"\",\n  },\n  ans22: {\n    title: \"ヒストグラム操作\",\n    desc: \"\",\n  },\n  ans23: {\n    title: \"ヒストグラム平坦化\",\n    desc: \"\",\n  },\n  ans24: {\n    title: \"ガンマ補正\",\n    desc: \"\",\n  },\n  ans25: {\n    title: \"最近傍補間\",\n    desc: \"\",\n  },\n  ans26: {\n    title: \"Bi-linear補間\",\n    desc: \"\",\n  },\n  ans27: {\n    title: \"Bi-cubic補間\",\n    desc: \"\",\n  },\n  ans28: {\n    title: \"アフィン変換(平行移動)\",\n    desc: \"\",\n  },\n  ans29: {\n    title: \"アフィン変換(拡大縮小)\",\n    desc: \"\",\n  },\n  ans30: {\n    title: \"アフィン変換(回転)\",\n    desc: \"\",\n  },\n  ans31: {\n    title: \"アフィン変換(スキュー)\",\n    desc: \"\",\n  },\n  ans32: {\n    title: \"フーリエ変換\",\n    desc: \"※結果算出までの時間が環境によっては1分以上かかります\",\n  },\n  ans33: {\n    title: \"フーリエ変換 ローパスフィルタ\",\n    desc: \"※結果算出までの時間が環境によっては1分以上かかります\",\n  },\n  ans34: {\n    title: \"フーリエ変換 ハイパスフィルタ\",\n    desc: \"※結果算出までの時間が環境によっては1分以上かかります\",\n  },\n  ans35: {\n    title: \"フーリエ変換 バンドパスフィルタ\",\n    desc: \"※結果算出までの時間が環境によっては1分以上かかります\",\n  },\n  ans36: {\n    title: \"JPEG圧縮 (Step.1)離散コサイン変換\",\n    desc: \"\",\n  },\n  ans37: {\n    title: \"PSNR\",\n    desc: \"\",\n  },\n  ans38: {\n    title: \"JPEG圧縮 (Step.2)DCT+量子化\",\n    desc: \"\",\n  },\n  ans39: {\n    title: \"JPEG圧縮 (Step.3)YCbCr表色系\",\n    desc: \"\",\n  },\n  ans40: {\n    title: \"JPEG圧縮 (Step.4)YCbCr+DCT+量子化\",\n    desc: \"\",\n  },\n  ans41: {\n    title: \"Cannyエッジ検出 (Step.1) エッジ強度\",\n    desc: \"\",\n  },\n  ans42: {\n    title: \"Cannyエッジ検出 (Step.2) 細線化\",\n    desc: \"\",\n  },\n  ans43: {\n    title: \"Cannyエッジ検出 (Step.3) ヒステリシス閾処理\",\n    desc: \"\",\n  },\n  ans44: {\n    title: \"Hough変換・直線検出 (Step.1) Hough変換\",\n    desc: \"\",\n  },\n  ans45: {\n    title: \"Hough変換・直線検出 (Step.2) NMS\",\n    desc: \"\",\n  },\n  ans46: {\n    title: \"Hough変換・直線検出 (Step.3) Hough逆変換\",\n    desc: \"\",\n  },\n  ans47: {\n    title: \"モルフォロジー処理(膨張)\",\n    desc: \"\",\n  },\n  ans48: {\n    title: \"モルフォロジー処理(収縮)\",\n    desc: \"\",\n  },\n  ans49: {\n    title: \"オープニング処理\",\n    desc: \"\",\n  },\n  ans50: {\n    title: \"クロージング処理\",\n    desc: \"\",\n  },\n  ans51: {\n    title: \"モルフォロジー勾配\",\n    desc: \"\",\n  },\n  ans52: {\n    title: \"トップハット変換\",\n    desc: \"\",\n  },\n  ans53: {\n    title: \"ブラックハット変換\",\n    desc: \"\",\n  },\n  ans60: {\n    title: \"アルファブレンド\",\n    desc: \"\",\n  },\n  ans71: {\n    title: \"マスキング\",\n    desc: \"\",\n  },\n  ans73: {\n    title: \"縮小と拡大\",\n    desc: \"\",\n  },\n}","import ItemComponent from '@/components/questions/component.js'\nimport description from '@/components/questions/description.js'\n\nconst branch = \"/questions/\" \nlet exportRoutes = []\n\nfor (let key in ItemComponent) {\n    exportRoutes.push(\n        {\n            path: branch + key ,\n            name: key,\n            title: description[key] ? description[key].title : '',\n            desc: description[key] ? description[key].desc : '',\n            component: ItemComponent[key]\n        }\n    )\n}\n\nexport default exportRoutes\n","<template>\n  <div>\n    <h2>問題一覧</h2>\n    <ul v-for=\"item in questionLinks\" :key=\"item.name\">\n      <li>\n        <router-link :to=\"{path:item.path}\">\n          Q.{{item.name.split(\"ans\").join(\"\")}} {{item.title}}\n          <div v-if=\"Number(item.name.split('ans').join('')) % 10 === 0\">\n            <hr>\n          </div>\n        </router-link>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport ItemComponent from '@/router/questions.js'\n\nexport default {\n  name: 'List',\n  data () {\n    return {\n      questionLinks : ItemComponent\n    }\n  },\n}\n</script>\n\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  /* display: inline-block; */\n  margin: 0 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=3cf06ee1&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=3cf06ee1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cf06ee1\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('h2',[_vm._v(\"概要\")]),_vm._v(\"\\n  画像処理100本ノック\\n  \"),_c('a',{attrs:{\"href\":\"https://github.com/yoyoyo-yo/Gasyori100knock\"}},[_vm._v(\"https://github.com/yoyoyo-yo/Gasyori100knock\")]),_vm._v(\"\\n  を\\n  JavaScriptで解いてみました。\\n  \"),_c('h2',[_vm._v(\"問題一覧\")]),_c('router-link',{attrs:{\"to\":\"/list\"}},[_vm._v(\"問題一覧\")]),_c('h2',[_vm._v(\"関連リンク\")]),_vm._m(0),_c('h2',[_vm._v(\"参考\")]),_vm._m(1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/s-yoshiki/Gasyori100knockJS\"}},[_vm._v(\"\\n        GitHub: Gasyori100knockJS - 画像処理100本ノックJS\\n      \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('blockquote',[_vm._v(\"\\n    yoyoyo-yo. Gasyori100knock(画像処理100本ノック) \\n    \"),_c('br'),_c('a',{attrs:{\"href\":\"https://github.com/yoyoyo-yo/Gasyori100knock\"}},[_vm._v(\"https://github.com/yoyoyo-yo/Gasyori100knock\")]),_c('br'),_vm._v(\"\\n    2019\\n  \")])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <h2>概要</h2>\n    画像処理100本ノック\n    <a\n      href=\"https://github.com/yoyoyo-yo/Gasyori100knock\"\n    >https://github.com/yoyoyo-yo/Gasyori100knock</a>\n    を\n    JavaScriptで解いてみました。\n    <h2>問題一覧</h2>\n    <router-link to=\"/list\">問題一覧</router-link>\n    <h2>関連リンク</h2>\n    <ul>\n      <li>\n        <a href=\"https://github.com/s-yoshiki/Gasyori100knockJS\">\n          GitHub: Gasyori100knockJS - 画像処理100本ノックJS\n        </a>\n      </li>\n    </ul>\n    <h2>参考</h2>\n    <blockquote>\n      yoyoyo-yo. Gasyori100knock(画像処理100本ノック) \n      <br>\n      <a href=\"https://github.com/yoyoyo-yo/Gasyori100knock\">https://github.com/yoyoyo-yo/Gasyori100knock</a>\n      <br>\n      2019\n    </blockquote>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"Root\"\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Root.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Root.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Root.vue?vue&type=template&id=d8e2a5d4&\"\nimport script from \"./Root.vue?vue&type=script&lang=js&\"\nexport * from \"./Root.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('br'),_c('h3',[_vm._v(_vm._s(\"Q\" + _vm.screenSeq + \".\" + _vm.title))]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.description)}}),_c('br'),_c('div',{ref:\"main\",staticClass:\"main\"},[_c('router-view')],1),_c('br'),_c('div',{staticClass:\"boxContainer\"},[_c('div',{staticClass:\"box\"},[_c('a',{attrs:{\"href\":_vm.pageNation.last},on:{\"click\":function($event){return _vm.movePage()}}},[_vm._v(_vm._s(_vm.pageNation.lastLabel)+\" \")])]),_c('div',{staticClass:\"box\"},[_c('a',{attrs:{\"href\":_vm.pageNation.next},on:{\"click\":function($event){return _vm.movePage()}}},[_vm._v(_vm._s(_vm.pageNation.nextLabel)+\" \")])])]),_c('br'),_c('hr'),_c('br'),_c('div',_vm._l((_vm.questionLinks),function(item){return _c('ul',{key:item.name},[_c('li',[(item.name === _vm.screenId)?_c('span',[_vm._v(\"\\n          Q.\"+_vm._s(item.name.split(\"ans\").join(\"\"))+\" \"+_vm._s(item.title)+\"\\n        \")]):_c('span',[_c('router-link',{attrs:{\"to\":{path:item.path},\"click\":_vm.movePage()}},[_vm._v(\"\\n            Q.\"+_vm._s(item.name.split(\"ans\").join(\"\"))+\" \"+_vm._s(item.title)+\"\\n          \")])],1),(Number(item.name.split('ans').join('')) % 10 === 0)?_c('div',[_c('hr')]):_vm._e()])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <br>\n    <h3>{{\"Q\" + screenSeq + \".\" + title}}</h3>\n    <div v-html=\"description\"></div>\n    <br>\n    <div ref=\"main\" class=\"main\">\n      <router-view/>\n    </div>\n    <br>\n    <div class=\"boxContainer\">\n      <div class=\"box\">\n        <a v-bind:href=\"pageNation.last\" v-on:click=\"movePage()\">{{pageNation.lastLabel}}&nbsp;</a>\n      </div>\n      <div class=\"box\">\n        <a v-bind:href=\"pageNation.next\" v-on:click=\"movePage()\">{{pageNation.nextLabel}}&nbsp;</a>\n      </div>\n    </div>\n    <br>\n    <hr>\n    <br>\n    <div>\n      <ul v-for=\"item in questionLinks\" :key=\"item.name\">\n        <li>\n          <span v-if=\"item.name === screenId\">\n            Q.{{item.name.split(\"ans\").join(\"\")}} {{item.title}}\n          </span>\n          <span v-else>\n            <router-link :to=\"{path:item.path}\" :click=\"movePage()\">\n              Q.{{item.name.split(\"ans\").join(\"\")}} {{item.title}}\n            </router-link>\n          </span>\n          <div v-if=\"Number(item.name.split('ans').join('')) % 10 === 0\">\n            <hr>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport description from \"./questions/description.js\";\nimport ItemComponent from \"@/router/questions.js\";\nexport default {\n  name: \"Question\",\n  data() {\n    return {\n      title: \"\",\n      description: \"\",\n      screenId: \"\",\n      screenSeq: \"\",\n      pageNation: {\n        next: \"\",\n        nextLabel: \"\",\n        last: \"\",\n        lastLabel: \"\"\n      },\n      questionLinks: ItemComponent\n    };\n  },\n  methods: {\n    init: function(seq) {\n      if (!seq) {\n        let parser = new URL(location.href);\n        this.screenId = parser.hash.split(\"/\").pop();\n        this.screenSeq = Number(this.screenId.split(\"ans\").join(\"\"));\n      } else {\n        this.screenId = \"ans\" + seq;\n        this.screenSeq = seq;\n      }\n      if (!(1 <= this.screenSeq && this.screenSeq <= 100)) {\n        location.href = \"#/list\";\n      }\n      this.makeDescription();\n      this.makePage();\n    },\n    movePage: function() {\n      this.init();\n    },\n    makePage: function() {\n      if (this.screenSeq > 1) {\n        let title = \"\"\n        let key = \"ans\" + Number(this.screenSeq - 1)\n        if (description[key]) {\n          title = description[key].title\n        }\n        this.pageNation.last = `#/questions/ans${this.screenSeq - 1}`;\n        this.pageNation.lastLabel = `Q.${this.screenSeq - 1} ` + title;\n      } else {\n        this.pageNation.lastLabel = \"\"\n      }\n      if (this.screenSeq < 100) {\n        let title = \"\"\n        let key = \"ans\" + Number(this.screenSeq + 1)\n        if (description[key]) {\n          title = description[key].title\n        }\n        this.pageNation.next = `#/questions/ans${this.screenSeq + 1}`;\n        this.pageNation.nextLabel = `Q.${this.screenSeq + 1} ` + title;\n      } else {\n        this.pageNation.nextLabel = \"\"\n      }\n    },\n    makeDescription() {\n      if (!description[this.screenId]) {\n        this.title = \"\";\n        this.description = \"\";\n        return;\n      }\n      this.title = description[this.screenId].title;\n      this.description = description[this.screenId].desc;\n    }\n  },\n  created() {\n    this.init();\n  }\n};\n</script>\n\n<style>\n.box {\n  float: left;\n  width: 50%;\n}\n\n.boxContainer {\n  width: 100%;\n  overflow: hidden;\n  text-align: center;\n}\n\n.msg {\n  text-align: left;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Question.vue?vue&type=template&id=a434e51c&\"\nimport script from \"./Question.vue?vue&type=script&lang=js&\"\nexport * from \"./Question.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Question.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport List from '@/components/List'\nimport Root from '@/components/Root'\nimport Question from '@/components/Question'\nimport Questions from './questions'\n\nlet routes = [\n  {\n    path: '/',\n    name: 'root',\n    component: Root\n  },\n  {\n    path: '/list',\n    name: 'List',\n    component: List\n  },\n  {\n    path: '/questions/:id',\n    name: 'Question',\n    component: Question,\n    children: []\n  },\n  {\n    path: '/reset',\n    redirect: '/questions/ans1'\n  }\n]\n\nQuestions.forEach(e => {\n  routes[2].children.push(e)\n})\n\nVue.use(Router)\n\nexport default new Router({\n  // mode: 'history', //urlの間に#を挟まない\n  routes: routes\n})\n","/* eslint-disable no-new */\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router/index.js'\nimport VueAnalytics from 'vue-analytics'\n\nVue.config.productionTip = false\n\n// google analyticsのSPA対応\nVue.use(VueAnalytics, {\n  id: 'UA-103231688-4',\n  router\n})\n\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n"],"sourceRoot":""}