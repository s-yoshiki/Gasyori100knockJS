(function(t){function a(a){for(var r,h,o=a[0],c=a[1],d=a[2],s=0,f=[];s<o.length;s++)h=o[s],n[h]&&f.push(n[h][0]),n[h]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(a);while(f.length)f.shift()();return i.push.apply(i,d||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],r=!0,o=1;o<e.length;o++){var c=e[o];0!==n[c]&&(r=!1)}r&&(i.splice(a--,1),t=h(h.s=e[0]))}return t}var r={},n={app:0},i=[];function h(a){if(r[a])return r[a].exports;var e=r[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,h),e.l=!0,e.exports}h.m=t,h.c=r,h.d=function(t,a,e){h.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},h.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},h.t=function(t,a){if(1&a&&(t=h(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(h.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var r in t)h.d(e,r,function(a){return t[a]}.bind(null,r));return e},h.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return h.d(a,"a",a),a},h.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},h.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=a,o=o.slice();for(var d=0;d<o.length;d++)a(o[d]);var u=c;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";var r=e("64a9"),n=e.n(r);n.a},"15ff":function(t,a,e){"use strict";var r=e("1714"),n=e.n(r);n.a},1714:function(t,a,e){},"33a8":function(t,a,e){"use strict";var r=e("f6d3"),n=e.n(r);n.a},4678:function(t,a,e){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var a=i(t);return e(a)}function i(t){var a=r[t];if(!(a+1)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a}n.keys=function(){return Object.keys(r)},n.resolve=i,t.exports=n,n.id="4678"},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("f751"),e("097d");var r=e("a026"),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[t.header?e("header",[t._m(0)]):t._e(),e("router-view"),t.footer?e("footer",[e("br"),e("ul",[e("li",[e("router-link",{attrs:{to:"/"}},[t._v("ホーム")])],1),e("li",[e("router-link",{attrs:{to:"/list"}},[t._v("問題一覧")])],1)])]):t._e()],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"header-container"},[e("h1",[e("a",{staticClass:"title",attrs:{href:"#/"}},[t._v("画像処理100本ノックJS")])])])}],h={name:"App",data:function(){return{header:!0,footer:!0}},methods:{iframeInit:function(){/questions\/ans([0-9]|[0-9][0-9])\/iframe/.test(location.href)?(this.header=!1,this.footer=!1):(this.header=!0,this.footer=!0)}},watch:{$route:function(t,a){t.path!==a.path&&this.iframeInit()}},created:function(){this.iframeInit()},mounted:function(){this.iframeInit()}},o=h,c=(e("034f"),e("2877")),d=Object(c["a"])(o,n,i,!1,null,null,null),u=d.exports,s=e("8c4f"),f=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h2",[t._v("問題一覧")]),e("QuestionList")],1)},l=[],g="./images/",v="./dataset/",m={default:g+"imori.jpg",noise:g+"imori_noise.jpg",dark:g+"imori_dark.jpg",gamma:g+"imori_gamma.jpg",thorino:g+"thorino.jpg",imori_part:g+"imori_part.jpg",lenna:g+"lenna.png",seg:g+"seg.png",renketsu:g+"renketsu.png",gazo:g+"gazo.png"},w={tests:[v+"test_akahara_1.jpg",v+"test_akahara_2.jpg",v+"test_madara_1.jpg",v+"test_madara_2.jpg"],train:[v+"train_akahara_1.jpg",v+"train_akahara_2.jpg",v+"train_akahara_3.jpg",v+"train_akahara_4.jpg",v+"train_akahara_5.jpg",v+"train_madara_1.jpg",v+"train_madara_2.jpg",v+"train_madara_3.jpg",v+"train_madara_4.jpg",v+"train_madara_5.jpg"]},b={srcImage:m,dataset:w,srcImageOption:{default:{label:"imori",src:m.default},noise:{label:"imori noise",src:m.noise},dark:{label:"imori dark",src:m.dark},gamma:{label:"gamma",src:m.gamma},thorino:{label:"thorino",src:m.thorino},lenna:{label:"lenna",src:m.lenna},seq:{label:"segmentation",src:m.seg},renketsu:{label:"renketsu",src:m.renketsu},gazo:{label:"gazo",src:m.gazo}}},p="<h3>Comming soon.</h3>",M='\n<div>\n<canvas ref="canvas1"></canvas>\n<br>\n<button ref="button-run" class="bt">run</button>\n<br>\n<div ref="msg" class="msg"></div>\n</div>\n',j='\n<div>\n<canvas ref="canvas1"></canvas>\n<canvas ref="canvas2"></canvas>\n<br>\n<button ref="button-run" class="bt">run</button>\n<br>\n<div ref="msg" class="msg"></div>\n</div>\n',y='\n<div>\n<canvas ref="canvas1"></canvas>\n<canvas ref="canvas2"></canvas>\n<canvas ref="canvas3"></canvas>\n<br>\n<button ref="button-run" class="bt">run</button>\n<br>\n<div ref="msg" class="msg"></div>\n</div>\n',I='\n<div>\n<canvas ref="canvas1"></canvas>\n<canvas ref="canvas2"></canvas>\n<br>\n<canvas ref="canvas3"></canvas>\n<canvas ref="canvas4"></canvas>\n<br>\n<button ref="button-run" class="bt">run</button>\n<br>\n<div ref="msg" class="msg"></div>\n</div>\n',O=e("d225"),k=e("b0b4"),x=e("308d"),D=e("6bb5"),A=e("4e2b"),C=(e("6c7b"),e("013f")),S=e("62de"),_=e("2a88"),K=e("30ef"),P=e.n(K),L=function(){function t(){Object(O["a"])(this,t)}return Object(k["a"])(t,null,[{key:"drawImage",value:function(t,a){a.addEventListener("load",function(){t.width=a.width,t.height=a.height,t.getContext("2d").drawImage(a,0,0,a.width,a.height)})}},{key:"renderHistogram",value:function(t,a){var e=new Array(a.length).fill("");new P.a(t,{type:"bar",data:{labels:e,datasets:[{label:"画素値",data:a,backgroundColor:"rgba(80,80,80,0.5)"}]},options:{title:{display:!0,text:"Histogram"},scales:{yAxes:[{ticks:{suggestedMin:0}}]},animation:{duration:0}}})}}]),t}(),q=function(){function t(){Object(O["a"])(this,t)}return Object(k["a"])(t,[{key:"_initObject",value:function(){}},{key:"init",value:function(t){this.dom=t}},{key:"main",value:function(){}},{key:"setTemplate",value:function(t){this.template=t}},{key:"getTemplate",value:function(){return this.template}},{key:"showMessage",value:function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.dom.$refs["msg"];e&&(r.innerHTML=""),t.length>0&&(r.innerHTML+=a?"<pre>"+t+"</pre>":t)}}]),t}(),E=function(t){function a(){var t;return Object(O["a"])(this,a),t=Object(x["a"])(this,Object(D["a"])(a).call(this)),Object(_["a"])(Object(D["a"])(a.prototype),"setTemplate",Object(C["a"])(t)).call(Object(C["a"])(t),M),t}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"_initObject",value:function(t){var a=this,e=t.$refs["canvas1"];e.width=e.height=this.kSize,t.$refs["button-run"].addEventListener("click",function(){a.main(e)})}},{key:"main",value:function(){}},{key:"setSrcImage",value:function(t){Object(S["a"])(Object(D["a"])(a.prototype),"imageUrl",t,this,!0)}}]),a}(q),z=function(t){function a(){var t;return Object(O["a"])(this,a),t=Object(x["a"])(this,Object(D["a"])(a).call(this)),Object(_["a"])(Object(D["a"])(a.prototype),"setTemplate",Object(C["a"])(t)).call(Object(C["a"])(t),j),t.setSrcImage(b.srcImage.default),t}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"_initObject",value:function(t){var a=this,e=t.$refs["canvas1"],r=t.$refs["canvas2"],n=t.$refs["button-run"],i=new Image;i.src=this.imageUrl,i.addEventListener("load",function(){e.width=r.width=i.width,e.height=r.height=i.height}),L.drawImage(e,i),n.addEventListener("click",function(){a.main(r,i)})}},{key:"main",value:function(){}},{key:"setSrcImage",value:function(t){Object(S["a"])(Object(D["a"])(a.prototype),"imageUrl",t,this,!0)}}]),a}(q),$=function(t){function a(){var t;return Object(O["a"])(this,a),t=Object(x["a"])(this,Object(D["a"])(a).call(this)),Object(_["a"])(Object(D["a"])(a.prototype),"setTemplate",Object(C["a"])(t)).call(Object(C["a"])(t),y),t.setSrcImage(b.srcImage.default),t}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"_initObject",value:function(t){var a=this,e=t.$refs["canvas1"],r=t.$refs["canvas2"],n=t.$refs["canvas3"],i=t.$refs["button-run"],h=new Image;h.src=this.imageUrl,h.addEventListener("load",function(){n.width=r.width=h.width,n.height=r.height=h.height}),L.drawImage(e,h),i.addEventListener("click",function(){a.main(r,n,h)})}},{key:"main",value:function(){}},{key:"setSrcImage",value:function(t){Object(S["a"])(Object(D["a"])(a.prototype),"imageUrl",t,this,!0)}}]),a}(q),G=function(t){function a(){var t;return Object(O["a"])(this,a),t=Object(x["a"])(this,Object(D["a"])(a).call(this)),Object(_["a"])(Object(D["a"])(a.prototype),"setTemplate",Object(C["a"])(t)).call(Object(C["a"])(t),I),t.setSrcImage(b.srcImage.default),t}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"_initObject",value:function(t){var a=this,e=t.$refs["canvas1"],r=t.$refs["canvas2"],n=t.$refs["canvas3"],i=t.$refs["canvas4"],h=t.$refs["button-run"],o=new Image;o.src=this.imageUrl,o.addEventListener("load",function(){i.width=n.width=r.width=o.width,i.height=n.height=r.height=o.height}),L.drawImage(e,o),h.addEventListener("click",function(){a.main(r,n,i,o)})}},{key:"main",value:function(){}},{key:"setSrcImage",value:function(t){Object(S["a"])(Object(D["a"])(a.prototype),"imageUrl",t,this,!0)}}]),a}(q),N=function(t){function a(){var t;return Object(O["a"])(this,a),t=Object(x["a"])(this,Object(D["a"])(a).call(this)),t.setSrcImage(b.srcImage.dark),t}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"_initObject",value:function(t){var a=this,e=t.$refs["canvas1"];this.graph=t.$refs["canvas2"];var r=t.$refs["button-run"];this.renderChart(new Array(255).fill(0));var n=new Image;n.src=this.imageUrl,n.addEventListener("load",function(){e.width=n.width,e.height=n.height}),L.drawImage(e,n),r.addEventListener("click",function(){a.main(e,n)})}},{key:"renderChart",value:function(t){L.renderHistogram(this.graph,t)}}]),a}(z),U=function(t){function a(){var t;return Object(O["a"])(this,a),t=Object(x["a"])(this,Object(D["a"])(a).call(this)),Object(_["a"])(Object(D["a"])(a.prototype),"setTemplate",Object(C["a"])(t)).call(Object(C["a"])(t),y),t}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"_initObject",value:function(t){var a=this,e=t.$refs["canvas1"],r=t.$refs["canvas2"];this.graph=t.$refs["canvas3"];var n=t.$refs["button-run"];this.renderChart(new Array(255).fill(0));var i=new Image;i.src=this.imageUrl,i.addEventListener("load",function(){e.width=r.width=i.width,e.height=r.height=i.height}),L.drawImage(e,i),n.addEventListener("click",function(){a.main(r,i)})}}]),a}(N),H=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=t.getContext("2d");e.drawImage(a,0,0,a.width,a.height);for(var r=e.getImageData(0,0,a.width,a.height),n=e.createImageData(a.width,a.height),i=0;i<r.data.length;i+=4)n.data[i]=r.data[i+2],n.data[i+1]=r.data[i+1],n.data[i+2]=r.data[i],n.data[i+3]=r.data[i+3];e.putImageData(n,0,0)}}]),a}(z),T=e("e814"),F=e.n(T),Q=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=t.getContext("2d");e.drawImage(a,0,0,a.width,a.height);for(var r=e.getImageData(0,0,a.width,a.height),n=e.createImageData(a.width,a.height),i=0;i<r.data.length;i+=4){var h=.2126*r.data[i]+.7152*r.data[i+1]+.0722*r.data[i+2];h=F()(h,10),n.data[i]=h,n.data[i+1]=h,n.data[i+2]=h,n.data[i+3]=r.data[i+3]}e.putImageData(n,0,0)}}]),a}(z),R=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=128,r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(a.width,a.height),h=0;h<n.data.length;h+=4){var o=.2126*n.data[h]+.7152*n.data[h+1]+.0722*n.data[h+2];o=F()(o,10),o=o>e?255:0,i.data[h]=o,i.data[h+1]=o,i.data[h+2]=o,i.data[h+3]=n.data[h+3]}r.putImageData(i,0,0)}}]),a}(z),J=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(a.width,a.height),h=this.threshold(n),o=0;o<i.data.length;o+=4){var c=e(n.data[o],n.data[o+1],n.data[o+2]);i.data[o]=i.data[o+1]=i.data[o+2]=c<h?0:255,i.data[o+3]=255}r.putImageData(i,0,0)}},{key:"threshold",value:function(t){for(var a=function(t,a,e){return.2126*t+.7152*a+.0722*e},e=Array(256).fill(0),r=0,n=0,i=0;i<t.data.length;i+=4){var h=~~a(t.data[i],t.data[i+1],t.data[i+2]);e[h]++}for(var o=0;o<256;o++){for(var c=0,d=0,u=0,s=0,f=0,l=0,g=0;g<=o;++g)c+=e[g],u+=g*e[g];for(var v=o+1;v<256;++v)d+=e[v],s+=v*e[v];c&&(f=u/c),d&&(l=s/d);var m=c*d*(f-l)*(f-l);m>n&&(n=m,r=o)}return r}}]),a}(z),B=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"rgb2hsv",value:function(t){var a=t[0]/255,e=t[1]/255,r=t[2]/255,n=Math.max(a,e,r),i=Math.min(a,e,r),h=n-i,o=0;switch(i){case n:o=0;break;case a:o=(r-e)/h*60+180;break;case e:o=(a-r)/h*60+300;break;case r:o=(e-a)/h*60+60;break}var c=0==n?0:h/n,d=n;return[o,c,d]}},{key:"hsv2rgb",value:function(t){var a,e,r,n=t[0],i=t[1],h=t[2],o=h*i,c=n/60,d=o*(1-Math.abs(c%2-1));0<=c&&c<1&&(a=o,e=d,r=0),1<=c&&c<2&&(a=d,e=o,r=0),2<=c&&c<3&&(a=0,e=o,r=d),3<=c&&c<4&&(a=0,e=d,r=o),4<=c&&c<5&&(a=d,e=0,r=o),5<=c&&c<6&&(a=o,e=0,r=d);var u=h-o,s=[a+u,e+u,r+u];return a=s[0],e=s[1],r=s[2],a=Math.floor(255*a),e=Math.floor(255*e),r=Math.floor(255*r),[a,e,r]}},{key:"main",value:function(t,a){var e=t.getContext("2d");e.drawImage(a,0,0,a.width,a.height);for(var r=e.getImageData(0,0,a.width,a.height),n=e.createImageData(a.width,a.height),i=0;i<r.data.length;i+=4){var h=r.data[i],o=r.data[i+1],c=r.data[i+2],d=this.rgb2hsv([h,o,c]);d[0]=(d[0]+180)%360;var u=this.hsv2rgb(d);n.data[i]=u[0],n.data[i+1]=u[1],n.data[i+2]=u[2],n.data[i+3]=r.data[i+3]}e.putImageData(n,0,0)}}]),a}(z),Z=e("8bd2"),V=e.n(Z),X=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=t.getContext("2d");e.drawImage(a,0,0,a.width,a.height);for(var r=e.getImageData(0,0,a.width,a.height),n=e.createImageData(a.width,a.height),i=[32,96,160,224],h=0;h<r.data.length;h++)if(h%4!==3){var o=V.a,c=0;for(var d in i){var u=Math.abs(r.data[h]-i[d]);u<o&&(o=u,c=d)}n.data[h]=i[c]}else n.data[h]=r.data[h];e.putImageData(n,0,0)}}]),a}(z),Y=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=a.width,r=a.height,n=e/16,i=r/16,h=t.getContext("2d");h.drawImage(a,0,0,a.width,a.height);for(var o=function(a,e,r,n){var i,h,o,c=t.getContext("2d");i=h=o=0;for(var d=c.getImageData(a,e,r,n),u=c.createImageData(r,n),s=0;s<d.data.length;s+=4)i+=d.data[s],h+=d.data[s+1],o+=d.data[s+2];i/=d.data.length/4,h/=d.data.length/4,o/=d.data.length/4,i=Math.ceil(i),h=Math.ceil(h),o=Math.ceil(o);for(var f=0;f<d.data.length;f+=4)u.data[f]=i,u.data[f+1]=h,u.data[f+2]=o,u.data[f+3]=255;c.putImageData(u,a,e)},c=0;c<t.width;c+=n)for(var d=0;d<t.height;d+=i)o(c,d,n,i)}}]),a}(z),W=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=a.width,r=a.height,n=e/16,i=r/16,h=t.getContext("2d");h.drawImage(a,0,0,a.width,a.height);for(var o=function(a,e,r,n){var i,h,o,c=t.getContext("2d");i=h=o=0;for(var d=c.getImageData(a,e,r,n),u=c.createImageData(r,n),s=0;s<d.data.length;s+=4)i=d.data[s]>i?d.data[s]:i,h=d.data[s+1]>h?d.data[s+1]:h,o=d.data[s+2]>o?d.data[s+2]:o;for(var f=0;f<d.data.length;f+=4)u.data[f]=i,u.data[f+1]=h,u.data[f+2]=o,u.data[f+3]=255;c.putImageData(u,a,e)},c=0;c<t.width;c+=n)for(var d=0;d<t.height;d+=i)o(c,d,n,i)}}]),a}(z),tt=e("774e"),at=e.n(tt),et=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"init",value:function(){this.setSrcImage(b.srcImage.noise)}},{key:"main",value:function(t,a){var e=t.getContext("2d");e.drawImage(a,0,0,a.width,a.height);for(var r=e.getImageData(0,0,a.width,a.height),n=e.createImageData(a.width,a.height),i=function(a,e,r){return a=Math.min(Math.max(a,0),t.width-1),e=Math.min(Math.max(e,0),t.height-1),e*t.width*4+4*a+r},h=function(t,a,e){return Math.exp(-(Math.pow(t,2)+Math.pow(a,2))/(2*Math.pow(e,2)))},o=3,c=1.3,d=0,u=at()(new Array(o),function(){return new Array(o).fill(0)}),s=0;s<o;s++)for(var f=0;f<o;f++){var l=f-Math.floor(o/2),g=s-Math.floor(o/2),v=h(l,g,c);u[s][f]=v,u[s][f]/=c*Math.sqrt(2*Math.PI),d+=u[s][f]}for(var m=0;m<o;m++)for(var w=0;w<o;w++)u[m][w]/=d;for(var b=0;b<t.width;b++)for(var p=0;p<t.height;p++){for(var M=0;M<3;M++){for(var j=0,y=0;y<o;y++)for(var I=0;I<o;I++){var O=y-Math.floor(o/2),k=I-Math.floor(o/2);j+=u[y][I]*r.data[i(b+k,p+O,M)]}n.data[i(b,p,M)]=j}n.data[i(b,p,3)]=255}e.putImageData(n,0,0)}}]),a}(z),rt=(e("55dd"),function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"init",value:function(){this.setSrcImage(b.srcImage.noise)}},{key:"main",value:function(t,a){var e=t.getContext("2d");e.drawImage(a,0,0,a.width,a.height);for(var r=e.getImageData(0,0,a.width,a.height),n=e.createImageData(a.width,a.height),i=function(a,e,r){return a=Math.min(Math.max(a,0),t.width-1),e=Math.min(Math.max(e,0),t.height-1),e*t.width*4+4*a+r},h=3,o=0;o<t.width;o++)for(var c=0;c<t.height;c++){for(var d=0;d<3;d++){for(var u=[],s=0;s<h;s++)for(var f=0;f<h;f++){var l=s-Math.floor(h/2),g=f-Math.floor(h/2);u.push(r.data[i(o+g,c+l,d)])}u.sort(function(t,a){return t-a}),n.data[i(o,c,d)]=u[Math.floor(u.length/2)]}n.data[i(o,c,3)]=255}e.putImageData(n,0,0)}}]),a}(z)),nt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=t.getContext("2d");e.drawImage(a,0,0,a.width,a.height);for(var r=e.getImageData(0,0,a.width,a.height),n=e.createImageData(a.width,a.height),i=function(a,e,r){return a=Math.min(Math.max(a,0),t.width-1),e=Math.min(Math.max(e,0),t.height-1),e*t.width*4+4*a+r},h=3,o=0;o<t.width;o++)for(var c=0;c<t.height;c++){for(var d=0;d<3;d++){for(var u=[],s=0;s<h;s++)for(var f=0;f<h;f++){var l=s-Math.floor(h/2),g=f-Math.floor(h/2);u.push(r.data[i(o+g,c+l,d)])}var v=u.reduce(function(t,a){return t+a});n.data[i(o,c,d)]=v/u.length}n.data[i(o,c,3)]=255}e.putImageData(n,0,0)}}]),a}(z),it=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=t.getContext("2d");e.drawImage(a,0,0,a.width,a.height);for(var r=e.getImageData(0,0,a.width,a.height),n=e.createImageData(a.width,a.height),i=function(a,e,r){return a=Math.min(Math.max(a,0),t.width-1),e=Math.min(Math.max(e,0),t.height-1),e*t.width*4+4*a+r},h=3,o=[[1/3,0,0],[0,1/3,0],[0,0,1/3]],c=0;c<t.width;c++)for(var d=0;d<t.height;d++){for(var u=0;u<3;u++){for(var s=0,f=0;f<h;f++)for(var l=0;l<h;l++){var g=f-Math.floor(h/2),v=l-Math.floor(h/2);s+=o[f][l]*r.data[i(c+v,d+g,u)]}n.data[i(c,d,u)]=s}n.data[i(c,d,3)]=255}e.putImageData(n,0,0)}}]),a}(z),ht=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=t.getContext("2d");e.drawImage(a,0,0,a.width,a.height);for(var r=e.getImageData(0,0,a.width,a.height),n=e.createImageData(a.width,a.height),i=function(t,a,e){return.2126*t+.7152*a+.0722*e},h=function(a,e,r){return a=Math.min(Math.max(a,0),t.width-1),e=Math.min(Math.max(e,0),t.height-1),e*t.width*4+4*a+r},o=3,c=0;c<t.width;c++)for(var d=0;d<t.height;d++){for(var u=[],s=0;s<o;s++)for(var f=0;f<o;f++){var l=s-Math.floor(o/2),g=f-Math.floor(o/2),v=r.data[h(c+g,d+l,0)],m=r.data[h(c+g,d+l,1)],w=r.data[h(c+g,d+l,2)];u.push(F()(i(v,m,w),10))}u.sort(function(t,a){return t-a});var b=Math.abs(u[0]-u[u.length-1]);n.data[h(c,d,0)]=b,n.data[h(c,d,1)]=b,n.data[h(c,d,2)]=b,n.data[h(c,d,3)]=255}e.putImageData(n,0,0)}}]),a}(z),ot=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=[[0,-1,0],[0,1,0],[0,0,0]],n=[[0,0,0],[-1,1,0],[0,0,0]];this.diffFilter(t,e,r),this.diffFilter(a,e,n)}},{key:"diffFilter",value:function(t,a,e){var r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(a.width,a.height),h=function(a,e,r){return a=Math.min(Math.max(a,0),t.width-1),e=Math.min(Math.max(e,0),t.height-1),e*t.width*4+4*a+r},o=function(t){return t>255?255:t<0?0:t},c=e.length,d=0;d<t.width;d++)for(var u=0;u<t.height;u++){for(var s=0,f=0;f<3;f++)for(var l=0;l<c;l++)for(var g=0;g<c;g++){var v=l-Math.floor(c/2),m=g-Math.floor(c/2);s+=e[l][g]*n.data[h(d+m,u+v,f)]}s=o(s),i.data[h(d,u,0)]=s,i.data[h(d,u,1)]=s,i.data[h(d,u,2)]=s,i.data[h(d,u,3)]=255}r.putImageData(i,0,0)}}]),a}($),ct=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=[[1,0,-1],[2,0,-2],[1,0,-1]],n=[[1,2,1],[0,0,0],[-1,-2,-1]];this.sovelFilter(t,e,r),this.sovelFilter(a,e,n)}},{key:"sovelFilter",value:function(t,a,e){var r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(a.width,a.height),h=function(a,e,r){return a=Math.min(Math.max(a,0),t.width-1),e=Math.min(Math.max(e,0),t.height-1),e*t.width*4+4*a+r},o=e.length,c=0;c<t.width;c++)for(var d=0;d<t.height;d++){for(var u=0,s=0;s<3;s++)for(var f=0;f<o;f++)for(var l=0;l<o;l++){var g=f-Math.floor(o/2),v=l-Math.floor(o/2);u+=e[f][l]*n.data[h(c+v,d+g,s)]}i.data[h(c,d,0)]=u,i.data[h(c,d,1)]=u,i.data[h(c,d,2)]=u,i.data[h(c,d,3)]=255}r.putImageData(i,0,0)}}]),a}($),dt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=[[-1,-1,-1],[0,0,0],[1,1,1]],n=[[-1,0,1],[-1,0,1],[-1,0,1]];this.prewittFilter(t,e,r),this.prewittFilter(a,e,n)}},{key:"prewittFilter",value:function(t,a,e){var r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(a.width,a.height),h=function(a,e,r){return a=Math.min(Math.max(a,0),t.width-1),e=Math.min(Math.max(e,0),t.height-1),e*t.width*4+4*a+r},o=function(t){return t>255?255:t<0?0:t},c=e.length,d=0;d<t.width;d++)for(var u=0;u<t.height;u++){for(var s=0,f=0;f<3;f++)for(var l=0;l<c;l++)for(var g=0;g<c;g++){var v=l-Math.floor(c/2),m=g-Math.floor(c/2);s+=e[l][g]*n.data[h(d+m,u+v,f)]}s=o(s),i.data[h(d,u,0)]=s,i.data[h(d,u,1)]=s,i.data[h(d,u,2)]=s,i.data[h(d,u,3)]=255}r.putImageData(i,0,0)}}]),a}($),ut=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=[[0,1,0],[1,-4,1],[0,1,0]];this.laplacianFilter(t,a,e)}},{key:"laplacianFilter",value:function(t,a,e){var r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(a.width,a.height),h=function(a,e,r){return a=Math.min(Math.max(a,0),t.width-1),e=Math.min(Math.max(e,0),t.height-1),e*t.width*4+4*a+r},o=function(t){return t>255?255:t<0?0:t},c=e.length,d=0;d<t.width;d++)for(var u=0;u<t.height;u++){for(var s=0,f=0;f<3;f++)for(var l=0;l<c;l++)for(var g=0;g<c;g++){var v=l-Math.floor(c/2),m=g-Math.floor(c/2);s+=e[l][g]*n.data[h(d+m,u+v,f)]}s=o(s),i.data[h(d,u,0)]=s,i.data[h(d,u,1)]=s,i.data[h(d,u,2)]=s,i.data[h(d,u,3)]=255}r.putImageData(i,0,0)}}]),a}(z),st=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=[[-2,-1,0],[-1,1,1],[0,1,2]];this.logFilter(t,a,e)}},{key:"logFilter",value:function(t,a,e){var r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(a.width,a.height),h=function(a,e,r){return a=Math.min(Math.max(a,0),t.width-1),e=Math.min(Math.max(e,0),t.height-1),e*t.width*4+4*a+r},o=function(t){return t>255?255:t<0?0:t},c=e.length,d=0;d<t.width;d++)for(var u=0;u<t.height;u++){for(var s=0,f=0;f<3;f++)for(var l=0;l<c;l++)for(var g=0;g<c;g++){var v=l-Math.floor(c/2),m=g-Math.floor(c/2);s+=e[l][g]*n.data[h(d+m,u+v,f)]}s=o(s),i.data[h(d,u,0)]=s,i.data[h(d,u,1)]=s,i.data[h(d,u,2)]=s,i.data[h(d,u,3)]=255}r.putImageData(i,0,0)}}]),a}(z),ft=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t){for(var a=new Array(255).fill(0),e=t.getContext("2d"),r=e.getImageData(0,0,t.width,t.height),n=0;n<r.data.length;n+=4)for(var i=0;i<3;i++)a[r.data[n]+i]++;this.renderChart(a)}}]),a}(N),lt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=t.getContext("2d");e.drawImage(a,0,0,a.width,a.height);for(var r=new Array(255).fill(0),n=e.getImageData(0,0,a.width,a.height),i=e.createImageData(a.width,a.height),h=255,o=0,c=255,d=0,u=function(t){return(h-o)/(d-c)*(t-c)+o},s=0;s<n.data.length;s+=4)for(var f=0;f<3;f++){var l=n.data[s+f];l>d&&(d=l),l<c&&(c=l)}for(var g=0;g<n.data.length;g+=4){for(var v=0;v<3;v++)i.data[g+v]=F()(u(n.data[g+v]),10),r[i.data[g+v]]++;i.data[g+3]=255}e.putImageData(i,0,0),this.renderChart(r)}}]),a}(U),gt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=t.getContext("2d");e.drawImage(a,0,0,a.width,a.height);for(var r=new Array(255).fill(0),n=e.getImageData(0,0,a.width,a.height),i=e.createImageData(a.width,a.height),h=128,o=52,c=97,d=12,u=function(t){return o/d*(t-c)+h},s=function(t){var a=t.reduce(function(t,a){return t+a})/t.length;return Math.sqrt(t.map(function(t){var e=t-a;return Math.pow(e,2)}).reduce(function(t,a){return t+a})/t.length)},f=[],l=0;l<n.data.length;l+=4)for(var g=0;g<3;g++)f.push(n.data[l+g]);d=s(f),c=f.reduce(function(t,a){return t+a})/f.length;for(var v=0;v<n.data.length;v+=4){for(var m=0;m<3;m++)i.data[v+m]=F()(u(n.data[v+m]),10),r[i.data[v+m]]++;i.data[v+3]=255}e.putImageData(i,0,0),this.renderChart(r)}}]),a}(U),vt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"init",value:function(){this.setSrcImage(b.srcImage.default)}},{key:"main",value:function(t,a){var e=t.getContext("2d");e.drawImage(a,0,0,a.width,a.height);for(var r=new Array(255).fill(0),n=e.getImageData(0,0,a.width,a.height),i=e.createImageData(a.width,a.height),h=255,o=t.width*t.height*3,c=new Array(255).fill(0),d=new Array(255).fill(0),u=0;u<3;u++)for(var s=0;s<n.data.length;s+=4)c[n.data[s+u]]++;for(var f=0;f<d.length;f++)for(var l=0;l<f;l++)d[f]+=c[l];for(var g=0;g<n.data.length;g+=4){for(var v=0;v<3;v++){var m=n.data[g+v],w=F()(h/o*d[m]);w>255?w=255:w<0&&(w=0),i.data[g+v]=w,r[w]++}i.data[g+3]=255}e.putImageData(i,0,0),this.renderChart(r)}}]),a}(U),mt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"init",value:function(){this.setSrcImage(b.srcImage.gamma)}},{key:"main",value:function(t,a){var e=t.getContext("2d");e.drawImage(a,0,0,a.width,a.height);for(var r=e.getImageData(0,0,a.width,a.height),n=e.createImageData(a.width,a.height),i=1,h=2.2,o=0;o<r.data.length;o+=4){for(var c=0;c<3;c++){var d=r.data[o+c];d/=255,d=Math.pow(1/i*d,1/h),d*=255,n.data[o+c]=d}n.data[o+3]=255}e.putImageData(n,0,0)}}]),a}(z),wt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=function(a,e,r){return a=Math.min(Math.max(a,0),t.width-1),e=Math.min(Math.max(e,0),t.height-1),e*t.width*4+4*a+r},r=function(t,e,r){return t=Math.min(Math.max(t,0),a.width-1),e=Math.min(Math.max(e,0),a.height-1),e*a.width*4+4*t+r},n=t.getContext("2d");n.drawImage(a,0,0,a.width,a.height);var i=n.getImageData(0,0,a.width,a.height),h=1.5;t.width=a.width*h,t.height=a.height*h;for(var o=n.createImageData(t.width,t.height),c=0;c<t.width;c++)for(var d=0;d<t.height;d++){var u=F()(c/h,10),s=F()(d/h,10);o.data[e(c,d,0)]=i.data[r(u,s,0)],o.data[e(c,d,1)]=i.data[r(u,s,1)],o.data[e(c,d,2)]=i.data[r(u,s,2)],o.data[e(c,d,3)]=255}n.putImageData(o,0,0)}}]),a}(z),bt=e("5d73"),pt=e.n(bt),Mt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=function(a,e,r){return a=Math.min(Math.max(a,0),t.width-1),e=Math.min(Math.max(e,0),t.height-1),e*t.width*4+4*a+r},r=function(t,e,r){return t=Math.min(Math.max(t,0),a.width-1),e=Math.min(Math.max(e,0),a.height-1),e*a.width*4+4*t+r},n=function(t,a){var e=Math.abs(t-a);return e>1?0:1-e},i=t.getContext("2d");i.drawImage(a,0,0,a.width,a.height);var h=i.getImageData(0,0,a.width,a.height),o=1.5;t.width=a.width*o,t.height=a.height*o;for(var c=i.createImageData(t.width,t.height),d=[0,1],u=0;u<t.width;u++)for(var s=function(t){var a=u/o,i=t/o,s=d.map(function(t){return t+Math.floor(a)}),f=d.map(function(t){return t+Math.floor(i)}),l=void 0,g=void 0,v=void 0;l=g=v=0;var m=!0,w=!1,b=void 0;try{for(var p,M=pt()(f);!(m=(p=M.next()).done);m=!0){var j=p.value,y=!0,I=!1,O=void 0;try{for(var k,x=pt()(s);!(y=(k=x.next()).done);y=!0){var D=k.value,A=n(j,i)*n(D,a);l+=h.data[r(~~D,~~j,0)]*A,g+=h.data[r(~~D,~~j,1)]*A,v+=h.data[r(~~D,~~j,2)]*A}}catch(C){I=!0,O=C}finally{try{y||null==x.return||x.return()}finally{if(I)throw O}}}}catch(C){w=!0,b=C}finally{try{m||null==M.return||M.return()}finally{if(w)throw b}}c.data[e(u,t,0)]=~~l,c.data[e(u,t,1)]=~~g,c.data[e(u,t,2)]=~~v,c.data[e(u,t,3)]=255},f=0;f<t.height;f++)s(f);i.putImageData(c,0,0)}}]),a}(z),jt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=function(a,e,r){return a=Math.min(Math.max(a,0),t.width-1),e=Math.min(Math.max(e,0),t.height-1),e*t.width*4+4*a+r},r=function(t,e,r){return t=Math.min(Math.max(t,0),a.width-1),e=Math.min(Math.max(e,0),a.height-1),e*a.width*4+4*t+r},n=function(t,a){var e=Math.abs(t-a);return e>1?0:1-e},i=t.getContext("2d");i.drawImage(a,0,0,a.width,a.height);var h=i.getImageData(0,0,a.width,a.height),o=1.5;t.width=a.width*o,t.height=a.height*o;for(var c=i.createImageData(t.width,t.height),d=[-1,0,1,2],u=0;u<t.width;u++)for(var s=function(t){var a=u/o,i=t/o,s=d.map(function(t){return t+Math.floor(a)}),f=d.map(function(t){return t+Math.floor(i)}),l=void 0,g=void 0,v=void 0;l=g=v=0;var m=!0,w=!1,b=void 0;try{for(var p,M=pt()(f);!(m=(p=M.next()).done);m=!0){var j=p.value,y=!0,I=!1,O=void 0;try{for(var k,x=pt()(s);!(y=(k=x.next()).done);y=!0){var D=k.value,A=n(j,i)*n(D,a);l+=h.data[r(~~D,~~j,0)]*A,g+=h.data[r(~~D,~~j,1)]*A,v+=h.data[r(~~D,~~j,2)]*A}}catch(C){I=!0,O=C}finally{try{y||null==x.return||x.return()}finally{if(I)throw O}}}}catch(C){w=!0,b=C}finally{try{m||null==M.return||M.return()}finally{if(w)throw b}}c.data[e(u,t,0)]=~~l,c.data[e(u,t,1)]=~~g,c.data[e(u,t,2)]=~~v,c.data[e(u,t,3)]=255},f=0;f<t.height;f++)s(f);i.putImageData(c,0,0)}}]),a}(z),yt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=function(a,e,r){return a=Math.min(Math.max(a,0),t.width-1),e=Math.min(Math.max(e,0),t.height-1),e*t.width*4+4*a+r},r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(t.width,t.height),h=30,o=-30,c=[[1,0,h],[0,1,o],[0,0,1]],d=0;d<t.width;d++)for(var u=0;u<t.height;u++){for(var s=[d,u,1],f=[0,0,0],l=0;l<c.length;l++){for(var g=0,v=0;v<s.length;v++)g+=s[v]*c[l][v];f[l]=~~g}for(var m=0;m<3;m++)i.data[e(f[0],f[1],m)]=n.data[e(d,u,m)];i.data[e(d,u,3)]=255}r.putImageData(i,0,0)}}]),a}(z),It=e("aabe"),Ot=e.n(It),kt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=1.3,n=.8,i=30,h=-30,o=[[r,0,0],[0,n,0],[0,0,1]],c=[[r,0,i],[0,n,h],[0,0,1]];this.trans(t,e,o),this.trans(a,e,c)}},{key:"trans",value:function(t,a,e){var r=function(a,e,r){return e*t.width*4+4*a+r},n=function(t,e,r){return e*a.width*4+4*t+r},i=e[0][0],h=e[1][1],o=t.getContext("2d");t.width=a.width,t.height=a.height,o.drawImage(a,0,0,a.width,a.height);var c=o.getImageData(0,0,a.width,a.height);t.width=~~(a.width*i),t.height=~~(a.height*h);for(var d=o.createImageData(t.width,t.height),u=Ot.a.inv(e),s=0;s<t.width;s++)for(var f=0;f<t.height;f++){for(var l=[s,f,1],g=[0,0,0],v=0;v<u.length;v++){for(var m=0,w=0;w<l.length;w++)m+=l[w]*u[v][w];g[v]=~~m}for(var b=0;b<3;b++)0<g[0]&&g[0]<t.width&&(d.data[r(s,f,b)]=c.data[n(g[0],g[1],b)]);d.data[r(s,f,3)]=255}o.putImageData(d,0,0)}}]),a}($),xt=e("768b"),Dt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=function(t,a,e){for(var r=[a,e,1],n=[0,0,0],i=0;i<t.length;i++){for(var h=0,o=0;o<r.length;o++)h+=r[o]*t[i][o];n[i]=~~h}return n},n=-30,i=n*Math.PI/180,h=[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]],o=r(h,t.width/2,t.height/2).map(function(t){return~~t}),c=Object(xt["a"])(o,2),d=c[0],u=c[1],s=[[Math.cos(i),-Math.sin(i),-d+~~(t.width/2)],[Math.sin(i),Math.cos(i),-u+~~(t.height/2)],[0,0,1]];this.trans(t,e,h),this.trans(a,e,s)}},{key:"trans",value:function(t,a,e){var r=function(a,e,r){return e*t.width*4+4*a+r},n=function(t,e,r){return e*a.width*4+4*t+r},i=t.getContext("2d");t.width=a.width,t.height=a.height,i.drawImage(a,0,0,a.width,a.height);var h=i.getImageData(0,0,a.width,a.height);t.width=a.width,t.height=a.height;for(var o=i.createImageData(t.width,t.height),c=Ot.a.inv(e),d=0;d<t.width;d++)for(var u=0;u<t.height;u++){for(var s=[d,u,1],f=[0,0,0],l=0;l<c.length;l++){for(var g=0,v=0;v<s.length;v++)g+=s[v]*c[l][v];f[l]=~~g}for(var m=0;m<3;m++)0<f[0]&&f[0]<t.width&&(o.data[r(d,u,m)]=h.data[n(f[0],f[1],m)]);o.data[r(d,u,3)]=255}i.putImageData(o,0,0)}}]),a}($),At=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e,r){var n=30,i=n/r.height,h=0,o=0,c=[[1,i,h],[0,1,o],[0,0,1]],d=[[1,0,h],[i,1,o],[0,0,1]],u=[[1,i,h],[i,1,o],[0,0,1]];this.trans(t,r,c),this.trans(a,r,d),this.trans(e,r,u)}},{key:"trans",value:function(t,a,e){var r=function(a,e,r){return a=Math.min(Math.max(a,0),t.width-1),e=Math.min(Math.max(e,0),t.height-1),e*t.width*4+4*a+r},n=function(t,e,r){return t=Math.min(Math.max(t,0),a.width-1),e=Math.min(Math.max(e,0),a.height-1),e*a.width*4+4*t+r},i=function(t,a,e){for(var r=[a,e,1],n=[0,0,0],i=0;i<t.length;i++){for(var h=0,o=0;o<r.length;o++)h+=r[o]*t[i][o];n[i]=~~h}return n},h=t.getContext("2d");h.drawImage(a,0,0,a.width,a.height);var o=h.getImageData(0,0,a.width,a.height),c=i(e,a.width,a.height).map(function(t){return~~t}),d=Object(xt["a"])(c,2),u=d[0],s=d[1];t.width=u,t.height=s;for(var f=h.createImageData(t.width,t.height),l=Ot.a.inv(e),g=0;g<t.width;g++)for(var v=0;v<t.height;v++){for(var m=[g,v,1],w=[0,0,0],b=0;b<l.length;b++){for(var p=0,M=0;M<m.length;M++)p+=m[M]*l[b][M];w[b]=~~p}for(var j=0;j<3;j++)0<w[0]&&w[0]<a.width&&0<w[1]&&w[1]<a.height&&(f.data[r(g,v,j)]=o.data[n(w[0],w[1],j)]);f.data[r(g,v,3)]=255}h.putImageData(f,0,0)}}]),a}(G),Ct=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e,r){var n=function(t,a,e){return.2126*t+.7152*a+.0722*e},i=t.getContext("2d"),h=a.getContext("2d"),o=e.getContext("2d");i.drawImage(r,0,0,r.width,r.height);for(var c=[],d=i.getImageData(0,0,r.width,r.height),u=i.createImageData(t.width,t.height),s=h.createImageData(a.width,e.height),f=o.createImageData(e.width,e.height),l=0;l<d.data.length;l+=4){var g=~~n(d.data[l],d.data[l+1],d.data[l+2]);c.push(g),u.data[l]=u.data[l+1]=u.data[l+2]=g,u.data[l+3]=255}i.putImageData(u,0,0);for(var v=this.dft2d(c,t.width,t.height),m=Object(xt["a"])(v,2),w=m[0],b=m[1],p=this.idft2d(w,b,t.width,t.height),M=0,j=0;M<s.data.length;M+=4,j++)s.data[M]=s.data[M+1]=s.data[M+2]=~~p[j],s.data[M+3]=255;h.putImageData(s,0,0);for(var y=Math.max.apply(null,w.map(Math.abs)),I=0,O=0;I<f.data.length;I+=4,O++)f.data[I]=f.data[I+1]=f.data[I+2]=~~(Math.abs(w[O])/y*255),f.data[I+3]=255;for(var k=0,x=0;k<f.data.length;k+=4,x++)f.data[k]=f.data[k+1]=f.data[k+2]=~~(Math.abs(w[x])/y*255),f.data[k+3]=255;o.putImageData(f,0,0)}},{key:"dft2d",value:function(t,a,e){for(var r=a,n=e,i=2*Math.PI/r,h=2*Math.PI/n,o=new Array(t.length),c=new Array(t.length),d=0;d<n;d++)for(var u=0;u<r;u++){var s=r*d+u;o[s]=0,c[s]=0;for(var f=0;f<n;f++)for(var l=0;l<r;l++){var g=r*f+l;o[s]+=t[g]*Math.cos(-i*l*u-h*f*d),c[s]+=t[g]*Math.sin(-i*l*u-h*f*d)}o[s]/=r*n,c[s]/=r*n}return[o,c]}},{key:"idft2d",value:function(t,a,e,r){for(var n=e,i=r,h=2*Math.PI/n,o=2*Math.PI/i,c=new Array(n*i),d=0;d<i;d++)for(var u=0;u<n;u++){var s=n*d+u;c[s]=0;for(var f=0;f<i;f++)for(var l=0;l<n;l++)c[s]+=t[n*f+l]*Math.cos(h*u*l+o*d*f)-a[n*f+l]*Math.sin(h*u*l+o*d*f)}return c}}]),a}(G),St=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=function(t,a,e){return.2126*t+.7152*a+.0722*e},n=t.getContext("2d"),i=a.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var h=[],o=n.getImageData(0,0,e.width,e.height),c=n.createImageData(t.width,t.height),d=n.createImageData(t.width,t.height),u=0;u<o.data.length;u+=4){var s=~~r(o.data[u],o.data[u+1],o.data[u+2]);h.push(s),c.data[u]=c.data[u+1]=c.data[u+2]=s,c.data[u+3]=255}n.putImageData(c,0,0);var f=this.dft2d(h,t.width,t.height),l=Object(xt["a"])(f,2),g=l[0],v=l[1];this.lpf(g,v,t.width,t.height,t.width/2*.5);for(var m=this.idft2d(g,v,t.width,t.height),w=0,b=0;w<d.data.length;w+=4,b++)d.data[w]=d.data[w+1]=d.data[w+2]=~~m[b],d.data[w+3]=255;i.putImageData(d,0,0)}},{key:"dft2d",value:function(t,a,e){for(var r=a,n=e,i=2*Math.PI/r,h=2*Math.PI/n,o=new Array(t.length),c=new Array(t.length),d=0;d<n;d++)for(var u=0;u<r;u++){var s=r*d+u;o[s]=0,c[s]=0;for(var f=0;f<n;f++)for(var l=0;l<r;l++){var g=r*f+l;o[s]+=t[g]*Math.cos(-i*l*u-h*f*d),c[s]+=t[g]*Math.sin(-i*l*u-h*f*d)}o[s]/=r*n,c[s]/=r*n}return[o,c]}},{key:"idft2d",value:function(t,a,e,r){for(var n=e,i=r,h=2*Math.PI/n,o=2*Math.PI/i,c=new Array(n*i),d=0;d<i;d++)for(var u=0;u<n;u++){var s=n*d+u;c[s]=0;for(var f=0;f<i;f++)for(var l=0;l<n;l++)c[s]+=t[n*f+l]*Math.cos(h*u*l+o*d*f)-a[n*f+l]*Math.sin(h*u*l+o*d*f)}return c}},{key:"lpf",value:function(t,a,e,r,n){for(var i=e/2,h=r/2,o=0;o<r;o++)for(var c=0;c<e;c++){var d=o*e+c;(Math.abs(i-c)<n||Math.abs(h-o)<n)&&(t[d]=0,a[d]=0)}}}]),a}($),_t=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=function(t,a,e){return.2126*t+.7152*a+.0722*e},n=t.getContext("2d"),i=a.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var h=[],o=n.getImageData(0,0,e.width,e.height),c=n.createImageData(t.width,t.height),d=n.createImageData(t.width,t.height),u=0;u<o.data.length;u+=4){var s=~~r(o.data[u],o.data[u+1],o.data[u+2]);h.push(s),c.data[u]=c.data[u+1]=c.data[u+2]=s,c.data[u+3]=255}n.putImageData(c,0,0);var f=this.dft2d(h,t.width,t.height),l=Object(xt["a"])(f,2),g=l[0],v=l[1];this.hpf(g,v,t.width,t.height,t.width/2*.9);for(var m=this.idft2d(g,v,t.width,t.height),w=0,b=0;w<d.data.length;w+=4,b++)d.data[w]=d.data[w+1]=d.data[w+2]=~~m[b],d.data[w+3]=255;i.putImageData(d,0,0)}},{key:"dft2d",value:function(t,a,e){for(var r=a,n=e,i=2*Math.PI/r,h=2*Math.PI/n,o=new Array(t.length),c=new Array(t.length),d=0;d<n;d++)for(var u=0;u<r;u++){var s=r*d+u;o[s]=0,c[s]=0;for(var f=0;f<n;f++)for(var l=0;l<r;l++){var g=r*f+l;o[s]+=t[g]*Math.cos(-i*l*u-h*f*d),c[s]+=t[g]*Math.sin(-i*l*u-h*f*d)}o[s]/=r*n,c[s]/=r*n}return[o,c]}},{key:"idft2d",value:function(t,a,e,r){for(var n=e,i=r,h=2*Math.PI/n,o=2*Math.PI/i,c=new Array(n*i),d=0;d<i;d++)for(var u=0;u<n;u++){var s=n*d+u;c[s]=0;for(var f=0;f<i;f++)for(var l=0;l<n;l++)c[s]+=t[n*f+l]*Math.cos(h*u*l+o*d*f)-a[n*f+l]*Math.sin(h*u*l+o*d*f)}return c}},{key:"hpf",value:function(t,a,e,r,n){for(var i=e/2,h=r/2,o=0;o<r;o++)for(var c=0;c<e;c++){var d=o*e+c;(Math.abs(i-c)>n||Math.abs(h-o)>n)&&(t[d]=0,a[d]=0)}}}]),a}($),Kt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=function(t,a,e){return.2126*t+.7152*a+.0722*e},n=t.getContext("2d"),i=a.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var h=[],o=n.getImageData(0,0,e.width,e.height),c=n.createImageData(t.width,t.height),d=n.createImageData(t.width,t.height),u=0;u<o.data.length;u+=4){var s=~~r(o.data[u],o.data[u+1],o.data[u+2]);h.push(s),c.data[u]=c.data[u+1]=c.data[u+2]=s,c.data[u+3]=255}n.putImageData(c,0,0);var f=this.dft2d(h,t.width,t.height),l=Object(xt["a"])(f,2),g=l[0],v=l[1],m=t.width/2;this.bpf(g,v,t.width,t.height,.1*m,.9*m);for(var w=this.idft2d(g,v,t.width,t.height),b=0,p=0;b<d.data.length;b+=4,p++)d.data[b]=d.data[b+1]=d.data[b+2]=~~Math.abs(w[p]),d.data[b+3]=255;i.putImageData(d,0,0)}},{key:"dft2d",value:function(t,a,e){for(var r=a,n=e,i=2*Math.PI/r,h=2*Math.PI/n,o=new Array(t.length),c=new Array(t.length),d=0;d<n;d++)for(var u=0;u<r;u++){var s=r*d+u;o[s]=0,c[s]=0;for(var f=0;f<n;f++)for(var l=0;l<r;l++){var g=r*f+l;o[s]+=t[g]*Math.cos(-i*l*u-h*f*d),c[s]+=t[g]*Math.sin(-i*l*u-h*f*d)}o[s]/=r*n,c[s]/=r*n}return[o,c]}},{key:"idft2d",value:function(t,a,e,r){for(var n=e,i=r,h=2*Math.PI/n,o=2*Math.PI/i,c=new Array(n*i),d=0;d<i;d++)for(var u=0;u<n;u++){var s=n*d+u;c[s]=0;for(var f=0;f<i;f++)for(var l=0;l<n;l++)c[s]+=t[n*f+l]*Math.cos(h*u*l+o*d*f)-a[n*f+l]*Math.sin(h*u*l+o*d*f)}return c}},{key:"bpf",value:function(t,a,e,r,n,i){for(var h=e/2,o=r/2,c=0;c<r;c++)for(var d=0;d<e;d++){var u=c*e+d,s=Math.abs(h-d)>n||Math.abs(o-c)>n,f=Math.abs(h-d)<i&&Math.abs(o-c)<i;s&&f||(t[u]=0,a[u]=0)}}}]),a}($),Pt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=function(t,a,e){return.2126*t+.7152*a+.0722*e},n=t.getContext("2d"),i=a.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var h=[],o=n.getImageData(0,0,e.width,e.height),c=n.createImageData(t.width,t.height),d=n.createImageData(t.width,t.height),u=8,s=8,f=0,l=0;f<o.data.length;f+=4,l++){var g=~~r(o.data[f],o.data[f+1],o.data[f+2]);h.push(g),c.data[f]=c.data[f+1]=c.data[f+2]=g,c.data[f+3]=255}n.putImageData(c,0,0);for(var v=this.dct2d(h,t.width,t.height,u),m=this.idct2d(v,t.width,t.height,u,s),w=0,b=0;w<d.data.length;w+=4,b++){var p=Math.abs(m[b])>255?255:Math.abs(m[b]);d.data[w]=d.data[w+1]=d.data[w+2]=p,d.data[w+3]=255}i.putImageData(d,0,0)}},{key:"dct2d",value:function(t,a,e,r){for(var n=a,i=e,h=new Array(n*i).fill(0),o=Math.PI/(2*r),c=1/Math.sqrt(2),d=0;d<e;d+=r)for(var u=0;u<a;u+=r)for(var s=0;s<r;s++)for(var f=0;f<r;f++)for(var l=n*(s+d)+(f+u),g=0;g<r;g++)for(var v=0;v<r;v++){var m=n*(g+d)+(v+u),w=0===f?c:1,b=0===s?c:1,p=2*w*b/r*Math.cos((2*v+1)*f*o)*Math.cos((2*g+1)*s*o);h[l]+=t[m]*p}return h}},{key:"idct2d",value:function(t,a,e,r,n){for(var i=a,h=e,o=Math.PI/(2*r),c=new Array(i*h).fill(0),d=1/Math.sqrt(2),u=0;u<e;u+=r)for(var s=0;s<a;s+=r)for(var f=0;f<r;f++)for(var l=0;l<r;l++)for(var g=i*(f+u)+(l+s),v=0;v<n;v++)for(var m=0;m<n;m++){var w=i*(v+u)+(m+s),b=0===m?d:1,p=0===v?d:1,M=2*b*p/r*Math.cos((2*l+1)*m*o)*Math.cos((2*f+1)*v*o);c[g]+=t[w]*M}return c}}]),a}($),Lt=(e("7872"),e("f499")),qt=e.n(Lt),Et=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=function(t,a,e){return.2126*t+.7152*a+.0722*e},n=t.getContext("2d"),i=a.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var h=[],o=n.getImageData(0,0,e.width,e.height),c=n.createImageData(t.width,t.height),d=n.createImageData(t.width,t.height),u=8,s=4,f=0,l=0;f<o.data.length;f+=4,l++){var g=~~r(o.data[f],o.data[f+1],o.data[f+2]);h.push(g),c.data[f]=c.data[f+1]=c.data[f+2]=g,c.data[f+3]=255}n.putImageData(c,0,0);for(var v=this.dct2d(h,t.width,t.height,u),m=this.idct2d(v,t.width,t.height,u,s),w=0,b=0;w<d.data.length;w+=4,b++){var p=Math.abs(m[b])>255?255:Math.abs(m[b]);d.data[w]=d.data[w+1]=d.data[w+2]=p,d.data[w+3]=255}i.putImageData(d,0,0);var M=this.psnr(h,m,e.width,e.height);this.showMessage(qt()({psnr:M,bitrate:1*u*Math.pow(s,2)/Math.pow(u,2)},null,"\t"))}},{key:"dct2d",value:function(t,a,e,r){for(var n=a,i=e,h=new Array(n*i).fill(0),o=Math.PI/(2*r),c=1/Math.sqrt(2),d=0;d<e;d+=r)for(var u=0;u<a;u+=r)for(var s=0;s<r;s++)for(var f=0;f<r;f++)for(var l=n*(s+d)+(f+u),g=0;g<r;g++)for(var v=0;v<r;v++){var m=n*(g+d)+(v+u),w=0===f?c:1,b=0===s?c:1,p=2*w*b/r*Math.cos((2*v+1)*f*o)*Math.cos((2*g+1)*s*o);h[l]+=t[m]*p}return h}},{key:"idct2d",value:function(t,a,e,r,n){for(var i=a,h=e,o=Math.PI/(2*r),c=new Array(i*h).fill(0),d=1/Math.sqrt(2),u=0;u<e;u+=r)for(var s=0;s<a;s+=r)for(var f=0;f<r;f++)for(var l=0;l<r;l++)for(var g=i*(f+u)+(l+s),v=0;v<n;v++)for(var m=0;m<n;m++){var w=i*(v+u)+(m+s),b=0===m?d:1,p=0===v?d:1,M=2*b*p/r*Math.cos((2*l+1)*m*o)*Math.cos((2*f+1)*v*o);c[g]+=t[w]*M}return c}},{key:"psnr",value:function(t,a,e,r){for(var n=0,i=0;i<t.length;i++){var h=Math.abs(t[i]-a[i]);n+=Math.pow(h,h)}var o=n/(e*r),c=Math.log10(Math.pow(255,2)/o);return c}}]),a}($),zt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=function(t,a,e){return.2126*t+.7152*a+.0722*e},n=t.getContext("2d"),i=a.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var h=[],o=n.getImageData(0,0,e.width,e.height),c=n.createImageData(t.width,t.height),d=n.createImageData(t.width,t.height),u=8,s=8,f=0,l=0;f<o.data.length;f+=4,l++){var g=~~r(o.data[f],o.data[f+1],o.data[f+2]);h.push(g),c.data[f]=c.data[f+1]=c.data[f+2]=g,c.data[f+3]=255}n.putImageData(c,0,0);for(var v=this.dct2d(h,t.width,t.height,u),m=this.idct2d(v,t.width,t.height,u,s),w=0,b=0;w<d.data.length;w+=4,b++){var p=Math.abs(m[b])>255?255:Math.abs(m[b]);d.data[w]=d.data[w+1]=d.data[w+2]=p,d.data[w+3]=255}i.putImageData(d,0,0);var M=this.psnr(h,m,e.width,e.height);this.showMessage(qt()({psnr:M,bitrate:1*u*Math.pow(s,2)/Math.pow(u,2)},null,"\t"))}},{key:"dct2d",value:function(t,a,e,r){for(var n=a,i=e,h=this.getQuantum(),o=new Array(n*i).fill(0),c=Math.PI/(2*r),d=1/Math.sqrt(2),u=0;u<e;u+=r)for(var s=0;s<a;s+=r){for(var f=0;f<r;f++)for(var l=0;l<r;l++)for(var g=n*(f+u)+(l+s),v=0;v<r;v++)for(var m=0;m<r;m++){var w=n*(v+u)+(m+s),b=0===l?d:1,p=0===f?d:1,M=2*b*p/r*Math.cos((2*m+1)*l*c)*Math.cos((2*v+1)*f*c);o[g]+=t[w]*M}for(var j=at()(new Array(r),function(){return new Array(r).fill(0)}),y=u,I=0;y<u+r;y++,I++)for(var O=s,k=0;O<s+r;O++,k++)j[I][k]=o[n*y+O];var x=Ot.a.dotDivide(j,h).map(function(t){return t.map(function(t){return Math.round(t)})});x=Ot.a.dotMultiply(x,h);for(var D=u,A=0;D<u+r;D++,A++)for(var C=s,S=0;C<s+r;C++,S++)o[n*D+C]=j[A][S]}return o}},{key:"idct2d",value:function(t,a,e,r,n){for(var i=a,h=e,o=Math.PI/(2*r),c=new Array(i*h).fill(0),d=1/Math.sqrt(2),u=0;u<e;u+=r)for(var s=0;s<a;s+=r)for(var f=0;f<r;f++)for(var l=0;l<r;l++)for(var g=i*(f+u)+(l+s),v=0;v<n;v++)for(var m=0;m<n;m++){var w=i*(v+u)+(m+s),b=0===m?d:1,p=0===v?d:1,M=2*b*p/r*Math.cos((2*l+1)*m*o)*Math.cos((2*f+1)*v*o);c[g]+=t[w]*M}return c}},{key:"getQuantum",value:function(){return[[16,11,10,16,24,40,51,61],[12,12,14,19,26,58,60,55],[14,13,16,24,40,57,69,56],[14,17,22,29,51,87,80,62],[18,22,37,56,68,109,103,77],[24,35,55,64,81,104,113,92],[49,64,78,87,103,121,120,101],[72,92,95,98,112,100,103,99]]}},{key:"psnr",value:function(t,a,e,r){for(var n=0,i=0;i<t.length;i++){var h=Math.abs(t[i]-a[i]);n+=Math.pow(h,h)}var o=n/(e*r),c=Math.log10(Math.pow(255,2)/o);return c}}]),a}($),$t=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=function(t,a,e){return[.299*t+.587*a+.114*e,-.1687*t-.3313*a+.5*e+128,.5*t-.4187*a-.0813*e+128]},r=function(t,a,e){return[t+1.7718*(e-128),t-.3441*(e-128)-.7139*(a-128),t+1.402*(a-128)]},n=t.getContext("2d");n.drawImage(a,0,0,a.width,a.height);for(var i=n.getImageData(0,0,a.width,a.height),h=n.createImageData(t.width,t.height),o=0,c=0;o<i.data.length;o+=4,c++){var d=e(i.data[o],i.data[o+1],i.data[o+2]),u=Object(xt["a"])(d,3),s=u[0],f=u[1],l=u[2];s*=.7;var g=r(s,f,l);h.data[o+0]=g[0],h.data[o+1]=g[1],h.data[o+2]=g[2],h.data[o+3]=255}n.putImageData(h,0,0)}}]),a}(z),Gt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=function(t,a,e){return[.299*t+.587*a+.114*e,-.1687*t-.3313*a+.5*e+128,.5*t-.4187*a-.0813*e+128]},r=function(t,a,e){return[t+1.7718*(e-128),t-.3441*(e-128)-.7139*(a-128),t+1.402*(a-128)]},n=t.getContext("2d");n.drawImage(a,0,0,a.width,a.height);for(var i=[],h=[],o=[],c=n.getImageData(0,0,a.width,a.height),d=n.createImageData(t.width,t.height),u=8,s=8,f=0,l=0;f<c.data.length;f+=4,l++){var g=e(c.data[f],c.data[f+1],c.data[f+2]),v=Object(xt["a"])(g,3),m=v[0],w=v[1],b=v[2];i.push(m),h.push(w),o.push(b)}n.putImageData(d,0,0);for(var p=this.dct2d(i,t.width,t.height,u,this.getQuantum1()),M=this.idct2d(p,t.width,t.height,u,s),j=this.dct2d(h,t.width,t.height,u,this.getQuantum2()),y=this.idct2d(j,t.width,t.height,u,s),I=this.dct2d(o,t.width,t.height,u,this.getQuantum2()),O=this.idct2d(I,t.width,t.height,u,s),k=0,x=0;k<d.data.length;k+=4,x++){var D=r(M[x],y[x],O[x]).map(function(t){return t>255?255:t});d.data[k+0]=D[0],d.data[k+1]=D[1],d.data[k+2]=D[2],d.data[k+3]=255}n.putImageData(d,0,0);var A=this.psnr(i,M,h,y,o,O,a.width,a.height);this.showMessage(qt()({psnr:A,bitrate:1*u*Math.pow(s,2)/Math.pow(u,2)},null,"\t"))}},{key:"dct2d",value:function(t,a,e,r,n){for(var i=a,h=e,o=new Array(i*h).fill(0),c=Math.PI/(2*r),d=1/Math.sqrt(2),u=0;u<e;u+=r)for(var s=0;s<a;s+=r){for(var f=0;f<r;f++)for(var l=0;l<r;l++)for(var g=i*(f+u)+(l+s),v=0;v<r;v++)for(var m=0;m<r;m++){var w=i*(v+u)+(m+s),b=0===l?d:1,p=0===f?d:1,M=2*b*p/r*Math.cos((2*m+1)*l*c)*Math.cos((2*v+1)*f*c);o[g]+=t[w]*M}for(var j=at()(new Array(r),function(){return new Array(r).fill(0)}),y=u,I=0;y<u+r;y++,I++)for(var O=s,k=0;O<s+r;O++,k++)j[I][k]=o[i*y+O];var x=Ot.a.dotDivide(j,n).map(function(t){return t.map(function(t){return Math.round(t)})});x=Ot.a.dotMultiply(x,n);for(var D=u,A=0;D<u+r;D++,A++)for(var C=s,S=0;C<s+r;C++,S++)o[i*D+C]=j[A][S]}return o}},{key:"idct2d",value:function(t,a,e,r,n){for(var i=a,h=e,o=Math.PI/(2*r),c=new Array(i*h).fill(0),d=1/Math.sqrt(2),u=0;u<e;u+=r)for(var s=0;s<a;s+=r)for(var f=0;f<r;f++)for(var l=0;l<r;l++)for(var g=i*(f+u)+(l+s),v=0;v<n;v++)for(var m=0;m<n;m++){var w=i*(v+u)+(m+s),b=0===m?d:1,p=0===v?d:1,M=2*b*p/r*Math.cos((2*l+1)*m*o)*Math.cos((2*f+1)*v*o);c[g]+=t[w]*M}return c}},{key:"getQuantum1",value:function(){return[[16,11,10,16,24,40,51,61],[12,12,14,19,26,58,60,55],[14,13,16,24,40,57,69,56],[14,17,22,29,51,87,80,62],[18,22,37,56,68,109,103,77],[24,35,55,64,81,104,113,92],[49,64,78,87,103,121,120,101],[72,92,95,98,112,100,103,99]]}},{key:"getQuantum2",value:function(){return[[17,18,24,47,99,99,99,99],[18,21,26,66,99,99,99,99],[24,26,56,99,99,99,99,99],[47,66,99,99,99,99,99,99],[99,99,99,99,99,99,99,99],[99,99,99,99,99,99,99,99],[99,99,99,99,99,99,99,99],[99,99,99,99,99,99,99,99]]}},{key:"psnr",value:function(t,a,e,r,n,i,h,o){var c=0,d=[[t,a],[e,r],[n,i]];d.forEach(function(t){for(var a=t[0],e=t[1],r=0;r<a.length;r++){var n=Math.abs(a[r]-e[r]);c+=Math.pow(n,n)}});var u=c/(h*o),s=Math.log10(Math.pow(255,2)/u);return s}}]),a}(z),Nt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=function(t,a,e){return.2126*t+.7152*a+.0722*e},n=this.getGaussianKernel(5,1.4),i=[[-1,-2,-1],[0,0,0],[1,2,1]],h=[[-1,0,1],[-2,0,2],[-1,0,1]],o=t.getContext("2d"),c=a.getContext("2d");o.drawImage(e,0,0,e.width,e.height);for(var d=o.getImageData(0,0,e.width,e.height),u=o.createImageData(e.width,e.height),s=c.createImageData(e.width,e.height),f=[],l=0;l<d.data.length;l+=4){var g=r(d.data[l],d.data[l+1],d.data[l+2]);f.push(g)}var v=new Array(e.width*e.height).fill(0),m=new Array(e.width*e.height).fill(0),w=new Array(e.width*e.height).fill(0),b=new Array(e.width*e.height).fill(0),p=new Array(e.width*e.height).fill(0);this.adaptKernel(f,v,e.width,e.height,n),this.adaptKernel(v,m,e.width,e.height,h),this.adaptKernel(v,w,e.width,e.height,i);for(var M=0;M<m.length;M++){b[M]=Math.sqrt(Math.pow(m[M],2)+Math.pow(w[M],2)),0==b[M]&&(b[M]=1e-5);var j=Math.atan(w[M]/m[M]);-.4142<j&&j<=.4142?p[M]=0:.4142<j&&j<=2.4142?p[M]=45:Math.abs(j)>=2.4142?p[M]=90:-2.4142<j&&j<=-.4142&&(p[M]=135)}for(var y=0,I=0;y<d.data.length;y+=4,I++)u.data[y]=u.data[y+1]=u.data[y+2]=b[I],s.data[y]=s.data[y+1]=s.data[y+2]=p[I],u.data[y+3]=s.data[y+3]=255;o.putImageData(u,0,0),c.putImageData(s,0,0)}},{key:"getGaussianKernel",value:function(t,a){for(var e=function(t,a,e){return Math.exp(-(Math.pow(t,2)+Math.pow(a,2))/(2*Math.pow(e,2)))},r=0,n=at()(new Array(t),function(){return new Array(t).fill(0)}),i=0;i<t;i++)for(var h=0;h<t;h++){var o=h-~~(t/2),c=i-~~(t/2),d=e(o,c,a);n[i][h]=d,n[i][h]/=a*Math.sqrt(2*Math.PI),r+=n[i][h]}for(var u=0;u<t;u++)for(var s=0;s<t;s++)n[u][s]/=r;return n}},{key:"adaptKernel",value:function(t,a,e,r,n){for(var i=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},h=n.length,o=0;o<e;o++)for(var c=0;c<r;c++){for(var d=0,u=0;u<h;u++)for(var s=0;s<h;s++){var f=u-~~(h/2),l=s-~~(h/2),g=i(o+l,c+f);d+=n[u][s]*t[g]}var v=i(o,c);a[v]=d}}}]),a}($),Ut=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=this.getGaussianKernel(5,1.4),n=[[-1,-2,-1],[0,0,0],[1,2,1]],i=[[-1,0,1],[-2,0,2],[-1,0,1]],h=t.getContext("2d");h.drawImage(a,0,0,a.width,a.height);for(var o=h.getImageData(0,0,a.width,a.height),c=h.createImageData(a.width,a.height),d=[],u=0;u<o.data.length;u+=4){var s=e(o.data[u],o.data[u+1],o.data[u+2]);d.push(s)}var f=new Array(a.width*a.height).fill(0),l=new Array(a.width*a.height).fill(0),g=new Array(a.width*a.height).fill(0),v=new Array(a.width*a.height).fill(0),m=new Array(a.width*a.height).fill(0);this.adaptKernel(d,f,a.width,a.height,r),this.adaptKernel(f,l,a.width,a.height,i),this.adaptKernel(f,g,a.width,a.height,n);for(var w=0;w<l.length;w++){v[w]=Math.sqrt(Math.pow(l[w],2)+Math.pow(g[w],2)),0==v[w]&&(v[w]=1e-5);var b=Math.atan(g[w]/l[w]);-.4142<b&&b<=.4142?m[w]=0:.4142<b&&b<=2.4142?m[w]=45:Math.abs(b)>=2.4142?m[w]=90:-2.4142<b&&b<=-.4142&&(m[w]=135)}this.nonMaximumSuppression(v,m,a.width,a.height);for(var p=0,M=0;p<o.data.length;p+=4,M++)c.data[p]=c.data[p+1]=c.data[p+2]=v[M],c.data[p+3]=255;h.putImageData(c,0,0)}},{key:"getGaussianKernel",value:function(t,a){for(var e=function(t,a,e){return Math.exp(-(Math.pow(t,2)+Math.pow(a,2))/(2*Math.pow(e,2)))},r=0,n=at()(new Array(t),function(){return new Array(t).fill(0)}),i=0;i<t;i++)for(var h=0;h<t;h++){var o=h-~~(t/2),c=i-~~(t/2),d=e(o,c,a);n[i][h]=d,n[i][h]/=a*Math.sqrt(2*Math.PI),r+=n[i][h]}for(var u=0;u<t;u++)for(var s=0;s<t;s++)n[u][s]/=r;return n}},{key:"adaptKernel",value:function(t,a,e,r,n){for(var i=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},h=n.length,o=0;o<e;o++)for(var c=0;c<r;c++){for(var d=0,u=0;u<h;u++)for(var s=0;s<h;s++){var f=u-~~(h/2),l=s-~~(h/2),g=i(o+l,c+f);d+=n[u][s]*t[g]}var v=i(o,c);a[v]=d}}},{key:"nonMaximumSuppression",value:function(t,a,e,r){for(var n=function(t,a){return t+a*e},i=0;i<r;i++)for(var h=0;h<e;h++){var o=n(h,i),c=void 0,d=void 0,u=void 0,s=void 0;0==a[o]?(c=-1,d=0,u=1,s=0):45==a[o]?(c=-1,d=1,u=1,s=-1):90==a[o]?(c=0,d=-1,u=0,s=1):135==a[o]&&(c=-1,d=-1,u=1,s=1),0===h&&(c=Math.max(c,0),u=Math.max(u,0)),h===e-1&&(c=Math.min(c,0),u=Math.min(u,0)),0===i&&(d=Math.max(d,0),s=Math.max(s,0)),i===r-1&&(d=Math.min(d,0),s=Math.min(s,0)),Math.max(t[o],t[n(h+c,i+d)],t[n(h+u,i+s)])!==t[o]&&(t[o]=0)}}}]),a}(z),Ht=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=this.getGaussianKernel(5,1.4),n=[[-1,-2,-1],[0,0,0],[1,2,1]],i=[[-1,0,1],[-2,0,2],[-1,0,1]],h=100,o=30,c=t.getContext("2d");c.drawImage(a,0,0,a.width,a.height);for(var d=c.getImageData(0,0,a.width,a.height),u=c.createImageData(a.width,a.height),s=[],f=0;f<d.data.length;f+=4){var l=e(d.data[f],d.data[f+1],d.data[f+2]);s.push(l)}var g=new Array(a.width*a.height).fill(0),v=new Array(a.width*a.height).fill(0),m=new Array(a.width*a.height).fill(0),w=new Array(a.width*a.height).fill(0),b=new Array(a.width*a.height).fill(0),p=new Array(a.width*a.height).fill(0);this.adaptKernel(s,g,a.width,a.height,r),this.adaptKernel(g,v,a.width,a.height,i),this.adaptKernel(g,m,a.width,a.height,n);for(var M=0;M<v.length;M++){w[M]=Math.sqrt(Math.pow(v[M],2)+Math.pow(m[M],2)),0==w[M]&&(w[M]=1e-5);var j=Math.atan(m[M]/v[M]);-.4142<j&&j<=.4142?b[M]=0:.4142<j&&j<=2.4142?b[M]=45:Math.abs(j)>=2.4142?b[M]=90:-2.4142<j&&j<=-.4142&&(b[M]=135)}this.nonMaximumSuppression(w,b,a.width,a.height),this.histeresisThreshold(w,p,a.width,a.height,h,o);for(var y=0,I=0;y<d.data.length;y+=4,I++)u.data[y]=u.data[y+1]=u.data[y+2]=p[I],u.data[y+3]=255;c.putImageData(u,0,0)}},{key:"getGaussianKernel",value:function(t,a){for(var e=function(t,a,e){return Math.exp(-(Math.pow(t,2)+Math.pow(a,2))/(2*Math.pow(e,2)))},r=0,n=at()(new Array(t),function(){return new Array(t).fill(0)}),i=0;i<t;i++)for(var h=0;h<t;h++){var o=h-~~(t/2),c=i-~~(t/2),d=e(o,c,a);n[i][h]=d,n[i][h]/=a*Math.sqrt(2*Math.PI),r+=n[i][h]}for(var u=0;u<t;u++)for(var s=0;s<t;s++)n[u][s]/=r;return n}},{key:"adaptKernel",value:function(t,a,e,r,n){for(var i=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},h=n.length,o=0;o<e;o++)for(var c=0;c<r;c++){for(var d=0,u=0;u<h;u++)for(var s=0;s<h;s++){var f=u-~~(h/2),l=s-~~(h/2),g=i(o+l,c+f);d+=n[u][s]*t[g]}var v=i(o,c);a[v]=d}}},{key:"nonMaximumSuppression",value:function(t,a,e,r){for(var n=function(t,a){return t+a*e},i=0;i<r;i++)for(var h=0;h<e;h++){var o=n(h,i),c=void 0,d=void 0,u=void 0,s=void 0;0==a[o]?(c=-1,d=0,u=1,s=0):45==a[o]?(c=-1,d=1,u=1,s=-1):90==a[o]?(c=0,d=-1,u=0,s=1):135==a[o]&&(c=-1,d=-1,u=1,s=1),0===h&&(c=Math.max(c,0),u=Math.max(u,0)),h===e-1&&(c=Math.min(c,0),u=Math.min(u,0)),0===i&&(d=Math.max(d,0),s=Math.max(s,0)),i===r-1&&(d=Math.min(d,0),s=Math.min(s,0)),Math.max(t[o],t[n(h+c,i+d)],t[n(h+u,i+s)])!==t[o]&&(t[o]=0)}}},{key:"histeresisThreshold",value:function(t,a,e,r,n,i){for(var h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=[[1,1,1],[1,0,1],[1,1,1]],c=0;c<t.length;c++)t[c]>=n?a[c]=255:t[c]<=i?a[c]=0:a[c]=t[c];for(var d=o.length,u=0;u<e;u++)for(var s=0;s<r;s++){var f=h(u,s);if(!(n<t[f]||t[f]<i)){for(var l=[],g=0;g<d;g++)for(var v=0;v<d;v++){var m=g-~~(d/2),w=v-~~(d/2),b=h(u+w,s+m);l.push(o[g][v]*t[b])}var p=Math.max.apply(Math,l);a[f]=p>=n?255:0}}}}]),a}(z),Tt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"init",value:function(){this.setSrcImage(b.srcImage.thorino)}},{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=this.getGaussianKernel(5,1.4),n=[[-1,-2,-1],[0,0,0],[1,2,1]],i=[[-1,0,1],[-2,0,2],[-1,0,1]],h=100,o=30,c=t.getContext("2d");c.drawImage(a,0,0,a.width,a.height);for(var d=c.getImageData(0,0,a.width,a.height),u=[],s=0;s<d.data.length;s+=4){var f=e(d.data[s],d.data[s+1],d.data[s+2]);u.push(f)}var l=new Array(a.width*a.height).fill(0),g=new Array(a.width*a.height).fill(0),v=new Array(a.width*a.height).fill(0),m=new Array(a.width*a.height).fill(0),w=new Array(a.width*a.height).fill(0),b=new Array(a.width*a.height).fill(0);this.adaptKernel(u,l,a.width,a.height,r),this.adaptKernel(l,g,a.width,a.height,i),this.adaptKernel(l,v,a.width,a.height,n);for(var p=0;p<g.length;p++){m[p]=Math.sqrt(Math.pow(g[p],2)+Math.pow(v[p],2)),0==m[p]&&(m[p]=1e-5);var M=Math.atan(v[p]/g[p]);-.4142<M&&M<=.4142?w[p]=0:.4142<M&&M<=2.4142?w[p]=45:Math.abs(M)>=2.4142?w[p]=90:-2.4142<M&&M<=-.4142&&(w[p]=135)}this.nonMaximumSuppression(m,w,a.width,a.height),this.histeresisThreshold(m,b,a.width,a.height,h,o);var j=this.hough(b,a.width,a.height),y=Object(xt["a"])(j,3),I=y[0],O=y[1],k=y[2];t.width=O,t.height=k;for(var x=c.createImageData(O,k),D=0,A=0;D<x.data.length;D+=4,A++)x.data[D]=x.data[D+1]=x.data[D+2]=I[A],x.data[D+3]=255;c.putImageData(x,0,0)}},{key:"getGaussianKernel",value:function(t,a){for(var e=function(t,a,e){return Math.exp(-(Math.pow(t,2)+Math.pow(a,2))/(2*Math.pow(e,2)))},r=0,n=at()(new Array(t),function(){return new Array(t).fill(0)}),i=0;i<t;i++)for(var h=0;h<t;h++){var o=h-~~(t/2),c=i-~~(t/2),d=e(o,c,a);n[i][h]=d,n[i][h]/=a*Math.sqrt(2*Math.PI),r+=n[i][h]}for(var u=0;u<t;u++)for(var s=0;s<t;s++)n[u][s]/=r;return n}},{key:"adaptKernel",value:function(t,a,e,r,n){for(var i=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},h=n.length,o=0;o<e;o++)for(var c=0;c<r;c++){for(var d=0,u=0;u<h;u++)for(var s=0;s<h;s++){var f=u-~~(h/2),l=s-~~(h/2),g=i(o+l,c+f);d+=n[u][s]*t[g]}var v=i(o,c);a[v]=d}}},{key:"nonMaximumSuppression",value:function(t,a,e,r){for(var n=function(t,a){return t+a*e},i=0;i<r;i++)for(var h=0;h<e;h++){var o=n(h,i),c=void 0,d=void 0,u=void 0,s=void 0;0==a[o]?(c=-1,d=0,u=1,s=0):45==a[o]?(c=-1,d=1,u=1,s=-1):90==a[o]?(c=0,d=-1,u=0,s=1):135==a[o]&&(c=-1,d=-1,u=1,s=1),0===h&&(c=Math.max(c,0),u=Math.max(u,0)),h===e-1&&(c=Math.min(c,0),u=Math.min(u,0)),0===i&&(d=Math.max(d,0),s=Math.max(s,0)),i===r-1&&(d=Math.min(d,0),s=Math.min(s,0)),Math.max(t[o],t[n(h+c,i+d)],t[n(h+u,i+s)])!==t[o]&&(t[o]=0)}}},{key:"histeresisThreshold",value:function(t,a,e,r,n,i){for(var h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=[[1,1,1],[1,0,1],[1,1,1]],c=0;c<t.length;c++)t[c]>=n?a[c]=255:t[c]<=i?a[c]=0:a[c]=t[c];for(var d=o.length,u=0;u<e;u++)for(var s=0;s<r;s++){var f=h(u,s);if(!(n<t[f]||t[f]<i)){for(var l=[],g=0;g<d;g++)for(var v=0;v<d;v++){var m=g-~~(d/2),w=v-~~(d/2),b=h(u+w,s+m);l.push(o[g][v]*t[b])}var p=Math.max.apply(Math,l);a[f]=p>=n?255:0}}}},{key:"hough",value:function(t,a,e){for(var r=1,n=180,i=Math.ceil(Math.sqrt(Math.pow(e,2)+Math.pow(a,2))),h=new Array(i*n).fill(0),o=0;o<e;o++)for(var c=0;c<a;c++){var d=o*e+c;if(0!==t[d])for(var u=0;u<n;u+=r){var s=Math.PI/n*u,f=~~(c*Math.cos(s)+o*Math.sin(s));h[u+f*n]+=1}}return[h,n,i]}}]),a}(z),Ft=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=function(t,a,e){return.2126*t+.7152*a+.0722*e},n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);var i=n.getImageData(0,0,e.width,e.height),h=n.createImageData(e.width,e.height),o=a.getContext("2d");o.drawImage(e,0,0,e.width,e.height);for(var c=o.createImageData(e.width,e.height),d=new Array(e.width*e.height).fill(0),u=this.threshold(i.data),s=[[0,1,0],[1,0,1],[0,1,0]],f=0,l=0;f<h.data.length;f+=4,l++){var g=r(i.data[f],i.data[f+1],i.data[f+2]);d[l]=g>=u?255:0}var v=d.slice();this.adaptKernel(d,v,e.width,e.height,s,function(t){if(t>=255)return 255});var m=v.slice();this.adaptKernel(v,m,e.width,e.height,s,function(t){if(t>=255)return 255});for(var w=0,b=0;w<h.data.length;w+=4,b++)h.data[w]=h.data[w+1]=h.data[w+2]=d[b],c.data[w]=c.data[w+1]=c.data[w+2]=m[b],h.data[w+3]=255,c.data[w+3]=255;n.putImageData(h,0,0),o.putImageData(c,0,0)}},{key:"threshold",value:function(t){for(var a=function(t,a,e){return.2126*t+.7152*a+.0722*e},e=Array(256).fill(0),r=0,n=0,i=0;i<t.length;i+=4){var h=~~a(t[i],t[i+1],t[i+2]);e[h]++}for(var o=0;o<256;o++){for(var c=0,d=0,u=0,s=0,f=0,l=0,g=0;g<=o;++g)c+=e[g],u+=g*e[g];for(var v=o+1;v<256;++v)d+=e[v],s+=v*e[v];c&&(f=u/c),d&&(l=s/d);var m=c*d*(f-l)*(f-l);m>n&&(n=m,r=o)}return r}},{key:"adaptKernel",value:function(t,a,e,r,n,i){for(var h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=n.length,c=Math.floor(o/2),d=1;d<e+1;d++)for(var u=1;u<r+1;u++){for(var s=0,f=0;f<o;f++)for(var l=0;l<o;l++){var g=h(d+f-c,u+l-c);s+=n[f][l]*t[g]}var v=h(d,u);null!=i&&(s=i(s),void 0!==s&&(a[v]=s))}}}]),a}($),Qt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=function(t,a,e){return.2126*t+.7152*a+.0722*e},n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);var i=n.getImageData(0,0,e.width,e.height),h=n.createImageData(e.width,e.height),o=a.getContext("2d");o.drawImage(e,0,0,e.width,e.height);for(var c=o.createImageData(e.width,e.height),d=new Array(e.width*e.height).fill(0),u=this.threshold(i.data),s=[[0,1,0],[1,0,1],[0,1,0]],f=0,l=0;f<h.data.length;f+=4,l++){var g=r(i.data[f],i.data[f+1],i.data[f+2]);d[l]=g>=u?255:0}var v=d.slice();this.adaptKernel(d,v,e.width,e.height,s,function(t){if(t<1020)return 0});var m=v.slice();this.adaptKernel(v,m,e.width,e.height,s,function(t){if(t<1020)return 0});for(var w=0,b=0;w<h.data.length;w+=4,b++)h.data[w]=h.data[w+1]=h.data[w+2]=d[b],c.data[w]=c.data[w+1]=c.data[w+2]=m[b],h.data[w+3]=255,c.data[w+3]=255;n.putImageData(h,0,0),o.putImageData(c,0,0)}},{key:"threshold",value:function(t){for(var a=function(t,a,e){return.2126*t+.7152*a+.0722*e},e=Array(256).fill(0),r=0,n=0,i=0;i<t.length;i+=4){var h=~~a(t[i],t[i+1],t[i+2]);e[h]++}for(var o=0;o<256;o++){for(var c=0,d=0,u=0,s=0,f=0,l=0,g=0;g<=o;++g)c+=e[g],u+=g*e[g];for(var v=o+1;v<256;++v)d+=e[v],s+=v*e[v];c&&(f=u/c),d&&(l=s/d);var m=c*d*(f-l)*(f-l);m>n&&(n=m,r=o)}return r}},{key:"adaptKernel",value:function(t,a,e,r,n,i){for(var h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=n.length,c=Math.floor(o/2),d=0;d<e;d++)for(var u=0;u<r;u++){for(var s=0,f=0;f<o;f++)for(var l=0;l<o;l++){var g=h(d+f-c,u+l-c);s+=n[f][l]*t[g]}var v=h(d-1,u-1);null!=i&&(s=i(s),void 0!==s&&(a[v]=s))}}}]),a}($),Rt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=function(t,a,e){return.2126*t+.7152*a+.0722*e},n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);var i=n.getImageData(0,0,e.width,e.height),h=n.createImageData(e.width,e.height),o=a.getContext("2d");o.drawImage(e,0,0,e.width,e.height);for(var c=o.createImageData(e.width,e.height),d=new Array(e.width*e.height).fill(0),u=this.threshold(i.data),s=[[0,1,0],[1,0,1],[0,1,0]],f=0,l=0;f<h.data.length;f+=4,l++)d[l]=r(i.data[f],i.data[f+1],i.data[f+2])>u?255:0;var g=d.slice();this.adaptKernel(g.slice(),g,e.width,e.height,s,function(t){if(t<1020)return 0}),this.adaptKernel(g.slice(),g,e.width,e.height,s,function(t){if(t>=255)return 255});for(var v=0,m=0;v<h.data.length;v+=4,m++)h.data[v]=h.data[v+1]=h.data[v+2]=d[m],c.data[v]=c.data[v+1]=c.data[v+2]=g[m],h.data[v+3]=255,c.data[v+3]=255;n.putImageData(h,0,0),o.putImageData(c,0,0)}},{key:"threshold",value:function(t){for(var a=function(t,a,e){return.2126*t+.7152*a+.0722*e},e=Array(256).fill(0),r=0,n=0,i=0;i<t.length;i+=4){var h=~~a(t[i],t[i+1],t[i+2]);e[h]++}for(var o=0;o<256;o++){for(var c=0,d=0,u=0,s=0,f=0,l=0,g=0;g<=o;++g)c+=e[g],u+=g*e[g];for(var v=o+1;v<256;++v)d+=e[v],s+=v*e[v];c&&(f=u/c),d&&(l=s/d);var m=c*d*(f-l)*(f-l);m>n&&(n=m,r=o)}return r}},{key:"adaptKernel",value:function(t,a,e,r,n,i){for(var h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=n.length,c=Math.floor(o/2),d=0;d<e;d++)for(var u=0;u<r;u++){for(var s=0,f=0;f<o;f++)for(var l=0;l<o;l++){var g=h(d+f-c,u+l-c);s+=n[f][l]*t[g]}var v=h(d,u);null!=i&&(s=i(s),void 0!==s&&(a[v]=s))}}}]),a}($),Jt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=function(t,a,e){return.2126*t+.7152*a+.0722*e},n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);var i=n.getImageData(0,0,e.width,e.height),h=n.createImageData(e.width,e.height),o=a.getContext("2d");o.drawImage(e,0,0,e.width,e.height);for(var c=o.createImageData(e.width,e.height),d=new Array(e.width*e.height).fill(0),u=[[0,1,0],[1,0,1],[0,1,0]],s=0,f=0;s<h.data.length;s+=4,f++)d[f]=r(i.data[s],i.data[s+1],i.data[s+2]);var l=this.cannyEdge(d,e.width,e.height),g=l.slice();this.adaptKernel(g.slice(),g,e.width,e.height,u,function(t){if(t>=255)return 255}),this.adaptKernel(g.slice(),g,e.width,e.height,u,function(t){if(t<1020)return 0});for(var v=0,m=0;v<h.data.length;v+=4,m++)h.data[v]=h.data[v+1]=h.data[v+2]=l[m],c.data[v]=c.data[v+1]=c.data[v+2]=g[m],h.data[v+3]=255,c.data[v+3]=255;n.putImageData(h,0,0),o.putImageData(c,0,0)}},{key:"adaptKernel",value:function(t,a,e,r,n){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=n.length,c=Math.floor(o/2),d=0;d<e;d++)for(var u=0;u<r;u++){for(var s=0,f=0;f<o;f++)for(var l=0;l<o;l++){var g=f-c,v=l-c,m=h(d+v,u+g);s+=n[f][l]*t[m]}var w=h(d,u);null!=i?(s=i(s),void 0!==s&&(a[w]=s)):a[w]=s}}},{key:"getGaussianKernel",value:function(t,a){for(var e=function(t,a,e){return Math.exp(-(Math.pow(t,2)+Math.pow(a,2))/(2*Math.pow(e,2)))},r=0,n=at()(new Array(t),function(){return new Array(t).fill(0)}),i=Math.floor(t/2),h=0;h<t;h++)for(var o=0;o<t;o++){var c=o-i,d=h-i,u=e(c,d,a);n[h][o]=u,n[h][o]/=a*Math.sqrt(2*Math.PI),r+=n[h][o]}for(var s=0;s<t;s++)for(var f=0;f<t;f++)n[s][f]/=r;return n}},{key:"cannyEdge",value:function(t,a,e){var r=this.getGaussianKernel(5,1.4),n=[[-1,-2,-1],[0,0,0],[1,2,1]],i=[[-1,0,1],[-2,0,2],[-1,0,1]],h=100,o=30,c=new Array(a*e).fill(0),d=new Array(a*e).fill(0),u=new Array(a*e).fill(0),s=new Array(a*e).fill(0),f=new Array(a*e).fill(0),l=new Array(a*e).fill(0);this.adaptKernel(t,c,a,e,r),this.adaptKernel(c,d,a,e,i),this.adaptKernel(c,u,a,e,n);for(var g=0;g<d.length;g++){s[g]=Math.sqrt(Math.pow(d[g],2)+Math.pow(u[g],2)),0==s[g]&&(s[g]=1e-5);var v=Math.atan(u[g]/d[g]);-.4142<v&&v<=.4142?f[g]=0:.4142<v&&v<=2.4142?f[g]=45:Math.abs(v)>=2.4142?f[g]=90:-2.4142<v&&v<=-.4142&&(f[g]=135)}return this.nonMaximumSuppression(s,f,a,e),this.histeresisThreshold(s,l,a,e,h,o),l}},{key:"nonMaximumSuppression",value:function(t,a,e,r){for(var n=function(t,a){return t+a*e},i=0;i<r;i++)for(var h=0;h<e;h++){var o=n(h,i),c=void 0,d=void 0,u=void 0,s=void 0;0==a[o]?(c=-1,d=0,u=1,s=0):45==a[o]?(c=-1,d=1,u=1,s=-1):90==a[o]?(c=0,d=-1,u=0,s=1):135==a[o]&&(c=-1,d=-1,u=1,s=1),0===h&&(c=Math.max(c,0),u=Math.max(u,0)),h===e-1&&(c=Math.min(c,0),u=Math.min(u,0)),0===i&&(d=Math.max(d,0),s=Math.max(s,0)),i===r-1&&(d=Math.min(d,0),s=Math.min(s,0)),Math.max(t[o],t[n(h+c,i+d)],t[n(h+u,i+s)])!==t[o]&&(t[o]=0)}}},{key:"histeresisThreshold",value:function(t,a,e,r,n,i){for(var h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=[[1,1,1],[1,0,1],[1,1,1]],c=0;c<t.length;c++)t[c]>=n?a[c]=255:t[c]<=i?a[c]=0:a[c]=t[c];for(var d=o.length,u=0;u<e;u++)for(var s=0;s<r;s++){var f=h(u,s);if(!(n<t[f]||t[f]<i)){for(var l=[],g=0;g<d;g++)for(var v=0;v<d;v++){var m=g-~~(d/2),w=v-~~(d/2),b=h(u+w,s+m);l.push(o[g][v]*t[b])}var p=Math.max.apply(Math,l);a[f]=p>=n?255:0}}}}]),a}($),Bt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(a.width,a.height),h=new Array(a.width*a.height).fill(0),o=new Array(a.width*a.height).fill(0),c=new Array(a.width*a.height).fill(0),d=this.threshold(n.data),u=[[0,1,0],[1,0,1],[0,1,0]],s=0,f=0;s<i.data.length;s+=4,f++)h[f]=e(n.data[s],n.data[s+1],n.data[s+2])<d?0:255;this.adaptKernel(h.slice(),o,a.width,a.height,u,function(t){return t<1020?0:255}),this.adaptKernel(h.slice(),c,a.width,a.height,u,function(t){if(t>=255)return 255});for(var l=0,g=0;l<i.data.length;l+=4,g++){var v=Math.abs(o[g]-c[g]);i.data[l]=i.data[l+1]=i.data[l+2]=v,i.data[l+3]=255}r.putImageData(i,0,0)}},{key:"threshold",value:function(t){for(var a=function(t,a,e){return.2126*t+.7152*a+.0722*e},e=Array(256).fill(0),r=0,n=0,i=0;i<t.length;i+=4){var h=~~a(t[i],t[i+1],t[i+2]);e[h]++}for(var o=0;o<256;o++){for(var c=0,d=0,u=0,s=0,f=0,l=0,g=0;g<=o;++g)c+=e[g],u+=g*e[g];for(var v=o+1;v<256;++v)d+=e[v],s+=v*e[v];c&&(f=u/c),d&&(l=s/d);var m=c*d*(f-l)*(f-l);m>n&&(n=m,r=o)}return r}},{key:"adaptKernel",value:function(t,a,e,r,n){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=n.length,c=Math.floor(o/2),d=0;d<e;d++)for(var u=0;u<r;u++){for(var s=0,f=0;f<o;f++)for(var l=0;l<o;l++){var g=f-c,v=l-c,m=h(d+v,u+g);s+=n[f][l]*t[m]}var w=h(d,u);null!=i?(s=i(s),void 0!==s&&(a[w]=s)):a[w]=s}}}]),a}(z),Zt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=function(t,a,e){return.2126*t+.7152*a+.0722*e},n=3,i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);var h=i.getImageData(0,0,e.width,e.height),o=i.createImageData(e.width,e.height),c=a.getContext("2d");c.drawImage(e,0,0,e.width,e.height);for(var d=c.createImageData(e.width,e.height),u=new Array(e.width*e.height).fill(0),s=this.threshold(h.data),f=[[0,1,0],[1,0,1],[0,1,0]],l=0,g=0;l<o.data.length;l+=4,g++)u[g]=r(h.data[l],h.data[l+1],h.data[l+2])<s?0:255;for(var v=u.slice(),m=0;m<n;m++)this.adaptKernel(v.slice(),v,e.width,e.height,f,function(t){if(t<1020)return 0});for(var w=0;w<n;w++)this.adaptKernel(v.slice(),v,e.width,e.height,f,function(t){if(t>=255)return 255});for(var b=0,p=0;b<o.data.length;b+=4,p++){var M=u[p]-v[p];o.data[b]=o.data[b+1]=o.data[b+2]=u[p],d.data[b]=d.data[b+1]=d.data[b+2]=M,o.data[b+3]=255,d.data[b+3]=255}i.putImageData(o,0,0),c.putImageData(d,0,0)}},{key:"threshold",value:function(t){for(var a=function(t,a,e){return.2126*t+.7152*a+.0722*e},e=Array(256).fill(0),r=0,n=0,i=0;i<t.length;i+=4){var h=~~a(t[i],t[i+1],t[i+2]);e[h]++}for(var o=0;o<256;o++){for(var c=0,d=0,u=0,s=0,f=0,l=0,g=0;g<=o;++g)c+=e[g],u+=g*e[g];for(var v=o+1;v<256;++v)d+=e[v],s+=v*e[v];c&&(f=u/c),d&&(l=s/d);var m=c*d*(f-l)*(f-l);m>n&&(n=m,r=o)}return r}},{key:"adaptKernel",value:function(t,a,e,r,n){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=n.length,c=Math.floor(o/2),d=0;d<e;d++)for(var u=0;u<r;u++){for(var s=0,f=0;f<o;f++)for(var l=0;l<o;l++){var g=f-c,v=l-c,m=h(d+v,u+g);s+=n[f][l]*t[m]}var w=h(d,u);null!=i?(s=i(s),void 0!==s&&(a[w]=s)):a[w]=s}}}]),a}($),Vt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=function(t,a,e){return.2126*t+.7152*a+.0722*e},n=3,i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);var h=i.getImageData(0,0,e.width,e.height),o=i.createImageData(e.width,e.height),c=a.getContext("2d");c.drawImage(e,0,0,e.width,e.height);for(var d=c.createImageData(e.width,e.height),u=new Array(e.width*e.height).fill(0),s=this.threshold(h.data),f=[[0,1,0],[1,0,1],[0,1,0]],l=0,g=0;l<o.data.length;l+=4,g++){var v=r(h.data[l],h.data[l+1],h.data[l+2]);u[g]=v<s?0:255}for(var m=u.slice(),w=0;w<n;w++)this.adaptKernel(m.slice(),m,e.width,e.height,f,function(t){if(t>=255)return 255});for(var b=0;b<n;b++)this.adaptKernel(m.slice(),m,e.width,e.height,f,function(t){if(t<1020)return 0});for(var p=0,M=0;p<o.data.length;p+=4,M++){var j=m[M]-u[M];o.data[p]=o.data[p+1]=o.data[p+2]=u[M],d.data[p]=d.data[p+1]=d.data[p+2]=j,o.data[p+3]=255,d.data[p+3]=255}i.putImageData(o,0,0),c.putImageData(d,0,0)}},{key:"threshold",value:function(t){for(var a=function(t,a,e){return.2126*t+.7152*a+.0722*e},e=Array(256).fill(0),r=0,n=0,i=0;i<t.length;i+=4){var h=~~a(t[i],t[i+1],t[i+2]);e[h]++}for(var o=0;o<256;o++){for(var c=0,d=0,u=0,s=0,f=0,l=0,g=0;g<=o;++g)c+=e[g],u+=g*e[g];for(var v=o+1;v<256;++v)d+=e[v],s+=v*e[v];c&&(f=u/c),d&&(l=s/d);var m=c*d*(f-l)*(f-l);m>n&&(n=m,r=o)}return r}},{key:"adaptKernel",value:function(t,a,e,r,n){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=n.length,c=Math.floor(o/2),d=0;d<e;d++)for(var u=0;u<r;u++){for(var s=0,f=0;f<o;f++)for(var l=0;l<o;l++){var g=f-c,v=l-c,m=h(d+v,u+g);s+=n[f][l]*t[m]}var w=h(d,u);null!=i?(s=i(s),void 0!==s&&(a[w]=s)):a[w]=s}}}]),a}($),Xt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=this,n=t.getContext("2d"),i=a.getContext("2d");i.drawImage(e,0,0,e.width,e.height);var h=new Image;h.src=b.srcImage.imori_part,h.onload=function(){t.width=h.width,t.height=h.height,n.drawImage(h,0,0,h.width,h.height);var a=n.getImageData(0,0,h.width,h.height),o=i.getImageData(0,0,e.width,e.height),c=r.templateMatchingSSD(o.data,e.width,e.height,a.data,h.width,h.height),d=Object(xt["a"])(c,2),u=d[0],s=d[1];i.strokeStyle="rgb(230, 10, 10)",i.rect(u,s,h.width,h.height),i.stroke()}}},{key:"templateMatchingSSD",value:function(t,a,e,r,n,i){for(var h=function(t,a,e){return t=Math.min(Math.max(t,0),n-1),a=Math.min(Math.max(a,0),i-1),a*n*4+4*t+e},o=function(t,r,n){return t=Math.min(Math.max(t,0),a-1),r=Math.min(Math.max(r,0),e-1),r*a*4+4*t+n},c=0,d=0,u=255*a*e*3,s=0;s<e-i;s++)for(var f=0;f<a-n;f++){for(var l=0,g=0;g<i;g++)for(var v=0;v<n;v++)for(var m=0;m<3;m++){var w=o(f+v,s+g,m),b=h(v,g,m);l+=Math.pow(t[w]-r[b],2)}l<u&&(u=l,c=f,d=s)}return[c,d]}}]),a}($),Yt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=this,n=t.getContext("2d"),i=a.getContext("2d");i.drawImage(e,0,0,e.width,e.height);var h=new Image;h.src=b.srcImage.imori_part,h.onload=function(){t.width=h.width,t.height=h.height,n.drawImage(h,0,0,h.width,h.height);var a=n.getImageData(0,0,h.width,h.height),o=i.getImageData(0,0,e.width,e.height),c=r.templateMatchingSAD(o.data,e.width,e.height,a.data,h.width,h.height),d=Object(xt["a"])(c,2),u=d[0],s=d[1];i.strokeStyle="rgb(230, 10, 10)",i.rect(u,s,h.width,h.height),i.stroke()}}},{key:"templateMatchingSAD",value:function(t,a,e,r,n,i){for(var h=function(t,a,e){return t=Math.min(Math.max(t,0),n-1),a=Math.min(Math.max(a,0),i-1),a*n*4+4*t+e},o=function(t,r,n){return t=Math.min(Math.max(t,0),a-1),r=Math.min(Math.max(r,0),e-1),r*a*4+4*t+n},c=0,d=0,u=255*a*e*3,s=0;s<e-i;s++)for(var f=0;f<a-n;f++){for(var l=0,g=0;g<i;g++)for(var v=0;v<n;v++)for(var m=0;m<3;m++){var w=o(f+v,s+g,m),b=h(v,g,m);l+=Math.abs(t[w]-r[b])}l<u&&(u=l,c=f,d=s)}return[c,d]}}]),a}($),Wt=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=this,n=t.getContext("2d"),i=a.getContext("2d");i.drawImage(e,0,0,e.width,e.height);var h=new Image;h.src=b.srcImage.imori_part,h.onload=function(){t.width=h.width,t.height=h.height,n.drawImage(h,0,0,h.width,h.height);var a=n.getImageData(0,0,h.width,h.height),o=i.getImageData(0,0,e.width,e.height),c=r.templateMatchingNCC(o.data,e.width,e.height,a.data,h.width,h.height),d=Object(xt["a"])(c,2),u=d[0],s=d[1];i.strokeStyle="rgb(230, 10, 10)",i.rect(u,s,h.width,h.height),i.stroke()}}},{key:"templateMatchingNCC",value:function(t,a,e,r,n,i){for(var h=function(t,a,e){return t=Math.min(Math.max(t,0),n-1),a=Math.min(Math.max(a,0),i-1),a*n*4+4*t+e},o=function(t,r,n){return t=Math.min(Math.max(t,0),a-1),r=Math.min(Math.max(r,0),e-1),r*a*4+4*t+n},c=0,d=0,u=0,s=0;s<e-i;s++)for(var f=0;f<a-n;f++){for(var l=0,g=0,v=0,m=0,w=0;w<i;w++)for(var b=0;b<n;b++)for(var p=0;p<3;p++){var M=o(f+b,s+w,p),j=h(b,w,p);g+=t[M]*r[j],v+=Math.pow(t[M],2),m+=Math.pow(r[j],2)}l=g/Math.sqrt(v)*Math.sqrt(m),l>u&&(u=l,c=f,d=s)}return[c,d]}}]),a}($),ta=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=this,n=t.getContext("2d"),i=a.getContext("2d");i.drawImage(e,0,0,e.width,e.height);var h=new Image;h.src=b.srcImage.imori_part;var o=function(){t.width=h.width,t.height=h.height,n.drawImage(h,0,0,h.width,h.height);var a=n.getImageData(0,0,h.width,h.height),o=i.getImageData(0,0,e.width,e.height),c=r.templateMatchingZNCC(o.data,e.width,e.height,a.data,h.width,h.height),d=Object(xt["a"])(c,2),u=d[0],s=d[1];i.strokeStyle="rgb(230, 10, 10)",i.rect(u,s,h.width,h.height),i.stroke()};h.addEventListener("load",o,!0)}},{key:"templateMatchingZNCC",value:function(t,a,e,r,n,i){for(var h=function(t,a,e){return t=Math.min(Math.max(t,0),n-1),a=Math.min(Math.max(a,0),i-1),a*n*4+4*t+e},o=function(t,r,n){return t=Math.min(Math.max(t,0),a-1),r=Math.min(Math.max(r,0),e-1),r*a*4+4*t+n},c=0,d=0,u=0,s=0;s<e-i;s++)for(var f=0;f<a-n;f++){for(var l=0,g=0,v=0,m=0,w=0;w<i;w++)for(var b=0;b<n;b++)for(var p=0;p<3;p++){var M=o(f+b,s+w,p),j=h(b,w,p);g+=t[M]*r[j],v+=Math.pow(t[M],2),m+=Math.pow(r[j],2)}l=g/Math.sqrt(v)*Math.sqrt(m),l>u&&(u=l,c=f,d=s)}return[c,d]}}]),a}($),aa=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"init",value:function(){this.setSrcImage(b.srcImage.seg)}},{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=function(t,a){return t=Math.ceil(t),a=Math.floor(a),Math.floor(Math.random()*(a-t))+t},n=t.getContext("2d");n.drawImage(a,0,0,a.width,a.height);for(var i=n.getImageData(0,0,a.width,a.height),h=n.createImageData(a.width,a.height),o=new Array(a.width*a.height).fill(0),c=new Array(a.width*a.height).fill([0,0,0]),d=0,u=0;d<i.data.length;d+=4,u++)o[u]=e(i.data[d],i.data[d+1],i.data[d+2])>128?255:0;for(var s=this.rasterScan(o,a.width,a.height),f=Object(xt["a"])(s,3),l=f[0],g=f[1],v=f[2],m=at()(new Array(v),function(){return[r(0,255),r(0,255),r(0,255)]}),w=0,b=2;b<g.length;w++,b++)for(var p=m[g[b]-2],M=0;M<l.length;M++)l[M]===w+2&&(c[M]=p);for(var j=0,y=0;j<i.data.length;j+=4,y++){var I=c[y];I||(I=[0,0,0]),h.data[j]=I[0],h.data[j+1]=I[1],h.data[j+2]=I[2],h.data[j+3]=255}n.putImageData(h,0,0)}},{key:"rasterScan",value:function(t,a,e){for(var r=function(t,r){return r=Math.min(Math.max(r,0),e-1),t=Math.min(Math.max(t,0),a-1),r*a+t},n=t.slice().map(function(t){return t>0?1:0}),i=new Array(t.length).fill(0),h=1,o=1,c=0;c<e;c++)for(var d=0;d<a;d++)if(0!=n[r(d,c)]){var u=n[r(d,c-1)],s=n[r(d-1,c)];u<2&&s<2?(h++,n[r(d,c)]=h):function(){var t=[u,s],a=[];t.forEach(function(t){t>1&&a.push(t)});var e=Math.min.apply(Math,a);n[r(d,c)]=e;var h=e;a.forEach(function(t){0!==i[t]&&(h=Math.min(h,i[t]))}),a.forEach(function(t){i[t]=h})}()}for(var f=2;f<h+1;f++)for(var l=!0,g=0;g<h+1;g++)i[g]===f&&(l&&(o++,l=!1),i[g]=o);return[n,i,o]}}]),a}(z),ea=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"init",value:function(){this.setSrcImage(b.srcImage.seg)}},{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=function(t,a){return t=Math.ceil(t),a=Math.floor(a),Math.floor(Math.random()*(a-t))+t},n=t.getContext("2d");n.drawImage(a,0,0,a.width,a.height);for(var i=n.getImageData(0,0,a.width,a.height),h=n.createImageData(a.width,a.height),o=new Array(a.width*a.height).fill(0),c=new Array(a.width*a.height).fill([0,0,0]),d=0,u=0;d<i.data.length;d+=4,u++)o[u]=e(i.data[d],i.data[d+1],i.data[d+2])>128?255:0;for(var s=this.rasterScan(o,a.width,a.height),f=Object(xt["a"])(s,3),l=f[0],g=f[1],v=f[2],m=at()(new Array(v),function(){return[r(0,255),r(0,255),r(0,255)]}),w=0,b=2;b<g.length;w++,b++)for(var p=m[g[b]-2],M=0;M<l.length;M++)l[M]===w+2&&(c[M]=p);for(var j=0,y=0;j<i.data.length;j+=4,y++){var I=c[y];I||(I=[0,0,0]),h.data[j]=I[0],h.data[j+1]=I[1],h.data[j+2]=I[2],h.data[j+3]=255}n.putImageData(h,0,0)}},{key:"rasterScan",value:function(t,a,e){for(var r=function(t,r){return r=Math.min(Math.max(r,0),e-1),t=Math.min(Math.max(t,0),a-1),r*a+t},n=t.slice().map(function(t){return t>0?1:0}),i=new Array(t.length).fill(0),h=1,o=1,c=0;c<e;c++)for(var d=0;d<a;d++)if(0!=n[r(d,c)]){var u=n[r(d+1,c-1)],s=n[r(d,c-1)],f=n[r(d-1,c-1)],l=n[r(d-1,c)];Math.max(u,s,f,l)<2?(h++,n[r(d,c)]=h):function(){var t=[u,s,f,l],a=[];t.forEach(function(t){t>1&&a.push(t)});var e=Math.min.apply(Math,a);n[r(d,c)]=e;var h=e;a.forEach(function(t){0!==i[t]&&(h=Math.min(h,i[t]))}),a.forEach(function(t){i[t]=h})}()}for(var g=2;g<h+1;g++)for(var v=!0,m=0;m<h+1;m++)i[m]===g&&(v&&(o++,v=!1),i[m]=o);return[n,i,o]}}]),a}(z),ra=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"_initObject",value:function(t){var a=this,e=t.$refs["canvas1"],r=t.$refs["canvas2"],n=t.$refs["canvas3"],i=t.$refs["button-run"],h=new Image;h.src=b.srcImage.default;var o=new Image;o.src=b.srcImage.thorino,h.addEventListener("load",function(){e.width=n.width=h.width,e.height=n.height=h.height}),o.addEventListener("load",function(){r.width=h.width,r.height=h.height,r.getContext("2d").drawImage(o,0,0,h.width,h.height)}),L.drawImage(e,h),i.addEventListener("click",function(){a.main(n,h,o)})}},{key:"main",value:function(t,a,e){var r=t.getContext("2d"),n=a.width,i=a.height;t.width=n,t.height=i,r.drawImage(a,0,0,n,i);var h=r.getImageData(0,0,n,i);r.drawImage(e,0,0,n,i);for(var o=r.getImageData(0,0,n,i),c=r.createImageData(t.width,t.height),d=0;d<c.data.length;d+=4){for(var u=0;u<3;u++)c.data[d+u]=h.data[d+u]/2+o.data[d+u]/2;c.data[d+3]=255}r.putImageData(c,0,0)}}]),a}($),na=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"init",value:function(){this.setSrcImage(b.srcImage.renketsu)}},{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(a.width,a.height),h=new Array(a.width*a.height).fill(0),o=0,c=0;o<n.data.length;o+=4,c++)h[c]=e(n.data[o],n.data[o+1],n.data[o+2])>128?255:0;for(var d=this.findLinks(h,a.width,a.height),u=0,s=0;u<i.data.length;u+=4,s++){var f=d[s],l=[0,0,0];0===f&&(l=[255,0,0]),1===f&&(l=[0,255,0]),2===f&&(l=[0,0,255]),3===f&&(l=[0,255,255]),4===f&&(l=[255,0,255]),i.data[u]=l[0],i.data[u+1]=l[1],i.data[u+2]=l[2],i.data[u+3]=255}r.putImageData(i,0,0)}},{key:"findLinks",value:function(t,a,e){for(var r=function(t,r){return r=Math.min(Math.max(r,0),e-1),t=Math.min(Math.max(t,0),a-1),r*a+t},n=function(t,a){return Math.max(t,a)},i=function(t,a){return Math.min(t,a)},h=t.slice().map(function(t){return t>0?1:0}),o=new Array(t.length).fill(0),c=0;c<e;c++)for(var d=0;d<a;d++)if(0!=h[r(d,c)]){var u=0;u+=h[r(i(d+1,a-1),c)]-h[r(i(d+1,a-1),c)]*h[r(i(d+1,a-1),n(c-1,0))]*h[r(d,n(c-1,0))],u+=h[r(d,n(c-1,0))]-h[r(d,n(c-1,0))]*h[r(n(d-1,0),n(c-1,0))]*h[r(n(d-1,0),c)],u+=h[r(n(d-1,0),c)]-h[r(n(d-1,0),c)]*h[r(n(d-1,0),i(c+1,e-1))]*h[r(d,i(c+1,e-1))],u+=h[r(d,i(c+1,e-1))]-h[r(d,i(c+1,e-1))]*h[r(i(d+1,a-1),i(c+1,e-1))]*h[r(i(d+1,a-1),c)],o[r(d,c)]=u}else o[r(d,c)]=-1;return o}}]),a}(z),ia=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"init",value:function(){this.setSrcImage(b.srcImage.renketsu)}},{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(a.width,a.height),h=new Array(a.width*a.height).fill(0),o=0,c=0;o<n.data.length;o+=4,c++)h[c]=e(n.data[o],n.data[o+1],n.data[o+2])>128?255:0;for(var d=this.findLinks(h,a.width,a.height),u=0,s=0;u<i.data.length;u+=4,s++){var f=d[s],l=[0,0,0];0===f&&(l=[255,0,0]),1===f&&(l=[0,255,0]),2===f&&(l=[0,0,255]),3===f&&(l=[0,255,255]),4===f&&(l=[255,0,255]),i.data[u]=l[0],i.data[u+1]=l[1],i.data[u+2]=l[2],i.data[u+3]=255}r.putImageData(i,0,0)}},{key:"findLinks",value:function(t,a,e){var r=function(t,r){return r=Math.min(Math.max(r,0),e-1),t=Math.min(Math.max(t,0),a-1),r*a+t},n=function(t,a){return Math.max(t,a)},i=function(t,a){return Math.min(t,a)},h=t.slice().map(function(t){return t>0?1:0}),o=h.slice();o=o.map(function(t){return 1-t});for(var c=new Array(t.length).fill(0),d=0;d<e;d++)for(var u=0;u<a;u++)if(h[r(u,d)]<1)c[r(u,d)]=-1;else{var s=0;s+=o[r(i(u+1,a-1),d)]-o[r(i(u+1,a-1),d)]*o[r(i(u+1,a-1),n(d-1,0))]*o[r(u,n(d-1,0))],s+=o[r(u,n(d-1,0))]-o[r(u,n(d-1,0))]*o[r(n(u-1,0),n(d-1,0))]*o[r(n(u-1,0),d)],s+=o[r(n(u-1,0),d)]-o[r(n(u-1,0),d)]*o[r(n(u-1,0),i(d+1,e-1))]*o[r(u,i(d+1,e-1))],s+=o[r(u,i(d+1,e-1))]-o[r(u,i(d+1,e-1))]*o[r(i(u+1,a-1),i(d+1,e-1))]*o[r(i(u+1,a-1),d)],c[r(u,d)]=s}return c}}]),a}(z),ha=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"init",value:function(){this.setSrcImage(b.srcImage.gazo)}},{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(a.width,a.height),h=new Array(a.width*a.height).fill(0),o=0,c=0;o<n.data.length;o+=4,c++)h[c]=e(n.data[o],n.data[o+1],n.data[o+2])>128?255:0;for(var d=this.rasterScan(h,a.width,a.height),u=0,s=0;u<i.data.length;u+=4,s++){var f=d[s];i.data[u]=i.data[u+1]=i.data[u+2]=~~(255*f),i.data[u+3]=255}r.putImageData(i,0,0)}},{key:"rasterScan",value:function(t,a,e){var r=function(t,r){return r=Math.min(Math.max(r,0),e-1),t=Math.min(Math.max(t,0),a-1),r*a+t},n=function(t){return t.reduce(function(t,a,e,r){return t+a})},i=t.slice().map(function(t){return t>0?1:0}),h=1;while(h>0){h=0;for(var o=i.slice(),c=0;c<e;c++)for(var d=0;d<a;d++)if(!(i[r(d,c)]<1)){var u=0;o[r(d+1,c)]+o[r(d,c-1)]+o[r(d-1,c)]+o[r(d,c+1)]<4&&u++;var s=0;s+=i[r(d+1,c)]-i[r(d+1,c)]*i[r(d+1,c-1)]*i[r(d,c-1)],s+=i[r(d,c-1)]-i[r(d,c-1)]*i[r(d-1,c-1)]*i[r(d-1,c)],s+=i[r(d-1,c)]-i[r(d-1,c)]*i[r(d-1,c+1)]*i[r(d,c+1)],s+=i[r(d,c+1)]-i[r(d,c+1)]*i[r(d+1,c+1)]*i[r(d+1,c)],1==s&&u++;for(var f=[],l=c-1;l<c+2;l++)for(var g=d-1;g<d+2;g++)f.push(i[r(g,l)]);n(f)>=4&&u++,3==u&&(i[r(d,c)]=0,h++)}}return i}}]),a}(z),oa=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"init",value:function(){this.setSrcImage(b.srcImage.gazo)}},{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(a.width,a.height),h=new Array(a.width*a.height).fill(0),o=0,c=0;o<n.data.length;o+=4,c++)h[c]=e(n.data[o],n.data[o+1],n.data[o+2])>128?255:0;for(var d=this.rasterScan(h,a.width,a.height),u=0,s=0;u<i.data.length;u+=4,s++){var f=d[s];i.data[u]=i.data[u+1]=i.data[u+2]=~~(255*f),i.data[u+3]=255}r.putImageData(i,0,0)}},{key:"rasterScan",value:function(t,a,e){var r=function(t,r){return r=Math.min(Math.max(r,0),e-1),t=Math.min(Math.max(t,0),a-1),r*a+t},n=function(t){return t.reduce(function(t,a,e,r){return t+a})},i=t.slice().map(function(t){return t>0?1:0}),h=1;while(h>0){h=0;for(var o=i.slice(),c=i.slice(),d=o.map(function(t){return 1-t}),u=c.map(function(t){return 1-t}),s=0;s<e;s++)for(var f=0;f<a;f++)if(!(i[r(f,s)]<1)){var l=0;o[r(f+1,s)]+o[r(f,s-1)]+o[r(f-1,s)]+o[r(f,s+1)]<4&&l++;var g=0;g+=d[r(f+1,s)]-d[r(f+1,s)]*d[r(f+1,s-1)]*d[r(f,s-1)],g+=d[r(f,s-1)]-d[r(f,s-1)]*d[r(f-1,s-1)]*d[r(f-1,s)],g+=d[r(f-1,s)]-d[r(f-1,s)]*d[r(f-1,s+1)]*d[r(f,s+1)],g+=d[r(f,s+1)]-d[r(f,s+1)]*d[r(f+1,s+1)]*d[r(f+1,s)],1==g&&l++;for(var v=[],m=[],w=s-1;w<s+2;w++)for(var b=f-1;b<f+2;b++)v.push(i[r(b,w)]),m.push(o[r(b,w)]);n(v)>=4&&l++,n(m)>=4&&l++;var p=!1;g=0,g+=u[r(f+1,s)]-u[r(f+1,s)]*u[r(f+1,s-1)]*(1-o[r(f,s-1)]),g+=1-o[r(f,s-1)]-(1-o[r(f,s-1)])*u[r(f-1,s-1)]*u[r(f-1,s)],g+=u[r(f-1,s)]-u[r(f-1,s)]*u[r(f-1,s+1)]*u[r(f,s+1)],g+=u[r(f,s+1)]-u[r(f,s+1)]*u[r(f+1,s+1)]*u[r(f+1,s)],1==g&&(p=!0),u=i.slice().map(function(t){return 1-t}),g=0,g+=u[r(f+1,s)]-u[r(f+1,s)]*u[r(f+1,s-1)]*u[r(f,s-1)],g+=u[r(f,s-1)]-u[r(f,s-1)]*u[r(f-1,s-1)]*(1-o[r(f-1,s)]),g+=1-o[r(f-1,s)]-(1-o[r(f-1,s)])*u[r(f-1,s+1)]*u[r(f,s+1)],g+=u[r(f,s+1)]-u[r(f,s+1)]*u[r(f+1,s+1)]*u[r(f+1,s)],1==g&&(p=!0),p&&l++,l>=5&&(i[r(f,s)]=0,h++)}}return i}}]),a}(z),ca=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"init",value:function(){this.setSrcImage(b.srcImage.gazo)}},{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(a.width,a.height),h=new Array(a.width*a.height).fill(0),o=0,c=0;o<n.data.length;o+=4,c++)h[c]=e(n.data[o],n.data[o+1],n.data[o+2])>128?255:0;for(var d=this.rasterScan(h,a.width,a.height),u=0,s=0;u<i.data.length;u+=4,s++){var f=d[s];i.data[u]=i.data[u+1]=i.data[u+2]=~~(255*f),i.data[u+3]=255}r.putImageData(i,0,0)}},{key:"rasterScan",value:function(t,a,e){for(var r=function(t,r){return r=Math.min(Math.max(r,0),e-1),t=Math.min(Math.max(t,0),a-1),r*a+t},n=function(t){return t.reduce(function(t,a,e,r){return t+a})},i=t.slice().map(function(t){return t>0?0:1}),h=0;h<5e3;h++){for(var o=[],c=[],d=1;d<e-1;d++)for(var u=1;u<a-1;u++)if(!(i[r(u,d)]>0)){var s=0;if(i[r(u+1,d-1)]-i[r(u,d-1)]==1&&s++,i[r(u+1,d)]-i[r(u+1,d-1)]==1&&s++,i[r(u+1,d+1)]-i[r(u+1,d)]==1&&s++,i[r(u,d+1)]-i[r(u+1,d+1)]==1&&s++,i[r(u-1,d+1)]-i[r(u,d+1)]==1&&s++,i[r(u-1,d)]-i[r(u-1,d+1)]==1&&s++,i[r(u-1,d-1)]-i[r(u-1,d)]==1&&s++,i[r(u,d-1)]-i[r(u-1,d-1)]==1&&s++,1===s){var f=n([i[r(u-1,d-1)],i[r(u,d-1)],i[r(u+1,d-1)],i[r(u-1,d)],i[r(u,d)],i[r(u+1,d)],i[r(u-1,d+1)],i[r(u,d+1)],i[r(u+1,d+1)]]);f<2||f>6||i[r(u,d-1)]+i[r(u+1,d)]+i[r(u,d+1)]<1||i[r(u+1,d)]+i[r(u,d+1)]+i[r(u-1,d)]<1||o.push([u,d])}}o.forEach(function(t){i[r(t[0],t[1])]=1});for(var l=1;l<e-1;l++)for(var g=1;g<a-1;g++)if(!(i[r(g,l)]>0)){var v=0;if(i[r(g+1,l-1)]-i[r(g,l-1)]==1&&v++,i[r(g+1,l)]-i[r(g+1,l-1)]==1&&v++,i[r(g+1,l+1)]-i[r(g+1,l)]==1&&v++,i[r(g,l+1)]-i[r(g+1,l+1)]==1&&v++,i[r(g-1,l+1)]-i[r(g,l+1)]==1&&v++,i[r(g-1,l)]-i[r(g-1,l+1)]==1&&v++,i[r(g-1,l-1)]-i[r(g-1,l)]==1&&v++,i[r(g,l-1)]-i[r(g-1,l-1)]==1&&v++,1===v){var m=n([i[r(g-1,l-1)],i[r(g,l-1)],i[r(g+1,l-1)],i[r(g-1,l)],i[r(g,l)],i[r(g+1,l)],i[r(g-1,l+1)],i[r(g,l+1)],i[r(g+1,l+1)]]);m<2||m>6||i[r(g,l-1)]+i[r(g+1,l)]+i[r(g-1,l)]<1||i[r(g,l-1)]+i[r(g,l+1)]+i[r(g-1,l)]<1||c.push([g,l])}}if(c.forEach(function(t){i[r(t[0],t[1])]=1}),o.length<1&&c.length<1)break}return i=i.map(function(t){return 1-t}),i}}]),a}(z),da=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=t.getContext("2d"),r=a.width,n=a.height;e.drawImage(a,0,0,r,n);for(var i=e.getImageData(0,0,r,n),h=e.createImageData(t.width,t.height),o=0;o<i.data.length;o+=4){var c=this.rgb2hsv([i.data[o],i.data[o+1],i.data[o+2]]);180<=c[0]&&c[0]<=260?h.data[o]=h.data[o+1]=h.data[o+2]=255:h.data[o]=h.data[o+1]=h.data[o+2]=0,h.data[o+3]=255}e.putImageData(h,0,0)}},{key:"rgb2hsv",value:function(t){var a=t[0]/255,e=t[1]/255,r=t[2]/255,n=Math.max(a,e,r),i=Math.min(a,e,r),h=n-i,o=0;switch(i){case n:o=0;break;case a:o=(r-e)/h*60+180;break;case e:o=(a-r)/h*60+300;break;case r:o=(e-a)/h*60+60;break}var c=0==n?0:h/n,d=n;return[o,c,d]}}]),a}(z),ua=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=t.getContext("2d"),n=a.getContext("2d"),i=e.width,h=e.height;t.width=a.width=i,t.height=a.height=h,r.drawImage(e,0,0,i,h),n.drawImage(e,0,0,i,h);for(var o=r.getImageData(0,0,i,h),c=r.createImageData(t.width,t.height),d=n.getImageData(0,0,i,h),u=n.createImageData(a.width,a.height),s=0;s<o.data.length;s+=4){var f=this.rgb2hsv([o.data[s],o.data[s+1],o.data[s+2]]);180<=f[0]&&f[0]<=260?c.data[s]=c.data[s+1]=c.data[s+2]=255:c.data[s]=c.data[s+1]=c.data[s+2]=0,c.data[s+3]=255}r.putImageData(c,0,0);for(var l=0;l<d.data.length;l+=4)0===c.data[l]?(u.data[l]=d.data[l],u.data[l+1]=d.data[l+1],u.data[l+2]=d.data[l+2]):u.data[l]=u.data[l+1]=u.data[l+2]=0,u.data[l+3]=255;n.putImageData(u,0,0)}},{key:"rgb2hsv",value:function(t){var a=t[0]/255,e=t[1]/255,r=t[2]/255,n=Math.max(a,e,r),i=Math.min(a,e,r),h=n-i,o=0;switch(i){case n:o=0;break;case a:o=(r-e)/h*60+180;break;case e:o=(a-r)/h*60+300;break;case r:o=(e-a)/h*60+60;break}var c=0==n?0:h/n,d=n;return[o,c,d]}}]),a}($),sa=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a,e){var r=t.getContext("2d"),n=a.getContext("2d"),i=e.width,h=e.height,o=[[0,1,0],[1,0,1],[0,1,0]];r.drawImage(e,0,0,i,h),n.drawImage(e,0,0,i,h);for(var c=r.getImageData(0,0,i,h),d=r.createImageData(t.width,t.height),u=n.getImageData(0,0,i,h),s=n.createImageData(a.width,a.height),f=new Array(i*h).fill(0),l=0,g=0;l<c.data.length;l+=4,g++){var v=this.rgb2hsv([c.data[l],c.data[l+1],c.data[l+2]]);180<=v[0]&&v[0]<=260&&(f[g]=255)}for(var m=3,w=f.slice(),b=0;b<m;b++)this.adaptKernel(w.slice(),w,e.width,e.height,o,function(t){if(t>=255)return 255});for(var p=0;p<m;p++)this.adaptKernel(w.slice(),w,e.width,e.height,o,function(t){if(t<1020)return 0});for(var M=0;M<m;M++)this.adaptKernel(w.slice(),w,e.width,e.height,o,function(t){if(t<1020)return 0});for(var j=0;j<m;j++)this.adaptKernel(w.slice(),w,e.width,e.height,o,function(t){if(t>=255)return 255});for(var y=0,I=0;y<u.data.length;y+=4,I++)0===w[I]?(s.data[y]=u.data[y],s.data[y+1]=u.data[y+1],s.data[y+2]=u.data[y+2]):s.data[y]=s.data[y+1]=s.data[y+2]=0,d.data[y]=d.data[y+1]=d.data[y+2]=w[I],d.data[y+3]=255,s.data[y+3]=255;n.putImageData(s,0,0),r.putImageData(d,0,0)}},{key:"rgb2hsv",value:function(t){var a=t[0]/255,e=t[1]/255,r=t[2]/255,n=Math.max(a,e,r),i=Math.min(a,e,r),h=n-i,o=0;switch(i){case n:o=0;break;case a:o=(r-e)/h*60+180;break;case e:o=(a-r)/h*60+300;break;case r:o=(e-a)/h*60+60;break}var c=0==n?0:h/n,d=n;return[o,c,d]}},{key:"adaptKernel",value:function(t,a,e,r,n){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=n.length,c=Math.floor(o/2),d=0;d<e;d++)for(var u=0;u<r;u++){for(var s=0,f=0;f<o;f++)for(var l=0;l<o;l++){var g=f-c,v=l-c,m=h(d+v,u+g);s+=n[f][l]*t[m]}var w=h(d,u);null!=i?(s=i(s),void 0!==s&&(a[w]=s)):a[w]=s}}}]),a}($),fa=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(a.width,a.height),h=0;h<n.data.length;h+=4)i.data[h]=i.data[h+1]=i.data[h+2]=e(n.data[h],n.data[h+1],n.data[h+2]),i.data[h+3]=255;r.putImageData(i,0,0),this.bilinear(t,.5),this.bilinear(t,2)}},{key:"bilinear",value:function(t,a){var e=t.width,r=t.height,n=t.width*a,i=t.height*a,h=function(t,a,e){return t=Math.min(Math.max(t,0),n-1),a=Math.min(Math.max(a,0),i-1),a*n*4+4*t+e},o=function(t,a,n){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*r*4+4*t+n},c=function(t,a){var e=Math.abs(t-a);return e>1?0:1-e},d=t.getContext("2d"),u=d.getImageData(0,0,e,r),s=d.createImageData(n,i);t.width=n,t.height=i;for(var f=[0,1],l=0;l<n;l++)for(var g=function(t){var e=l/a,r=t/a,n=f.map(function(t){return t+Math.floor(e)}),i=f.map(function(t){return t+Math.floor(r)}),d=void 0,g=void 0,v=void 0;d=g=v=0;var m=!0,w=!1,b=void 0;try{for(var p,M=pt()(i);!(m=(p=M.next()).done);m=!0){var j=p.value,y=!0,I=!1,O=void 0;try{for(var k,x=pt()(n);!(y=(k=x.next()).done);y=!0){var D=k.value,A=c(j,r)*c(D,e);d+=u.data[o(~~D,~~j,0)]*A,g+=u.data[o(~~D,~~j,1)]*A,v+=u.data[o(~~D,~~j,2)]*A}}catch(C){I=!0,O=C}finally{try{y||null==x.return||x.return()}finally{if(I)throw O}}}}catch(C){w=!0,b=C}finally{try{m||null==M.return||M.return()}finally{if(w)throw b}}s.data[h(l,t,0)]=~~d,s.data[h(l,t,1)]=~~g,s.data[h(l,t,2)]=~~v,s.data[h(l,t,3)]=255},v=0;v<i;v++)g(v);d.putImageData(s,0,0)}}]),a}(z),la=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=function(t){return Math.abs(t)},n=t.getContext("2d");n.drawImage(a,0,0,a.width,a.height);for(var i=n.getImageData(0,0,a.width,a.height),h=n.createImageData(a.width,a.height),o=0;o<i.data.length;o+=4)h.data[o]=h.data[o+1]=h.data[o+2]=e(i.data[o],i.data[o+1],i.data[o+2]),h.data[o+3]=255;n.putImageData(h,0,0),this.bilinear(t,.5),this.bilinear(t,2);for(var c=n.getImageData(0,0,a.width,a.height),d=n.createImageData(a.width,a.height),u=0;u<d.data.length;u+=4)d.data[u+3]=255,d.data[u]=r(c.data[u]-h.data[u]),d.data[u+1]=r(c.data[u+1]-h.data[u+1]),d.data[u+2]=r(c.data[u+2]-h.data[u+2]);n.putImageData(d,0,0)}},{key:"bilinear",value:function(t,a){var e=t.width,r=t.height,n=t.width*a,i=t.height*a,h=function(t,a,e){return t=Math.min(Math.max(t,0),n-1),a=Math.min(Math.max(a,0),i-1),a*n*4+4*t+e},o=function(t,a,n){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*r*4+4*t+n},c=function(t,a){var e=Math.abs(t-a);return e>1?0:1-e},d=t.getContext("2d"),u=d.getImageData(0,0,e,r),s=d.createImageData(n,i);t.width=n,t.height=i;for(var f=[0,1],l=0;l<n;l++)for(var g=function(t){var e=l/a,r=t/a,n=f.map(function(t){return t+Math.floor(e)}),i=f.map(function(t){return t+Math.floor(r)}),d=void 0,g=void 0,v=void 0;d=g=v=0;var m=!0,w=!1,b=void 0;try{for(var p,M=pt()(i);!(m=(p=M.next()).done);m=!0){var j=p.value,y=!0,I=!1,O=void 0;try{for(var k,x=pt()(n);!(y=(k=x.next()).done);y=!0){var D=k.value,A=c(j,r)*c(D,e);d+=u.data[o(~~D,~~j,0)]*A,g+=u.data[o(~~D,~~j,1)]*A,v+=u.data[o(~~D,~~j,2)]*A}}catch(C){I=!0,O=C}finally{try{y||null==x.return||x.return()}finally{if(I)throw O}}}}catch(C){w=!0,b=C}finally{try{m||null==M.return||M.return()}finally{if(w)throw b}}s.data[h(l,t,0)]=~~d,s.data[h(l,t,1)]=~~g,s.data[h(l,t,2)]=~~v,s.data[h(l,t,3)]=255},v=0;v<i;v++)g(v);d.putImageData(s,0,0)}}]),a}(z),ga=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=t.getContext("2d");r.drawImage(a,0,0,a.width,a.height);for(var n=r.getImageData(0,0,a.width,a.height),i=r.createImageData(a.width,a.height),h=0;h<n.data.length;h+=4)i.data[h]=i.data[h+1]=i.data[h+2]=e(n.data[h],n.data[h+1],n.data[h+2]),i.data[h+3]=255;this.showMessage("",!0,!0);for(var o=1;o<=32;o*=2){t.width=a.width,t.height=a.height,r.putImageData(i,0,0),this.bilinear(t,1/o),this.bilinear(t,o);var c=t.toDataURL();this.showMessage('<img src="'.concat(c,'"/>'),!0)}}},{key:"bilinear",value:function(t,a){var e=t.width,r=t.height,n=t.width*a,i=t.height*a,h=function(t,a,e){return t=Math.min(Math.max(t,0),n-1),a=Math.min(Math.max(a,0),i-1),a*n*4+4*t+e},o=function(t,a,n){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*r*4+4*t+n},c=function(t,a){var e=Math.abs(t-a);return e>1?0:1-e},d=t.getContext("2d"),u=d.getImageData(0,0,e,r),s=d.createImageData(n,i);t.width=n,t.height=i;for(var f=[0,1],l=0;l<n;l++)for(var g=function(t){var e=l/a,r=t/a,n=f.map(function(t){return t+Math.floor(e)}),i=f.map(function(t){return t+Math.floor(r)}),d=void 0,g=void 0,v=void 0;d=g=v=0;var m=!0,w=!1,b=void 0;try{for(var p,M=pt()(i);!(m=(p=M.next()).done);m=!0){var j=p.value,y=!0,I=!1,O=void 0;try{for(var k,x=pt()(n);!(y=(k=x.next()).done);y=!0){var D=k.value,A=c(j,r)*c(D,e);d+=u.data[o(~~D,~~j,0)]*A,g+=u.data[o(~~D,~~j,1)]*A,v+=u.data[o(~~D,~~j,2)]*A}}catch(C){I=!0,O=C}finally{try{y||null==x.return||x.return()}finally{if(I)throw O}}}}catch(C){w=!0,b=C}finally{try{m||null==M.return||M.return()}finally{if(w)throw b}}s.data[h(l,t,0)]=~~d,s.data[h(l,t,1)]=~~g,s.data[h(l,t,2)]=~~v,s.data[h(l,t,3)]=255},v=0;v<i;v++)g(v);d.putImageData(s,0,0)}}]),a}(z),va=e("75fc"),ma=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=function(t,a){for(var e=[],r=0;r<t.length;r++)e.push(t[r]-a[r]);return e},n=function(t,a){for(var e=[],r=0;r<t.length;r++)e.push(t[r]+a[r]);return e},i=function(t){return Math.abs(t)},h=t.getContext("2d");t.width=a.width,t.height=a.height;var o=[];h.drawImage(a,0,0,a.width,a.height);for(var c=h.getImageData(0,0,a.width,a.height),d=h.createImageData(a.width,a.height),u=0;u<c.data.length;u+=4)d.data[u]=d.data[u+1]=d.data[u+2]=e(c.data[u],c.data[u+1],c.data[u+2]),d.data[u+3]=255;for(var s=1;s<=32;s*=2){t.width=a.width,t.height=a.height,h.putImageData(d,0,0),this.bilinear(t,1/s),this.bilinear(t,s);for(var f=h.getImageData(0,0,t.width,t.height),l=[],g=0;g<f.data.length;g+=4)l.push(f.data[g]);o.push(l)}var v=r(o[0],o[1]).map(i);v=n(v,r(o[0],o[3]).map(i)),v=n(v,r(o[0],o[5]).map(i)),v=n(v,r(o[1],o[4]).map(i)),v=n(v,r(o[2],o[3]).map(i)),v=n(v,r(o[3],o[5]).map(i));for(var m=Math.max.apply(Math,Object(va["a"])(v)),w=h.createImageData(t.width,t.height),b=0,p=0;b<w.data.length;b+=4,p++)w.data[b]=w.data[b+1]=w.data[b+2]=Math.round(v[p]/m*255),w.data[b+3]=255;h.putImageData(w,0,0)}},{key:"bilinear",value:function(t,a){var e=t.width,r=t.height,n=t.width*a,i=t.height*a,h=function(t,a,e){return t=Math.min(Math.max(t,0),n-1),a=Math.min(Math.max(a,0),i-1),a*n*4+4*t+e},o=function(t,a,n){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*r*4+4*t+n},c=function(t,a){var e=Math.abs(t-a);return e>1?0:1-e},d=t.getContext("2d"),u=d.getImageData(0,0,e,r),s=d.createImageData(n,i);t.width=n,t.height=i;for(var f=[0,1],l=0;l<n;l++)for(var g=function(t){var e=l/a,r=t/a,n=f.map(function(t){return t+Math.floor(e)}),i=f.map(function(t){return t+Math.floor(r)}),d=void 0,g=void 0,v=void 0;d=g=v=0;var m=!0,w=!1,b=void 0;try{for(var p,M=pt()(i);!(m=(p=M.next()).done);m=!0){var j=p.value,y=!0,I=!1,O=void 0;try{for(var k,x=pt()(n);!(y=(k=x.next()).done);y=!0){var D=k.value,A=c(j,r)*c(D,e);d+=u.data[o(~~D,~~j,0)]*A,g+=u.data[o(~~D,~~j,1)]*A,v+=u.data[o(~~D,~~j,2)]*A}}catch(C){I=!0,O=C}finally{try{y||null==x.return||x.return()}finally{if(I)throw O}}}}catch(C){w=!0,b=C}finally{try{m||null==M.return||M.return()}finally{if(w)throw b}}s.data[h(l,t,0)]=~~d,s.data[h(l,t,1)]=~~g,s.data[h(l,t,2)]=~~v,s.data[h(l,t,3)]=255},v=0;v<i;v++)g(v);d.putImageData(s,0,0)}}]),a}(z),wa=function(t){function a(){var t;return Object(O["a"])(this,a),t=Object(x["a"])(this,Object(D["a"])(a).call(this)),t.kSize=111,t}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t){for(var a=this.kSize,e=function(t,e){return t=Math.min(Math.max(t,0),a-1),e=Math.min(Math.max(e,0),a-1),e*a+t},r=function(t){var a=0;return t.forEach(function(t){a+=t}),a},n=10,i=1.2,h=10,o=0,c=0,d=~~(a/2),u=new Array(a*a).fill(0),s=0;s<a;s++)for(var f=0;f<a;f++){var l=f-d,g=s-d,v=c/180*Math.PI,m=Math.cos(v)*l+Math.sin(v)*g,w=-Math.sin(v)*l+Math.cos(v)*g;u[e(f,s)]=Math.exp(-(Math.pow(m,2)+Math.pow(i,2)*Math.pow(w,2))/(2*Math.pow(n,2)))*Math.cos(2*Math.PI*m/h+o)}var b=r(u.slice().map(Math.abs));u=u.slice().map(function(t){return t/b});var p=Math.min.apply(Math,Object(va["a"])(u));u=u.map(function(t){return t-p});var M=Math.max.apply(Math,Object(va["a"])(u));u=u.map(function(t){return t/M*255});var j=t.getContext("2d");t.width=t.height=a;for(var y=j.createImageData(a,a),I=0,O=0;I<y.data.length;I+=4,O++)y.data[I]=y.data[I+1]=y.data[I+2]=u[O],y.data[I+3]=255;j.putImageData(y,0,0)}}]),a}(E),ba=function(t){function a(){var t;return Object(O["a"])(this,a),t=Object(x["a"])(this,Object(D["a"])(a).call(this)),Object(_["a"])(Object(D["a"])(a.prototype),"setTemplate",Object(C["a"])(t)).call(Object(C["a"])(t),M),t.kSize=111,t}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"_initObject",value:function(t){var a=this,e=t.$refs["canvas1"];e.width=e.height=this.kSize,t.$refs["button-run"].addEventListener("click",function(){a.main(e)})}},{key:"main",value:function(t){var a=this.kSize,e=t.getContext("2d"),r=[0,45,90,135];for(var n in r){var i=this.gabor({kSize:a,sigma:10,gamma:1.2,lambda:10,psi:1,angle:r[n]});t.width=t.height=a;for(var h=e.createImageData(a,a),o=0,c=0;o<h.data.length;o+=4,c++)h.data[o]=h.data[o+1]=h.data[o+2]=i[c],h.data[o+3]=255;e.putImageData(h,0,0);var d=t.toDataURL();this.showMessage('<img src="'.concat(d,'"/> deg : ').concat(r[n]),!0)}}},{key:"gabor",value:function(t){for(var a=t.kSize,e=function(t,e){return t=Math.min(Math.max(t,0),a-1),e=Math.min(Math.max(e,0),a-1),e*a+t},r=function(t){var a=0;return t.forEach(function(t){a+=t}),a},n=t.sigma,i=t.gamma,h=t.lambda,o=t.psi,c=t.angle,d=~~(a/2),u=new Array(a*a).fill(0),s=0;s<a;s++)for(var f=0;f<a;f++){var l=f-d,g=s-d,v=c/180*Math.PI,m=Math.cos(v)*l+Math.sin(v)*g,w=-Math.sin(v)*l+Math.cos(v)*g;u[e(f,s)]=Math.exp(-(Math.pow(m,2)+Math.pow(i,2)*Math.pow(w,2))/(2*Math.pow(n,2)))*Math.cos(2*Math.PI*m/h+o)}var b=r(u.slice().map(Math.abs));u=u.slice().map(function(t){return t/b});var p=Math.min.apply(Math,Object(va["a"])(u));u=u.map(function(t){return t-p});var M=Math.max.apply(Math,Object(va["a"])(u));return u=u.map(function(t){return t/M*255}),u}}]),a}(q),pa=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=this,r=function(t,a,e){return.2126*t+.7152*a+.0722*e},n=t.getContext("2d"),i=a.width,h=a.height;n.drawImage(a,0,0,a.width,a.height);for(var o=n.createImageData(a.width,a.height),c=n.getImageData(0,0,a.width,a.height),d=new Array(h*i).fill(0),u=0,s=0;u<o.data.length;u+=4,s++){var f=r(c.data[u],c.data[u+1],c.data[u+2]);o.data[u]=o.data[u+1]=o.data[u+2]=f,o.data[u+3]=255,d[s]=f}n.putImageData(o,0,0);var l=11,g=[0,45,90,135],v=function(a){var r=e.getGaborKernel({kSize:l,sigma:1.5,gamma:1.2,lambda:3,psi:0,angle:g[a]}),c=new Array(h*i);e.adaptKernel(d,c,i,h,r);var u=Math.max.apply(Math,Object(va["a"])(c));c=c.map(function(t){return t=t/u*255,t>255?255:t<0?0:Math.floor(t)});for(var s=0,f=0;s<o.data.length;s+=4,f++)o.data[s]=o.data[s+1]=o.data[s+2]=c[f];n.putImageData(o,0,0);var v=t.toDataURL();e.showMessage('<img src="'.concat(v,'"/> deg : ').concat(g[a]),!0)};for(var m in g)v(m)}},{key:"getGaborKernel",value:function(t){for(var a=t.kSize,e=function(t,e){return t=Math.min(Math.max(t,0),a-1),e=Math.min(Math.max(e,0),a-1),e*a+t},r=function(t){var a=0;return t.forEach(function(t){a+=t}),a},n=t.sigma,i=t.gamma,h=t.lambda,o=t.psi,c=t.angle,d=~~(a/2),u=new Array(a*a).fill(0),s=0;s<a;s++)for(var f=0;f<a;f++){var l=f-d,g=s-d,v=c/180*Math.PI,m=Math.cos(v)*l+Math.sin(v)*g,w=-Math.sin(v)*l+Math.cos(v)*g;u[e(f,s)]=Math.exp(-(Math.pow(m,2)+Math.pow(i,2)*Math.pow(w,2))/(2*Math.pow(n,2)))*Math.cos(2*Math.PI*m/h+o)}var b=r(u.slice().map(Math.abs));u=u.slice().map(function(t){return t/b});for(var p=[],M=0;M<a;M++){for(var j=[],y=0;y<a;y++)j.push(u[M*a+y]);p.push(j)}return p}},{key:"adaptKernel",value:function(t,a,e,r,n){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=n.length,c=Math.floor(o/2),d=0;d<e;d++)for(var u=0;u<r;u++){for(var s=0,f=0;f<o;f++)for(var l=0;l<o;l++){var g=f-c,v=l-c,m=h(d+v,u+g);s+=n[f][l]*t[m]}var w=h(d,u);null!=i?(s=i(s),void 0!==s&&(a[w]=s)):a[w]=s}}}]),a}(z),Ma=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).apply(this,arguments))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=function(t,a,e){return.2126*t+.7152*a+.0722*e},r=function(t,a){for(var e=[],r=0;r<t.length;r++)e.push(t[r]+a[r]);return e},n=t.getContext("2d"),i=a.width,h=a.height;n.drawImage(a,0,0,a.width,a.height);for(var o=n.createImageData(a.width,a.height),c=n.getImageData(0,0,a.width,a.height),d=new Array(h*i).fill(0),u=0,s=0;u<o.data.length;u+=4,s++){var f=e(c.data[u],c.data[u+1],c.data[u+2]);o.data[u]=o.data[u+1]=o.data[u+2]=f,o.data[u+3]=255,d[s]=f}n.putImageData(o,0,0);var l=11,g=[0,45,90,135],v=new Array(d.length).fill(0);for(var m in g){var w=this.getGaborKernel({kSize:l,sigma:1.5,gamma:1.2,lambda:3,psi:0,angle:g[m]}),b=new Array(h*i);this.adaptKernel(d,b,i,h,w),v=r(v,b)}var p=Math.max.apply(Math,Object(va["a"])(v));v=v.map(function(t){return t=t/p*255,t>255?255:t<0?0:Math.floor(t)});for(var M=0,j=0;M<o.data.length;M+=4,j++)o.data[M]=o.data[M+1]=o.data[M+2]=v[j];n.putImageData(o,0,0)}},{key:"getGaborKernel",value:function(t){for(var a=t.kSize,e=function(t,e){return t=Math.min(Math.max(t,0),a-1),e=Math.min(Math.max(e,0),a-1),e*a+t},r=function(t){var a=0;return t.forEach(function(t){a+=t}),a},n=t.sigma,i=t.gamma,h=t.lambda,o=t.psi,c=t.angle,d=~~(a/2),u=new Array(a*a).fill(0),s=0;s<a;s++)for(var f=0;f<a;f++){var l=f-d,g=s-d,v=c/180*Math.PI,m=Math.cos(v)*l+Math.sin(v)*g,w=-Math.sin(v)*l+Math.cos(v)*g;u[e(f,s)]=Math.exp(-(Math.pow(m,2)+Math.pow(i,2)*Math.pow(w,2))/(2*Math.pow(n,2)))*Math.cos(2*Math.PI*m/h+o)}var b=r(u.slice().map(Math.abs));u=u.slice().map(function(t){return t/b});for(var p=[],M=0;M<a;M++){for(var j=[],y=0;y<a;y++)j.push(u[M*a+y]);p.push(j)}return p}},{key:"adaptKernel",value:function(t,a,e,r,n){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=n.length,c=Math.floor(o/2),d=0;d<e;d++)for(var u=0;u<r;u++){for(var s=0,f=0;f<o;f++)for(var l=0;l<o;l++){var g=f-c,v=l-c,m=h(d+v,u+g);s+=n[f][l]*t[m]}var w=h(d,u);null!=i?(s=i(s),void 0!==s&&(a[w]=s)):a[w]=s}}}]),a}(z),ja=function(t){function a(){var t;return Object(O["a"])(this,a),t=Object(x["a"])(this,Object(D["a"])(a).call(this)),t.setSrcImage(b.srcImage.thorino),t}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=a.width,r=a.height,n=function(t,a,e){return.2126*t+.7152*a+.0722*e},i=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},h=[[1,2,1],[0,0,0],[-1,-2,-1]],o=[[1,0,-1],[2,0,-2],[1,0,-1]],c=t.getContext("2d");c.drawImage(a,0,0,a.width,a.height);for(var d=c.createImageData(a.width,a.height),u=c.getImageData(0,0,a.width,a.height),s=new Array(r*e).fill(0),f=new Array(r*e).fill(0),l=new Array(r*e).fill(0),g=new Array(r*e).fill(0),v=new Array(r*e).fill(0),m=new Array(r*e).fill(0),w=new Array(r*e).fill(0),b=0,p=0;b<d.data.length;b+=4,p++){var M=n(u.data[b],u.data[b+1],u.data[b+2]);d.data[b]=d.data[b+1]=d.data[b+2]=M,d.data[b+3]=255,s[p]=M}c.putImageData(d,0,0),this.adaptKernel(s,l,e,r,h,function(t,a){return~~a/t.length}),this.adaptKernel(s,f,e,r,o,function(t,a){return~~a/t.length});for(var j=0;j<f.length;j++)m[j]=f[j]*l[j],g[j]=Math.pow(f[j],2),v[j]=Math.pow(l[j],2);for(var y=0;y<e;y++)for(var I=0;I<r;I++)w[i(y,I)]=g[i(y,I)]*v[i(y,I)]-Math.pow(m[i(y,I)],2);for(var O=0;O<e;O++)for(var k=0;k<r;k++){var x=[w[i(O-1,k-1)],w[i(O,k-1)],w[i(O+1,k-1)],w[i(O-1,k)],w[i(O,k)],w[i(O+1,k)],w[i(O-1,k+1)],w[i(O,k+1)],w[i(O+1,k+1)]],D=Math.max.apply(Math,x);w[i(O,k)]===D&&w[i(O,k)]>.1*Math.max.apply(Math,Object(va["a"])(w))&&(c.beginPath(),c.fillStyle="rgb(192, 80, 77)",c.arc(O,k,2,0,2*Math.PI,!1),c.fill())}}},{key:"adaptKernel",value:function(t,a,e,r,n){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=n.length,c=Math.floor(o/2),d=0;d<e;d++)for(var u=0;u<r;u++){for(var s=0,f=[],l=0;l<o;l++)for(var g=0;g<o;g++){var v=l-c,m=g-c,w=h(d+m,u+v);s+=n[l][g]*t[w],f.push(n[l][g]*t[w])}var b=h(d,u);null!=i?(s=i(f,s),void 0!==s&&(a[b]=s)):a[b]=s}}}]),a}(z),ya=function(t){function a(){var t;return Object(O["a"])(this,a),t=Object(x["a"])(this,Object(D["a"])(a).call(this)),t.setSrcImage(b.srcImage.thorino),t}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=this,r=a.width,n=a.height,i=function(t,a,e){return.2126*t+.7152*a+.0722*e},h=function(t){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=Math.min.apply(Math,Object(va["a"])(t)),r=Math.max.apply(Math,Object(va["a"])(t))-e,n=[],i=0;i<t.length;i++){var h=Math.floor(t[i]/r*255);a&&(h=a(h)),n.push(h)}return n},o=[[1,2,1],[0,0,0],[-1,-2,-1]],c=[[1,0,-1],[2,0,-2],[1,0,-1]],d=this.getGaussianKernel(3,3),u=t.getContext("2d");u.drawImage(a,0,0,a.width,a.height);for(var s=u.createImageData(a.width,a.height),f=u.getImageData(0,0,a.width,a.height),l=at()(new Array(10),function(){return new Array(n*r).fill(0)}),g=Object(xt["a"])(l,10),v=g[0],m=g[1],w=g[2],b=g[3],p=g[4],M=g[5],j=(g[6],g[7]),y=g[8],I=g[9],O=0,k=0;O<s.data.length;O+=4,k++){var x=i(f.data[O],f.data[O+1],f.data[O+2]);s.data[O]=s.data[O+1]=s.data[O+2]=x,s.data[O+3]=255,v[k]=x}u.putImageData(s,0,0),this.adaptKernel(v,w,r,n,o),this.adaptKernel(v,m,r,n,c);for(var D=0;D<m.length;D++)j[D]=Math.pow(m[D],2),y[D]=Math.pow(w[D],2),I[D]=m[D]*w[D];this.adaptKernel(j,b,r,n,d),this.adaptKernel(y,p,r,n,d),this.adaptKernel(I,M,r,n,d);var A=[{data:h(b),label:"Ix^2"},{data:h(p),label:"Iy^2"},{data:h(M,function(t){return t+128}),label:"IxIy"}];A.forEach(function(a){for(var r=0,n=0;r<s.data.length;r+=4,n++)s.data[r]=s.data[r+1]=s.data[r+2]=a.data[n];u.putImageData(s,0,0);var i=t.toDataURL();e.showMessage("<strong>".concat(a.label,'</strong><br><img src="').concat(i,'"/>'),!0)})}},{key:"getGaussianKernel",value:function(t,a){for(var e=function(t,a,e){return Math.exp(-(Math.pow(t,2)+Math.pow(a,2))/(2*Math.pow(e,2)))},r=0,n=at()(new Array(t),function(){return new Array(t).fill(0)}),i=0;i<t;i++)for(var h=0;h<t;h++){var o=h-~~(t/2),c=i-~~(t/2),d=e(o,c,a);n[i][h]=d,n[i][h]/=a*Math.sqrt(2*Math.PI),r+=n[i][h]}for(var u=0;u<t;u++)for(var s=0;s<t;s++)n[u][s]/=r;return n}},{key:"adaptKernel",value:function(t,a,e,r,n){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=n.length,c=Math.floor(o/2),d=0;d<e;d++)for(var u=0;u<r;u++){for(var s=0,f=[],l=0;l<o;l++)for(var g=0;g<o;g++){var v=l-c,m=g-c,w=h(d+m,u+v);s+=n[l][g]*t[w],f.push(n[l][g]*t[w])}var b=h(d,u);null!=i?(s=i(f,s),void 0!==s&&(a[b]=s)):a[b]=s}}}]),a}(z),Ia=function(t){function a(){var t;return Object(O["a"])(this,a),t=Object(x["a"])(this,Object(D["a"])(a).call(this)),t.setSrcImage(b.srcImage.thorino),t}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t,a){var e=a.width,r=a.height,n=function(t,a,e){return.2126*t+.7152*a+.0722*e},i=[[1,2,1],[0,0,0],[-1,-2,-1]],h=[[1,0,-1],[2,0,-2],[1,0,-1]],o=.04,c=.1,d=this.getGaussianKernel(3,3),u=t.getContext("2d");u.drawImage(a,0,0,a.width,a.height);for(var s=u.createImageData(a.width,a.height),f=u.getImageData(0,0,a.width,a.height),l=at()(new Array(10),function(){return new Array(r*e).fill(0)}),g=Object(xt["a"])(l,10),v=g[0],m=g[1],w=g[2],b=g[3],p=g[4],M=g[5],j=g[6],y=g[7],I=g[8],O=g[9],k=0,x=0;k<s.data.length;k+=4,x++){var D=n(f.data[k],f.data[k+1],f.data[k+2]);s.data[k]=s.data[k+1]=s.data[k+2]=D,s.data[k+3]=255,v[x]=D}u.putImageData(s,0,0),this.adaptKernel(v,w,e,r,i),this.adaptKernel(v,m,e,r,h);for(var A=0;A<m.length;A++)j[A]=Math.pow(m[A],2),y[A]=Math.pow(w[A],2),I[A]=m[A]*w[A];this.adaptKernel(j,b,e,r,d),this.adaptKernel(y,p,e,r,d),this.adaptKernel(I,M,e,r,d);for(var C=0;C<M.length;C++)O[C]=b[C]*p[C]-Math.pow(M[C],2)-o*Math.pow(b[C]+p[C],2);for(var S=Math.max.apply(Math,Object(va["a"])(O))*c,_=0;_<O.length;_++)if(O[_]>S){var K=_%e,P=Math.ceil(_/e);u.beginPath(),u.fillStyle="rgb(192, 80, 77)",u.arc(K,P,2,0,2*Math.PI,!1),u.fill()}}},{key:"getGaussianKernel",value:function(t,a){for(var e=function(t,a,e){return Math.exp(-(Math.pow(t,2)+Math.pow(a,2))/(2*Math.pow(e,2)))},r=0,n=at()(new Array(t),function(){return new Array(t).fill(0)}),i=0;i<t;i++)for(var h=0;h<t;h++){var o=h-~~(t/2),c=i-~~(t/2),d=e(o,c,a);n[i][h]=d,n[i][h]/=a*Math.sqrt(2*Math.PI),r+=n[i][h]}for(var u=0;u<t;u++)for(var s=0;s<t;s++)n[u][s]/=r;return n}},{key:"adaptKernel",value:function(t,a,e,r,n){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,h=function(t,a){return t=Math.min(Math.max(t,0),e-1),a=Math.min(Math.max(a,0),r-1),a*e+t},o=n.length,c=Math.floor(o/2),d=0;d<e;d++)for(var u=0;u<r;u++){for(var s=0,f=[],l=0;l<o;l++)for(var g=0;g<o;g++){var v=l-c,m=g-c,w=h(d+m,u+v);s+=n[l][g]*t[w],f.push(n[l][g]*t[w])}var b=h(d,u);null!=i?(s=i(f,s),void 0!==s&&(a[b]=s)):a[b]=s}}}]),a}(z),Oa=(e("28a5"),function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).call(this))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t){for(var a=this,e=function(t){return t.split("/").reverse()[0]},r=b.dataset.train.sort(),n=function(n){var i=new Image;i.src=r[n],i.addEventListener("load",function(){var h=a.getHistogram(t,i);t.height=200,L.renderHistogram(t,h);var o=t.toDataURL();a.showMessage("\n          <strong>".concat(e(r[n]),"</strong>\n          <img src='").concat(o,"' style='height:200px;width:450px;'><img src='").concat(r[n],"'>\n        ")),t.style.width=t.style.height=0})},i=0;i<r.length;i++)n(i)}},{key:"getHistogram",value:function(t,a){var e,r,n=function(t){return t=F()(Math.floor(t/255*3),10),t},i=t.getContext("2d");e=t.width=a.width,r=t.height=a.height,i.drawImage(a,0,0,e,r);for(var h=i.getImageData(0,0,e,r),o=i.createImageData(e,r),c=new Array(12).fill(0),d=0;d<o.data.length;d+=4)for(var u=0;u<3;u++){var s=d+u,f=n(h.data[s]);c[4*u+f]++}return c}}]),a}(E)),ka=(e("c5f6"),function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).call(this))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t){for(var a=this,e=function(t){return t.split("/").reverse()[0]},r=function(t,a){for(var e=[],r=0;r<t.length;r++)e.push(Math.abs(t[r]-a[r]));return e},n=function(t){var a=0;return t.forEach(function(t){a+=t}),a},i=function(){for(var r="",n=0;n<o.length;n++)r+=" <img src='".concat(o[n],"'> ");r+="\n".concat(o.map(function(t){return e(t)}).join(" "),"\n");for(var i=0;i<h.length;i++)r+=" <img src='".concat(h[i],"'> ");r+="\n".concat(h.map(function(t){return e(t)}).join(" "),"\n"),a.showMessage(r),t.style.width=t.style.height=0},h=b.dataset.train.sort(),o=b.dataset.tests.sort(),c=h.length+o.length,d=new Array(h.lengt),u=new Array(o.lengt),s=function(){if(c--,!(c>0)){for(var t=0;t<u.length;t++){for(var s=u[t],f=Number.MAX_VALUE,l=0,g=0;g<d.length;g++){var v=d[g],m=r(s,v),w=n(m);w<f&&(f=w,l=g)}a.showMessage("\n        <img src='".concat(o[t],"'> <img src='").concat(h[l],"'>\n        ").concat(e(o[t])," is similar >> ").concat(e(h[l]),"  Pred >> ").concat(e(h[l]).split("_")[1],"\n        "))}i()}},f=function(e){var r=new Image;r.src=h[e],r.addEventListener("load",function(){var n=a.getHistogram(t,r);d[e]=n,s()})},l=0;l<h.length;l++)f(l);var g=function(e){var r=new Image;r.src=o[e],r.addEventListener("load",function(){var n=a.getHistogram(t,r);u[e]=n,s()})};for(l=0;l<o.length;l++)g(l)}},{key:"getHistogram",value:function(t,a){var e,r,n=function(t){return t=F()(Math.floor(t/255*3),10),t},i=t.getContext("2d");e=t.width=a.width,r=t.height=a.height,i.drawImage(a,0,0,e,r);for(var h=i.getImageData(0,0,e,r),o=i.createImageData(e,r),c=new Array(12).fill(0),d=0;d<o.data.length;d+=4)for(var u=0;u<3;u++){var s=d+u,f=n(h.data[s]);c[4*u+f]++}return c}}]),a}(E)),xa=function(t){function a(){return Object(O["a"])(this,a),Object(x["a"])(this,Object(D["a"])(a).call(this))}return Object(A["a"])(a,t),Object(k["a"])(a,[{key:"main",value:function(t){for(var a=this,e=function(t){return t.split("/").reverse()[0]},r=function(t,a){for(var e=[],r=0;r<t.length;r++)e.push(Math.abs(t[r]-a[r]));return e},n=function(t){var a=0;return t.forEach(function(t){a+=t}),a},i=function(){for(var r="",n=0;n<o.length;n++)r+=" <img src='".concat(o[n],"'> ");r+="\n".concat(o.map(function(t){return e(t)}).join(" "),"\n");for(var i=0;i<h.length;i++)r+=" <img src='".concat(h[i],"'> ");r+="\n".concat(h.map(function(t){return e(t)}).join(" "),"\n"),a.showMessage(r),t.style.width=t.style.height=0},h=b.dataset.train.sort(),o=b.dataset.tests.sort(),c=h.length+o.length,d=new Array(h.lengt),u=new Array(o.lengt),s=function(){if(c--,!(c>0)){for(var t=0,s=0;s<u.length;s++){for(var f=u[s],l=Number.MAX_VALUE,g=0,v=0;v<d.length;v++){var m=d[v],w=r(f,m),b=n(w);b<l&&(l=b,g=v)}a.showMessage("<img src='".concat(o[s],"'> <img src='").concat(h[g],"'>\n          ").concat(e(o[s])," is similar >> ").concat(e(h[g]),"  Pred >> ").concat(e(h[g]).split("_")[1])),e(h[g]).split("_")[1]===e(o[s]).split("_")[1]&&t++}a.showMessage("Accuracy >> ".concat(t/u.length," (").concat(t," / ").concat(u.length,")")),i()}},f=function(e){var r=new Image;r.src=h[e],r.addEventListener("load",function(){var n=a.getHistogram(t,r);d[e]=n,s()})},l=0;l<h.length;l++)f(l);var g=function(e){var r=new Image;r.src=o[e],r.addEventListener("load",function(){var n=a.getHistogram(t,r);u[e]=n,s()})};for(l=0;l<o.length;l++)g(l)}},{key:"getHistogram",value:function(t,a){var e,r,n=function(t){return t=F()(Math.floor(t/255*3),10),t},i=t.getContext("2d");e=t.width=a.width,r=t.height=a.height,i.drawImage(a,0,0,e,r);for(var h=i.getImageData(0,0,e,r),o=i.createImageData(e,r),c=new Array(12).fill(0),d=0;d<o.data.length;d+=4)for(var u=0;u<3;u++){var s=d+u,f=n(h.data[s]);c[4*u+f]++}return c}}]),a}(E),Da={ans1:new H,ans2:new Q,ans3:new R,ans4:new J,ans5:new B,ans6:new X,ans7:new Y,ans8:new W,ans9:new et,ans10:new rt,ans11:new nt,ans12:new it,ans13:new ht,ans14:new ot,ans15:new ct,ans16:new dt,ans17:new ut,ans18:new st,ans20:new ft,ans21:new lt,ans22:new gt,ans23:new vt,ans24:new mt,ans25:new wt,ans26:new Mt,ans27:new jt,ans28:new yt,ans29:new kt,ans30:new Dt,ans31:new At,ans32:new Ct,ans33:new St,ans34:new _t,ans35:new Kt,ans36:new Pt,ans37:new Et,ans38:new zt,ans39:new $t,ans40:new Gt,ans41:new Nt,ans42:new Ut,ans43:new Ht,ans44:new Tt,ans47:new Ft,ans48:new Qt,ans49:new Rt,ans50:new Jt,ans51:new Bt,ans52:new Zt,ans53:new Vt,ans54:new Xt,ans55:new Yt,ans56:new Wt,ans57:new ta,ans58:new aa,ans59:new ea,ans60:new ra,ans61:new na,ans62:new ia,ans63:new ha,ans64:new oa,ans65:new ca,ans70:new da,ans71:new ua,ans72:new sa,ans73:new fa,ans74:new la,ans75:new ga,ans76:new ma,ans77:new wa,ans78:new ba,ans79:new pa,ans80:new Ma,ans81:new ja,ans82:new ya,ans83:new Ia,ans84:new Oa,ans85:new ka,ans86:new xa},Aa=function(t,a){return r["a"].component(t,{name:t,data:function(){return{srcImages:b.srcImageOption,selected:""}},methods:{setImage:function(){a.setSrcImage(this.selected),a._initObject(this)}},mounted:function(){a.init(this),a._initObject(this)},template:'\n    <div>\n      <div style="width=100%;text-align:right">\n        <select v-model="selected" v-on:change="setImage()">\n          <option v-for="option in srcImages" v-bind:value="option.src" >\n            {{ option.label }}\n          </option>\n        </select>\n      </div>\n      <div style="width=100%;text-align:center">\n        '.concat(a.getTemplate(),"\n      </div>\n    </div>")})},Ca=function(){for(var t={},a=1;a<=100;a++){var e="ans".concat(a),n=Da[e];Da[e]?t[e]=Aa(e,n):t[e]=r["a"].component(e,{template:'\n        <div style="width=100%;text-align:center">\n          '.concat(p,"\n        </div>")})}return t}(),Sa={ans1:{title:"チャンネル入れ替え",desc:"画像を読み込み、RGBをBGRの順に入れ替える。左の画像が入力画像。右の画像が処理後の画像。"},ans2:{title:"グレースケール",desc:"画像の輝度表現方法の一種であり次の式で計算される。\n    <code>Y = 0.2126 R + 0.7152 G + 0.0722 B</code>"},ans3:{title:"二値化",desc:"グレースケールに変換された画像の各画素の値が閾値未満であれば0、閾値以上であれば255に変換する。ここで閾値は128としている。"},ans4:{title:"大津の二値化",desc:""},ans5:{title:"HSV変換",desc:"出力画像は色相Hを反転(180を加算)し、RGB画像に変換したものである。"},ans6:{title:"減色処理",desc:"出力画像は[32, 96, 160, 224]の4色に減色したものである。"},ans7:{title:"平均プーリング",desc:"出力画像は8x8にグリッド分割された平均プーリングである"},ans8:{title:"Maxプーリング",desc:""},ans9:{title:"ガウシアンフィルタ",desc:"出力画像は、3x3かつ標準偏差1.3のカーネルを用いて平滑化されたものである。"},ans10:{title:"メディアンフィルタ",desc:"入力画像の注目画素の3x3の中央値を利用している。"},ans11:{title:"平滑化フィルタ",desc:"フィルタは次式を用いている。\n<pre><code>[[1/3, 0, 0],\n[0, 1/3, 0],\n[0, 0, 1/3]]</code></pre>"},ans12:{title:"モーションフィルタ",desc:""},ans13:{title:"MAX-MINフィルタ",desc:""},ans14:{title:"微分フィルタ",desc:""},ans15:{title:"Sobelフィルタ",desc:""},ans16:{title:"Prewittフィルタ",desc:""},ans17:{title:"Laplacianフィルタ",desc:""},ans18:{title:"Embossフィルタ",desc:""},ans19:{title:"LoGフィルタ",desc:""},ans20:{title:"ヒストグラム表示",desc:""},ans21:{title:"ヒストグラム正規化",desc:""},ans22:{title:"ヒストグラム操作",desc:""},ans23:{title:"ヒストグラム平坦化",desc:""},ans24:{title:"ガンマ補正",desc:""},ans25:{title:"最近傍補間",desc:""},ans26:{title:"Bi-linear補間",desc:""},ans27:{title:"Bi-cubic補間",desc:""},ans28:{title:"アフィン変換(平行移動)",desc:""},ans29:{title:"アフィン変換(拡大縮小)",desc:""},ans30:{title:"アフィン変換(回転)",desc:""},ans31:{title:"アフィン変換(スキュー)",desc:""},ans32:{title:"フーリエ変換",desc:"※結果算出までの時間が環境によっては1分以上かかります"},ans33:{title:"フーリエ変換 ローパスフィルタ",desc:"※結果算出までの時間が環境によっては1分以上かかります"},ans34:{title:"フーリエ変換 ハイパスフィルタ",desc:"※結果算出までの時間が環境によっては1分以上かかります"},ans35:{title:"フーリエ変換 バンドパスフィルタ",desc:"※結果算出までの時間が環境によっては1分以上かかります"},ans36:{title:"JPEG圧縮 (Step.1)離散コサイン変換",desc:""},ans37:{title:"PSNR",desc:""},ans38:{title:"JPEG圧縮 (Step.2)DCT+量子化",desc:""},ans39:{title:"JPEG圧縮 (Step.3)YCbCr表色系",desc:""},ans40:{title:"JPEG圧縮 (Step.4)YCbCr+DCT+量子化",desc:""},ans41:{title:"Cannyエッジ検出 (Step.1) エッジ強度",desc:""},ans42:{title:"Cannyエッジ検出 (Step.2) 細線化",desc:""},ans43:{title:"Cannyエッジ検出 (Step.3) ヒステリシス閾処理",desc:""},ans44:{title:"Hough変換・直線検出 (Step.1) Hough変換",desc:""},ans45:{title:"Hough変換・直線検出 (Step.2) NMS",desc:""},ans46:{title:"Hough変換・直線検出 (Step.3) Hough逆変換",desc:""},ans47:{title:"モルフォロジー処理(膨張)",desc:""},ans48:{title:"モルフォロジー処理(収縮)",desc:""},ans49:{title:"オープニング処理",desc:""},ans50:{title:"クロージング処理",desc:""},ans51:{title:"モルフォロジー勾配",desc:""},ans52:{title:"トップハット変換",desc:""},ans53:{title:"ブラックハット変換",desc:""},ans54:{title:"テンプレートマッチング SSD",desc:""},ans55:{title:"テンプレートマッチング SAD",desc:""},ans56:{title:"テンプレートマッチング NCC",desc:""},ans57:{title:"テンプレートマッチング ZNCC",desc:""},ans58:{title:"ラベリング 4近傍",desc:""},ans59:{title:"ラベリング 8近傍",desc:""},ans60:{title:"アルファブレンド",desc:""},ans61:{title:"4-連結数",desc:""},ans62:{title:"8-連結数",desc:""},ans63:{title:"細線化処理",desc:""},ans64:{title:"ヒルディッチの細線化",desc:""},ans65:{title:"Zhang-Suenの細線化",desc:""},ans70:{title:"カラートラッキング",desc:""},ans71:{title:"マスキング",desc:""},ans72:{title:"マスキング(カラートラッキング＋モルフォロジー)",desc:""},ans73:{title:"縮小と拡大",desc:""},ans74:{title:"ピラミッド差分による高周波成分の抽出",desc:""},ans75:{title:"ガウシアンピラミッド",desc:""},ans76:{title:"顕著性マップ",desc:""},ans77:{title:"ガボールフィルタ",desc:""},ans78:{title:"ガボールフィルタの回転",desc:""},ans79:{title:"ガボールフィルタによるエッジ抽出",desc:""},ans80:{title:"ガボールフィルタによる特徴抽出",desc:""},ans81:{title:"Hessianのコーナー検出",desc:""},ans82:{title:"Harrisのコーナー検出 (Step.1) Sobel + Gauusian",desc:""},ans83:{title:"Harrisのコーナー検出 (Step.2) コーナー検出",desc:""},ans84:{title:"簡単な画像認識 (Step.1) 減色化 + ヒストグラム",desc:""},ans85:{title:"簡単な画像認識 (Step.2) クラス判別",desc:""},ans86:{title:"簡単な画像認識 (Step.3) 評価(Accuracy)",desc:""}},_a="/questions/",Ka=[];for(var Pa in Ca)Ka.push({path:_a+Pa,name:Pa,title:Sa[Pa]?Sa[Pa].title:"",desc:Sa[Pa]?Sa[Pa].desc:"",component:Ca[Pa]});var La=Ka,qa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{domProps:{innerHTML:t._s(t.questionLinks)}})])},Ea=[],za=(e("b54a"),e("7f7f"),{name:"Question",beforeRouteUpdate:function(t,a,e){window.scrollTo(0,0),e()},data:function(){return{questionLinks:""}},methods:{makeLinkList:function(){for(var t=function(t){var a=t.name.split("ans").join("");return{seq:a,title:t.title,link:"#"+t.path}},a=La,e="",r=0;r<a.length;r+=20){for(var n="",i=r;i<r+10;i++){var h=t(a[i]),o=t(a[i+10]);n+="<tr>\n            <td>Q.".concat(h.seq,' <a href="').concat(h.link,'"> ').concat(h.title,"</a></td>\n            <td>Q.").concat(o.seq,' <a href="').concat(o.link,'"> ').concat(o.title,"</a></td>\n          </tr>")}n='<table class="question-table">'.concat(n,"</table>"),e+="<h3>Q.".concat(r+1," 〜 Q.").concat(r+20,"</h3>"),e+=n}this.questionLinks=e}},created:function(){this.makeLinkList()}}),$a=za,Ga=(e("eba9"),Object(c["a"])($a,qa,Ea,!1,null,null,null)),Na=Ga.exports,Ua={name:"List",components:{QuestionList:Na},data:function(){return{questionLinks:La}}},Ha=Ua,Ta=(e("969a"),Object(c["a"])(Ha,f,l,!1,null,"1ffb23fc",null)),Fa=Ta.exports,Qa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("h2",[t._v("概要")]),e("a",{attrs:{href:"https://github.com/yoyoyo-yo/Gasyori100knock"}},[t._v("画像処理100本ノック")]),t._v("\n  を\n  JavaScriptで解いてみました。\n  "),e("h2",[t._v("問題一覧")]),e("router-link",{staticClass:"questions-link",attrs:{to:"/list"}},[t._v("\n    問題一覧ページへ\n  ")]),e("h2",[t._v("GitHub")]),t._m(0),e("h2",[t._v("参考")]),t._m(1)],1)},Ra=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/s-yoshiki/Gasyori100knockJS"}},[t._v("\n        Gasyori100knockJS - 画像処理100本ノックJS\n      ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("blockquote",[t._v("\n    yoyoyo-yo. Gasyori100knock(画像処理100本ノック) \n    "),e("br"),e("a",{attrs:{href:"https://github.com/yoyoyo-yo/Gasyori100knock"}},[t._v("https://github.com/yoyoyo-yo/Gasyori100knock")]),e("br"),t._v("\n    2019\n  ")])}],Ja={name:"Root"},Ba=Ja,Za=(e("6dcf"),Object(c["a"])(Ba,Qa,Ra,!1,null,null,null)),Va=Za.exports,Xa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("br"),e("h3",[t._v(t._s("Q"+t.screenSeq+"."+t.title))]),e("div",{domProps:{innerHTML:t._s(t.description)}}),e("br"),e("div",{ref:"main",staticClass:"main"},[e("router-view")],1),e("br"),e("div",{staticClass:"boxContainer"},[e("div",{staticClass:"box"},[e("a",{attrs:{href:t.pageNation.last},on:{click:function(a){return t.movePage()}}},[t._v(t._s(t.pageNation.lastLabel)+" ")])]),e("div",{staticClass:"box"},[e("a",{attrs:{href:t.pageNation.next},on:{click:function(a){return t.movePage()}}},[t._v(t._s(t.pageNation.nextLabel)+" ")])])]),e("br"),e("hr"),e("div",{staticClass:"blog-area"},[e("p",[e("button",{ref:"blog-button",on:{click:function(a){t.blogFrame=!t.blogFrame}}},[t._v("\n        埋め込みコード取得\n        "),t.blogFrame?e("span",[t._v("▲")]):e("span",[t._v("▼")])])]),t.blogFrame?e("div",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.blogFrameUrl,expression:"blogFrameUrl"}],staticClass:"inline-code",domProps:{value:t.blogFrameUrl},on:{input:function(a){a.target.composing||(t.blogFrameUrl=a.target.value)}}})]):e("div")]),e("QuestionList")],1)},Ya=[],Wa={name:"Question",components:{QuestionList:Na},beforeRouteUpdate:function(t,a,e){this.init(),window.scrollTo(0,0),e()},data:function(){return{title:"",description:"",screenId:"",screenSeq:"",pageNation:{next:"",nextLabel:"",last:"",lastLabel:""},blogFrame:!1,blogFrameUrl:""}},methods:{init:function(t){if(t)this.screenId="ans"+t,this.screenSeq=t;else{var a=new URL(location.href);this.screenId=a.hash.split("/").pop(),this.screenSeq=Number(this.screenId.split("ans").join(""))}1<=this.screenSeq&&this.screenSeq<=100||(location.href="#/list"),this.makeDescription(),this.makePage()},movePage:function(){this.init()},makePage:function(){if(this.screenSeq>1){var t=this.screenSeq-1,a="",e="ans"+Number(t);Sa[e]&&(a=Sa[e].title),this.pageNation.last="#/questions/ans".concat(t),this.pageNation.lastLabel="Q.".concat(t," ")+a}else this.pageNation.lastLabel="";if(this.screenSeq<100){var r=this.screenSeq+1,n="",i="ans"+Number(r);Sa[i]&&(n=Sa[i].title),this.pageNation.next="#/questions/ans".concat(r),this.pageNation.nextLabel="Q.".concat(r," ")+n}else this.pageNation.nextLabel="";this.blogFrameUrl='<iframe src="'.concat(location.href,'/iframe" style="width:100%;height:300px;"></iframe>')},makeDescription:function(){if(!Sa[this.screenId])return this.title="",void(this.description="");this.title=Sa[this.screenId].title,this.description=Sa[this.screenId].desc}},created:function(){this.init()}},te=Wa,ae=(e("33a8"),Object(c["a"])(te,Xa,Ya,!1,null,null,null)),ee=ae.exports,re=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h3",[t._v(t._s("Q"+t.screenSeq+"."+t.title))]),e("div",{domProps:{innerHTML:t._s(t.description)}}),e("br"),e("div",{ref:"main",staticClass:"main"},[e("router-view")],1),e("div",[e("router-link",{attrs:{to:"/"}},[t._v("画像処理100本ノック")])],1)])},ne=[],ie={name:"Question",data:function(){return{title:"",description:"",screenId:"",screenSeq:""}},methods:{init:function(t){if(t)this.screenId="ans"+t,this.screenSeq=t;else{var a=new URL(location.href),e=a.hash.split("/");e.pop(),this.screenId=e.pop(),this.screenSeq=Number(this.screenId.split("ans").join(""))}1<=this.screenSeq&&this.screenSeq<=100||(location.href="#/list"),this.makeDescription()},makeDescription:function(){if(!Sa[this.screenId])return this.title="",void(this.description="");this.title=Sa[this.screenId].title,this.description=Sa[this.screenId].desc}},created:function(){this.init()}},he=ie,oe=(e("15ff"),Object(c["a"])(he,re,ne,!1,null,null,null)),ce=oe.exports,de="/questions/",ue=[];for(var se in Ca)ue.push({path:de+se+"/iframe",name:se+"_iframe",title:Sa[se]?Sa[se].title:"",desc:Sa[se]?Sa[se].desc:"",component:Ca[se]});var fe=ue,le=[{path:"/",name:"root",component:Va},{path:"/list",name:"List",component:Fa},{path:"/questions/:id",name:"Question",component:ee,children:[]},{path:"/questions/:id/:iframe",name:"Questioniframe",component:ce,children:[]}];La.forEach(function(t){le[2].children.push(t)}),fe.forEach(function(t){le[3].children.push(t)}),r["a"].use(s["a"]);var ge=new s["a"]({routes:le}),ve=e("0284"),me=e.n(ve);r["a"].config.productionTip=!1,r["a"].use(me.a,{id:"UA-103231688-4",router:ge}),new r["a"]({el:"#app",router:ge,components:{App:u},template:"<App/>"})},"64a9":function(t,a,e){},"6dcf":function(t,a,e){"use strict";var r=e("8bcc"),n=e.n(r);n.a},"8bcc":function(t,a,e){},"969a":function(t,a,e){"use strict";var r=e("b0ec"),n=e.n(r);n.a},b0ec:function(t,a,e){},b0f4:function(t,a,e){},eba9:function(t,a,e){"use strict";var r=e("b0f4"),n=e.n(r);n.a},f6d3:function(t,a,e){}});
//# sourceMappingURL=app.653917d9.js.map